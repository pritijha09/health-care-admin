{"version":3,"file":"ngx-loading-bar-router.umd.js","sources":["ng:/@ngx-loading-bar/router/router.module.ts"],"names":["router","NavigationStart","NavigationError","NavigationEnd","NavigationCancel","NgModule","RouterModule","LoadingBarModule","Router","LoadingBarService"],"mappings":";;;;;;;;;;AAAA;AACoB,QAclB,gCAAYA,SAAc,EAAE,UAA6B;AAC3D,YADE,iBAeC;AACH,YAfIA,SAAM,CAAC,MAAM,CAAC,SAAS,CAAC,UAAA,KAAK;AAAI;AACN,oBAAnB,KAAK,GAAG,KAAI,CAAC,yBAAyB,CAACA,SAAM,CAAC;AAC1D,gBAAM,IAAI,KAAK,IAAI,KAAK,CAAC,gBAAgB,EAAE;AAC3C,oBAAQ,OAAO;AACf,iBAAO;AACP,gBACM,IAAI,KAAK,YAAYC,sBAAe,EAAE;AAC5C,oBAAQ,UAAU,CAAC,KAAK,EAAE,CAAC;AAC3B,iBAAO;AACP,gBACM,KAAK,KAAK,YAAYC,sBAAe,IAAI,KAAK,YAAYC,oBAAa,IAAI,KAAK,YAAYC,uBAAgB,GAAG;AACrH,oBAAQ,UAAU,CAAC,QAAQ,EAAE,CAAC;AAC9B,iBAAO;AACP,aAAK,CAAC,CAAC;AACP,SAAG;AACH;AACW;AAAoB;AACtB;AAAuB;AAAY,QADlC,0DAAyB;AAAO;AAC/B;AAA6B;AACvC;AAAY,YAFX,UAAkCJ,SAAW;AAC/C;AACY;AAAiC,oBAAnC,iBAAiB,GAAGA,SAAM,CAAC,oBAAoB,IAAIA,SAAM,CAAC,oBAAoB,EAAE;AAC1F,gBAAI,IAAI,iBAAiB,IAAI,iBAAiB,CAAC,MAAM,EAAE;AACvD,oBAAM,OAAO,iBAAiB,CAAC,MAAM,CAAC,KAAK,CAAC;AAC5C,iBAAK;AACL,gBACI,OAAO,EAAE,CAAC;AACd,aAAG,CA1BU;AAAC;uCAVbK,aAAQ,SAAC,7DAWP;AACD;IAXA,OAAO,EAAE,bAWY,wBAfAG,aAAM;EAKzBF,mBAAY,rBALiB,wBACNG,wBAAiB;AAKxCF,AAL2C;QAK3B,RAL0C;wBAM3D,0BACD,OAAO,EAAE;AACPD,mBAAY,8BACZC,uBAAgB,2BACjB,uBACF;;;;;;;;;;;;;;;;;2GAXuE;AAAC,QAuCzE,6BAAC;AACA,KAtCD;AAAK;AAAC;AACJ;AAEO;AAOiB;AAAQ;AAAC;AAC9B;AAAsC;AAEG;AAAQ;AAAC;AAE5C;AAAC;AAIJ;AAAC;;AAvBA,AAeA,AAAAP,AAAA,AAAA,AAAA,AAAA,AAeA,AAdAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AACA,AAEA,AAAA,AAAA,AAAAC,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAEA,AAAA,AAAA,AAAAC,AAAA,AAAA,AAAA,AAAAC,AAAA,AAAA,AAAA,AAAAC,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AACA,AAAA,AAAA,AACA,AAEA,AAAA,AAAA,AAAAJ,AAAA,AAEA,AAAA,AAAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAEA,AAAA,AAAA,AAAA,AACA,AApCAK,AAAA,AAAA,AACA,AAAA,AAAA,AACAC,AAAA,AACAC,AAAA,AACA,AACA,AAAA,AAAA,AACAD,AAAA,AACAC,AAAA,AACA,AACA,AAZAC,AAAA,AACAC,AAAA,AAuCA,AAAA,AArCA","sourcesContent":["import { NgModule } from '@angular/core';\nimport { RouterModule, Router, NavigationStart, NavigationError, NavigationEnd, NavigationCancel } from '@angular/router';\nimport { LoadingBarModule, LoadingBarService } from '@ngx-loading-bar/core';\n\n@NgModule({\n  imports: [\n    RouterModule,\n    LoadingBarModule,\n  ],\n  exports: [\n    RouterModule,\n    LoadingBarModule,\n  ],\n})\nexport class LoadingBarRouterModule {\n  constructor(router: Router, loadingBar: LoadingBarService) {\n    router.events.subscribe(event => {\n      const state = this.getCurrentNavigationState(router);\n      if (state && state.ignoreLoadingBar) {\n        return;\n      }\n\n      if (event instanceof NavigationStart) {\n        loadingBar.start();\n      }\n\n      if ((event instanceof NavigationError || event instanceof NavigationEnd || event instanceof NavigationCancel)) {\n        loadingBar.complete();\n      }\n    });\n  }\n\n  private getCurrentNavigationState(router: any) {\n    // `getCurrentNavigation` only available in angular `7.2`\n    const currentNavigation = router.getCurrentNavigation && router.getCurrentNavigation();\n    if (currentNavigation && currentNavigation.extras) {\n      return currentNavigation.extras.state;\n    }\n\n    return {};\n  }\n}\n"]}