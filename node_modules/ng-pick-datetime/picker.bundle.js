!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/common"),require("@angular/animations"),require("@angular/forms")):"function"==typeof define&&define.amd?define(["exports","@angular/core","@angular/common","@angular/animations","@angular/forms"],t):t(e["ng-pick-datetime"]={},e.vendor._angular_core,e.vendor._angular_common,e.vendor._angular_animations,e.vendor._angular_forms)}(this,function(e,t,n,i,r){"use strict";var o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function s(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function a(e){return"function"==typeof e}var c=!1,l={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){var t=new Error;t.stack}c=e},get useDeprecatedSynchronousErrorHandling(){return c}};function u(e){setTimeout(function(){throw e})}var p={closed:!0,next:function(e){},error:function(e){if(l.useDeprecatedSynchronousErrorHandling)throw e;u(e)},complete:function(){}},h=Array.isArray||function(e){return e&&"number"==typeof e.length};function d(e){return null!=e&&"object"==typeof e}var f,m={e:{}};function y(){try{return f.apply(this,arguments)}catch(e){return m.e=e,m}}function g(e){return f=e,y}function b(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}b.prototype=Object.create(Error.prototype);var v=b,_=function(){function e(e){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}var t;return e.prototype.unsubscribe=function(){var e,t=!1;if(!this.closed){var n=this._parent,i=this._parents,r=this._unsubscribe,o=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var s=-1,c=i?i.length:0;n;)n.remove(this),n=++s<c&&i[s]||null;if(a(r))g(r).call(this)===m&&(t=!0,e=e||(m.e instanceof v?w(m.e.errors):[m.e]));if(h(o))for(s=-1,c=o.length;++s<c;){var l=o[s];if(d(l))if(g(l.unsubscribe).call(l)===m){t=!0,e=e||[];var u=m.e;u instanceof v?e=e.concat(w(u.errors)):e.push(u)}}if(t)throw new v(e)}},e.prototype.add=function(t){if(!t||t===e.EMPTY)return e.EMPTY;if(t===this)return this;var n=t;switch(typeof t){case"function":n=new e(t);case"object":if(n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if("function"!=typeof n._addParent){var i=n;(n=new e)._subscriptions=[i]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(n),n._addParent(this),n},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},e.prototype._addParent=function(e){var t=this._parent,n=this._parents;t&&t!==e?n?-1===n.indexOf(e)&&n.push(e):this._parents=[e]:this._parent=e},e.EMPTY=((t=new e).closed=!0,t),e}();function w(e){return e.reduce(function(e,t){return e.concat(t instanceof v?t.errors:t)},[])}var O="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),k=function(e){function t(n,i,r){var o=e.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,o._parentSubscription=null,arguments.length){case 0:o.destination=p;break;case 1:if(!n){o.destination=p;break}if("object"==typeof n){n instanceof t?(o.syncErrorThrowable=n.syncErrorThrowable,o.destination=n,n.add(o)):(o.syncErrorThrowable=!0,o.destination=new C(o,n));break}default:o.syncErrorThrowable=!0,o.destination=new C(o,n,i,r)}return o}return s(t,e),t.prototype[O]=function(){return this},t.create=function(e,n,i){var r=new t(e,n,i);return r.syncErrorThrowable=!1,r},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parent,t=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=e,this._parents=t,this._parentSubscription=null,this},t}(_),C=function(e){function t(t,n,i,r){var o,s=e.call(this)||this;s._parentSubscriber=t;var c=s;return a(n)?o=n:n&&(o=n.next,i=n.error,r=n.complete,n!==p&&(a((c=Object.create(n)).unsubscribe)&&s.add(c.unsubscribe.bind(c)),c.unsubscribe=s.unsubscribe.bind(s))),s._context=c,s._next=o,s._error=i,s._complete=r,s}return s(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;l.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,n=l.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):u(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;u(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};l.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){if(this.unsubscribe(),l.useDeprecatedSynchronousErrorHandling)throw e;u(e)}},t.prototype.__tryOrSetError=function(e,t,n){if(!l.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(t){return l.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=t,e.syncErrorThrown=!0,!0):(u(t),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(k);var T="function"==typeof Symbol&&Symbol.observable||"@@observable";function S(){}var D=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var i=this.operator,r=function(e,t,n){if(e){if(e instanceof k)return e;if(e[O])return e[O]()}return e||t||n?new k(e,t,n):new k(p)}(e,t,n);if(i?i.call(r,this.source):r.add(this.source||l.useDeprecatedSynchronousErrorHandling&&!r.syncErrorThrowable?this._subscribe(r):this._trySubscribe(r)),l.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable&&(r.syncErrorThrowable=!1,r.syncErrorThrown))throw r.syncErrorValue;return r},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){l.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),!function(e){for(;e;){var t=e,n=t.closed,i=t.destination,r=t.isStopped;if(n||r)return!1;e=i&&i instanceof k?i:null}return!0}(e)?console.warn(t):e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=I(t))(function(t,i){var r;r=n.subscribe(function(t){try{e(t)}catch(e){i(e),r&&r.unsubscribe()}},i,t)})},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[T]=function(){return this},e.prototype.pipe=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return 0===t.length?this:((e=t)?1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)}:S)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=I(e))(function(e,n){var i;t.subscribe(function(e){return i=e},function(e){return n(e)},function(){return e(i)})})},e.create=function(t){return new e(t)},e}();function I(e){if(e||(e=l.Promise||Promise),!e)throw new Error("no Promise impl found");return e}function M(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}M.prototype=Object.create(Error.prototype);var E=M,x=function(e){function t(t,n){var i=e.call(this)||this;return i.subject=t,i.subscriber=n,i.closed=!1,i}return s(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},t}(_),A=function(e){function t(t){var n=e.call(this,t)||this;return n.destination=t,n}return s(t,e),t}(k),P=function(e){function t(){var t=e.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return s(t,e),t.prototype[O]=function(){return new A(this)},t.prototype.lift=function(e){var t=new j(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new E;if(!this.isStopped)for(var t=this.observers,n=t.length,i=t.slice(),r=0;r<n;r++)i[r].next(e)},t.prototype.error=function(e){if(this.closed)throw new E;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,i=t.slice(),r=0;r<n;r++)i[r].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new E;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),i=0;i<t;i++)n[i].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new E;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new E;return this.hasError?(e.error(this.thrownError),_.EMPTY):this.isStopped?(e.complete(),_.EMPTY):(this.observers.push(e),new x(this,e))},t.prototype.asObservable=function(){var e=new D;return e.source=this,e},t.create=function(e,t){return new j(e,t)},t}(D),j=function(e){function t(t,n){var i=e.call(this)||this;return i.destination=t,i.source=n,i}return s(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):_.EMPTY},t}(P);var R=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.scheduler=t,i.work=n,i.pending=!1,i}return s(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(i,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n=!1,i=void 0;try{this.work(e)}catch(e){n=!0,i=!!e&&e||new Error(e)}if(n)return this.unsubscribe(),i},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,n=t.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(function(e){function t(t,n){return e.call(this)||this}return s(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(_)),V=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.scheduler=t,i.work=n,i}return s(t,e),t.prototype.schedule=function(t,n){return void 0===n&&(n=0),n>0?e.prototype.schedule.call(this,t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,n){return n>0||this.closed?e.prototype.execute.call(this,t,n):this._execute(t,n)},t.prototype.requestAsyncId=function(t,n,i){return void 0===i&&(i=0),null!==i&&i>0||null===i&&this.delay>0?e.prototype.requestAsyncId.call(this,t,n,i):t.flush(this)},t}(R),F=function(){function e(t,n){void 0===n&&(n=e.now),this.SchedulerAction=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(n,t)},e.now=function(){return Date.now()},e}(),L=function(e){function t(n,i){void 0===i&&(i=F.now);var r=e.call(this,n,function(){return t.delegate&&t.delegate!==r?t.delegate.now():i()})||this;return r.actions=[],r.active=!1,r.scheduled=void 0,r}return s(t,e),t.prototype.schedule=function(n,i,r){return void 0===i&&(i=0),t.delegate&&t.delegate!==this?t.delegate.schedule(n,i,r):e.prototype.schedule.call(this,n,i,r)},t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(F),B=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t}(L))(V),N=new D(function(e){return e.complete()});function Y(e){return e?(t=e,new D(function(e){return t.schedule(function(){return e.complete()})})):N;var t}function H(e){return e&&"function"==typeof e.schedule}var z=function(e){return function(t){for(var n=0,i=e.length;n<i&&!t.closed;n++)t.next(e[n]);t.closed||t.complete()}};function W(e,t){return new D(t?function(n){var i=new _,r=0;return i.add(t.schedule(function(){r!==e.length?(n.next(e[r++]),n.closed||i.add(this.schedule())):n.complete()})),i}:z(e))}function Z(e){var t=new D(function(t){t.next(e),t.complete()});return t._isScalar=!0,t.value=e,t}function X(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];switch(H(n)?e.pop():n=void 0,e.length){case 0:return Y(n);case 1:return n?W(e,n):Z(e[0]);default:return W(e,n)}}function $(e){var t=e.error;e.subscriber.error(t)}var K=function(){function e(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}return e.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},e.prototype.do=function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}},e.prototype.accept=function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)},e.prototype.toObservable=function(){var e,t;switch(this.kind){case"N":return X(this.value);case"E":return e=this.error,new D(t?function(n){return t.schedule($,0,{error:e,subscriber:n})}:function(t){return t.error(e)});case"C":return Y()}throw new Error("unexpected notification kind value")},e.createNext=function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}(),U=function(e){function t(t,n,i){void 0===i&&(i=0);var r=e.call(this,t)||this;return r.scheduler=n,r.delay=i,r}return s(t,e),t.dispatch=function(e){var t=e.notification,n=e.destination;t.observe(n),this.unsubscribe()},t.prototype.scheduleMessage=function(e){this.destination.add(this.scheduler.schedule(t.dispatch,this.delay,new G(e,this.destination)))},t.prototype._next=function(e){this.scheduleMessage(K.createNext(e))},t.prototype._error=function(e){this.scheduleMessage(K.createError(e)),this.unsubscribe()},t.prototype._complete=function(){this.scheduleMessage(K.createComplete()),this.unsubscribe()},t}(k),G=function(){return function(e,t){this.notification=e,this.destination=t}}(),q=function(e){function t(t,n,i){void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY);var r=e.call(this)||this;return r.scheduler=i,r._events=[],r._infiniteTimeWindow=!1,r._bufferSize=t<1?1:t,r._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(r._infiniteTimeWindow=!0,r.next=r.nextInfiniteTimeWindow):r.next=r.nextTimeWindow,r}return s(t,e),t.prototype.nextInfiniteTimeWindow=function(t){var n=this._events;n.push(t),n.length>this._bufferSize&&n.shift(),e.prototype.next.call(this,t)},t.prototype.nextTimeWindow=function(t){this._events.push(new J(this._getNow(),t)),this._trimBufferThenGetEvents(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){var t,n=this._infiniteTimeWindow,i=n?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,o=i.length;if(this.closed)throw new E;if(this.isStopped||this.hasError?t=_.EMPTY:(this.observers.push(e),t=new x(this,e)),r&&e.add(e=new U(e,r)),n)for(var s=0;s<o&&!e.closed;s++)e.next(i[s]);else for(s=0;s<o&&!e.closed;s++)e.next(i[s].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t},t.prototype._getNow=function(){return(this.scheduler||B).now()},t.prototype._trimBufferThenGetEvents=function(){for(var e=this._getNow(),t=this._bufferSize,n=this._windowTime,i=this._events,r=i.length,o=0;o<r&&!(e-i[o].time<n);)o++;return r>t&&(o=Math.max(o,r-t)),o>0&&i.splice(0,o),i},t}(P),J=function(){return function(e,t){this.time=e,this.value=t}}();var Q=new L(R),ee=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.scheduler=t,i.work=n,i}return s(t,e),t.prototype.requestAsyncId=function(t,n,i){return void 0===i&&(i=0),null!==i&&i>0?e.prototype.requestAsyncId.call(this,t,n,i):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(function(){return t.flush(null)})))},t.prototype.recycleAsyncId=function(t,n,i){if(void 0===i&&(i=0),null!==i&&i>0||null===i&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,n,i);0===t.actions.length&&(cancelAnimationFrame(n),t.scheduled=void 0)},t}(R),te=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,i=-1,r=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++i<r&&(e=n.shift()));if(this.active=!1,t){for(;++i<r&&(e=n.shift());)e.unsubscribe();throw t}},t}(L))(ee);function ne(e){return e}function ie(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}ie.prototype=Object.create(Error.prototype);var re=ie;function oe(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}oe.prototype=Object.create(Error.prototype);function se(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new ae(e,t))}}var ae=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new ce(e,this.project,this.thisArg))},e}(),ce=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.project=n,r.count=0,r.thisArg=i||r,r}return s(t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(k),le=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t.prototype.notifyNext=function(e,t,n,i,r){this.destination.next(t)},t.prototype.notifyError=function(e,t){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(k),ue=function(e){function t(t,n,i){var r=e.call(this)||this;return r.parent=t,r.outerValue=n,r.outerIndex=i,r.index=0,r}return s(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(k),pe=function(e){return function(t){return e.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,u),t}};var he=function(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}(),de=function(e){return function(t){for(var n=e[he]();;){var i=n.next();if(i.done){t.complete();break}if(t.next(i.value),t.closed)break}return"function"==typeof n.return&&t.add(function(){n.return&&n.return()}),t}},fe=function(e){return function(t){var n=e[T]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(t)}},me=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function ye(e){return e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}var ge=function(e){if(e instanceof D)return function(t){return e._isScalar?(t.next(e.value),void t.complete()):e.subscribe(t)};if(e&&"function"==typeof e[T])return fe(e);if(me(e))return z(e);if(ye(e))return pe(e);if(e&&"function"==typeof e[he])return de(e);var t=d(e)?"an invalid object":"'"+e+"'";throw new TypeError("You provided "+t+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")};function be(e,t,n,i,r){if(void 0===r&&(r=new ue(e,n,i)),!r.closed)return ge(t)(r)}function ve(e,t){if(!t)return e instanceof D?e:new D(ge(e));if(null!=e){if((a=e)&&"function"==typeof a[T])return o=e,new D((s=t)?function(e){var t=new _;return t.add(s.schedule(function(){var n=o[T]();t.add(n.subscribe({next:function(n){t.add(s.schedule(function(){return e.next(n)}))},error:function(n){t.add(s.schedule(function(){return e.error(n)}))},complete:function(){t.add(s.schedule(function(){return e.complete()}))}}))})),t}:fe(o));if(ye(e))return i=e,new D((r=t)?function(e){var t=new _;return t.add(r.schedule(function(){return i.then(function(n){t.add(r.schedule(function(){e.next(n),t.add(r.schedule(function(){return e.complete()}))}))},function(n){t.add(r.schedule(function(){return e.error(n)}))})})),t}:pe(i));if(me(e))return W(e,t);if((n=e)&&"function"==typeof n[he]||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new D(t?function(n){var i,r=new _;return r.add(function(){i&&"function"==typeof i.return&&i.return()}),r.add(t.schedule(function(){i=e[he](),r.add(t.schedule(function(){if(!n.closed){var e,t;try{var r=i.next();e=r.value,t=r.done}catch(e){return void n.error(e)}t?n.complete():(n.next(e),this.schedule())}}))})),r}:de(e))}(e,t)}var n,i,r,o,s,a;throw new TypeError((null!==e&&typeof e||e)+" is not observable")}var _e=function(){function e(e,t){void 0===t&&(t=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=t}return e.prototype.call=function(e,t){return t.subscribe(new we(e,this.project,this.concurrent))},e}(),we=function(e){function t(t,n,i){void 0===i&&(i=Number.POSITIVE_INFINITY);var r=e.call(this,t)||this;return r.project=n,r.concurrent=i,r.hasCompleted=!1,r.buffer=[],r.active=0,r.index=0,r}return s(t,e),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(e){return void this.destination.error(e)}this.active++,this._innerSub(t,e,n)},t.prototype._innerSub=function(e,t,n){var i=new ue(this,void 0,void 0);this.destination.add(i),be(this,e,t,n,i)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e,t,n,i,r){this.destination.next(t)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(le);function Oe(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),function e(t,n,i){return void 0===i&&(i=Number.POSITIVE_INFINITY),"function"==typeof n?function(r){return r.pipe(e(function(e,i){return ve(t(e,i)).pipe(se(function(t,r){return n(e,t,i,r)}))},i))}:("number"==typeof n&&(i=n),function(e){return e.lift(new _e(t,i))})}(ne,e)}function ke(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 1===e.length||2===e.length&&H(e[1])?ve(e[0]):Oe(1)(X.apply(void 0,e))}function Ce(e,t,n,i){return a(n)&&(i=n,n=void 0),i?Ce(e,t,n).pipe(se(function(e){return h(e)?i.apply(void 0,e):i(e)})):new D(function(i){!function e(t,n,i,r,o){var s;if(f=t,f&&"function"==typeof f.addEventListener&&"function"==typeof f.removeEventListener){var a=t;t.addEventListener(n,i,o),s=function(){return a.removeEventListener(n,i,o)}}else if(d=t,d&&"function"==typeof d.on&&"function"==typeof d.off){var c=t;t.on(n,i),s=function(){return c.off(n,i)}}else if(h=t,h&&"function"==typeof h.addListener&&"function"==typeof h.removeListener){var l=t;t.addListener(n,i),s=function(){return l.removeListener(n,i)}}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(var u=0,p=t.length;u<p;u++)e(t[u],n,i,r,o)}var h;var d;var f;r.add(s)}(e,t,function(e){arguments.length>1?i.next(Array.prototype.slice.call(arguments)):i.next(e)},i,n)})}function Te(e){return!h(e)&&e-parseFloat(e)+1>=0}function Se(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Number.POSITIVE_INFINITY,i=null,r=e[e.length-1];return H(r)?(i=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(n=e.pop())):"number"==typeof r&&(n=e.pop()),null===i&&1===e.length&&e[0]instanceof D?e[0]:Oe(n)(W(e,i))}function De(e){var t=e.index,n=e.period,i=e.subscriber;if(i.next(t),!i.closed){if(-1===n)return i.complete();e.index=t+1,this.schedule(e,n)}}var Ie=27;var Me=function(){function e(e){this.durationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new Ee(e,this.durationSelector))},e}(),Ee=function(e){function t(t,n){var i=e.call(this,t)||this;return i.durationSelector=n,i.hasValue=!1,i}return s(t,e),t.prototype._next=function(e){if(this.value=e,this.hasValue=!0,!this.throttled){var t=g(this.durationSelector)(e);if(t===m)this.destination.error(m.e);else{var n=be(this,t);!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}}},t.prototype.clearThrottle=function(){var e=this.value,t=this.hasValue,n=this.throttled;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),t&&(this.value=null,this.hasValue=!1,this.destination.next(e))},t.prototype.notifyNext=function(e,t,n,i){this.clearThrottle()},t.prototype.notifyComplete=function(){this.clearThrottle()},t}(le);function xe(e,t){return void 0===t&&(t=Q),n=function(){return function(e,t,n){void 0===e&&(e=0);var i=-1;return Te(t)?i=Number(t)<1?1:Number(t):H(t)&&(n=t),H(n)||(n=Q),new D(function(t){var r=Te(e)?e:+e-n.now();return n.schedule(De,r,{index:0,period:i,subscriber:t})})}(e,t)},function(e){return e.lift(new Me(n))};var n}function Ae(e,t){return void 0===t&&(t=Q),function(n){return n.lift(new Pe(e,t))}}var Pe=function(){function e(e,t){this.dueTime=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new je(e,this.dueTime,this.scheduler))},e}(),je=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.dueTime=n,r.scheduler=i,r.debouncedSubscription=null,r.lastValue=null,r.hasValue=!1,r}return s(t,e),t.prototype._next=function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Re,this.dueTime,this))},t.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},t.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var e=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}},t.prototype.clearDebounce=function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)},t}(k);function Re(e){e.debouncedNext()}function Ve(e,t){return function(n){return n.lift(new Fe(e,t))}}var Fe=function(){function e(e,t){this.compare=e,this.keySelector=t}return e.prototype.call=function(e,t){return t.subscribe(new Le(e,this.compare,this.keySelector))},e}(),Le=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.keySelector=i,r.hasKey=!1,"function"==typeof n&&(r.compare=n),r}return s(t,e),t.prototype.compare=function(e,t){return e===t},t.prototype._next=function(e){var t=e;if(this.keySelector&&(t=g(this.keySelector)(e))===m)return this.destination.error(m.e);var n=!1;if(this.hasKey){if((n=g(this.compare)(this.key,t))===m)return this.destination.error(m.e)}else this.hasKey=!0;!1===Boolean(n)&&(this.key=t,this.destination.next(e))},t}(k);function Be(e,t){return function(n){return n.lift(new Ne(e,t))}}var Ne=function(){function e(e,t){this.predicate=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new Ye(e,this.predicate,this.thisArg))},e}(),Ye=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.predicate=n,r.thisArg=i,r.count=0,r}return s(t,e),t.prototype._next=function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}t&&this.destination.next(e)},t}(k);var He=function(){function e(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}return e.prototype.call=function(e,t){return t.subscribe(new ze(e,this.nextOrObserver,this.error,this.complete))},e}(),ze=function(e){function t(t,n,i,r){var o=e.call(this,t)||this;return o._tapNext=S,o._tapError=S,o._tapComplete=S,o._tapError=i||S,o._tapComplete=r||S,a(n)?(o._context=o,o._tapNext=n):n&&(o._context=n,o._tapNext=n.next||S,o._tapError=n.error||S,o._tapComplete=n.complete||S),o}return s(t,e),t.prototype._next=function(e){try{this._tapNext.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.next(e)},t.prototype._error=function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)},t.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()},t}(k);function We(e){return function(t){return 0===e?Y():t.lift(new Ze(e))}}var Ze=function(){function e(e){if(this.total=e,this.total<0)throw new re}return e.prototype.call=function(e,t){return t.subscribe(new Xe(e,this.total))},e}(),Xe=function(e){function t(t,n){var i=e.call(this,t)||this;return i.total=n,i.count=0,i}return s(t,e),t.prototype._next=function(e){var t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))},t}(k);var $e=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new Ke(e))},e}(),Ke=function(e){function t(t){var n=e.call(this,t)||this;return n.hasPrev=!1,n}return s(t,e),t.prototype._next=function(e){this.hasPrev?this.destination.next([this.prev,e]):this.hasPrev=!0,this.prev=e},t}(k);function Ue(e,t,n){return void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===t&&(t=Number.POSITIVE_INFINITY),function(i){return i.lift((r=e,o=t,s=n,l=0,u=!1,p=!1,function(e){l++,a&&!u||(u=!1,a=new q(r,o,s),c=e.subscribe({next:function(e){a.next(e)},error:function(e){u=!0,a.error(e)},complete:function(){p=!0,a.complete()}}));var t=a.subscribe(this);return function(){l--,t.unsubscribe(),c&&0===l&&p&&c.unsubscribe()}}));var r,o,s,a,c,l,u,p}}function Ge(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){var n=e[e.length-1];H(n)?e.pop():n=null;var i=e.length;return ke(1!==i||n?i>0?W(e,n):Y(n):Z(e[0]),t)}}var qe=function(){function e(e){this.project=e}return e.prototype.call=function(e,t){return t.subscribe(new Je(e,this.project))},e}(),Je=function(e){function t(t,n){var i=e.call(this,t)||this;return i.project=n,i.index=0,i}return s(t,e),t.prototype._next=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(e){return void this.destination.error(e)}this._innerSub(t,e,n)},t.prototype._innerSub=function(e,t,n){var i=this.innerSubscription;i&&i.unsubscribe();var r=new ue(this,void 0,void 0);this.destination.add(r),this.innerSubscription=be(this,e,t,n,r)},t.prototype._complete=function(){var t=this.innerSubscription;t&&!t.closed||e.prototype._complete.call(this),this.unsubscribe()},t.prototype._unsubscribe=function(){this.innerSubscription=null},t.prototype.notifyComplete=function(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&e.prototype._complete.call(this)},t.prototype.notifyNext=function(e,t,n,i,r){this.destination.next(t)},t}(le);function Qe(e){return function(t){return t.lift(new et(e))}}var et=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){var n=new tt(e),i=be(n,this.notifier);return i&&!n.seenValue?(n.add(i),t.subscribe(n)):n},e}(),tt=function(e){function t(t){var n=e.call(this,t)||this;return n.seenValue=!1,n}return s(t,e),t.prototype.notifyNext=function(e,t,n,i,r){this.seenValue=!0,this.complete()},t.prototype.notifyComplete=function(){},t}(le);var nt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};function it(e,t){function n(){this.constructor=e}nt(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var rt,ot=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},st="undefined"!=typeof Intl&&Intl.v8BreakIterator,at=function(){function e(e){this._platformId=e,this.isBrowser=this._platformId?n.isPlatformBrowser(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!st)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}return e.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:Object,decorators:[{type:t.Optional},{type:t.Inject,args:[t.PLATFORM_ID]}]}]},e.ngInjectableDef=t.defineInjectable({factory:function(){return new e(t.inject(t.PLATFORM_ID,8))},token:e,providedIn:"root"}),e}(),ct=function(){function e(){}return e.decorators=[{type:t.NgModule}],e}();function lt(){if(null==rt&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){return rt=!0}}))}finally{rt=rt||!1}return rt}var ut,pt={NORMAL:0,NEGATED:1,INVERTED:2};function ht(){if("object"!=typeof document||!document)return pt.NORMAL;if(!ut){var e=document.createElement("div"),t=e.style;e.dir="rtl",t.height="1px",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";var n=document.createElement("div"),i=n.style;i.width="2px",i.height="1px",e.appendChild(n),document.body.appendChild(e),ut=pt.NORMAL,0===e.scrollLeft&&(e.scrollLeft=1,ut=0===e.scrollLeft?pt.NEGATED:pt.INVERTED),e.parentNode.removeChild(e)}return ut}function dt(e){return null!=e&&""+e!="false"}function ft(e,t){return void 0===t&&(t=0),n=e,isNaN(parseFloat(n))||isNaN(Number(n))?t:Number(e);var n}function mt(e){return Array.isArray(e)?e:[e]}function yt(e){return null==e?"":"string"==typeof e?e:e+"px"}pt[pt.NORMAL]="NORMAL",pt[pt.NEGATED]="NEGATED",pt[pt.INVERTED]="INVERTED";var gt=function(){function e(){}return e.prototype.create=function(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)},e.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],e.ngInjectableDef=t.defineInjectable({factory:function(){return new e},token:e,providedIn:"root"}),e}(),bt=function(){function e(e){this._mutationObserverFactory=e,this._observedElements=new Map}return e.prototype.ngOnDestroy=function(){var e=this;this._observedElements.forEach(function(t,n){return e._cleanupObserver(n)})},e.prototype.observe=function(e){var n=this,i=e instanceof t.ElementRef?e.nativeElement:e;return D.create(function(e){var t=n._observeElement(i).subscribe(e);return function(){t.unsubscribe(),n._unobserveElement(i)}})},e.prototype._observeElement=function(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{var t=new P,n=this._mutationObserverFactory.create(function(e){return t.next(e)});n&&n.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:n,stream:t,count:1})}return this._observedElements.get(e).stream},e.prototype._unobserveElement=function(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))},e.prototype._cleanupObserver=function(e){if(this._observedElements.has(e)){var t=this._observedElements.get(e),n=t.observer,i=t.stream;n&&n.disconnect(),i.complete(),this._observedElements.delete(e)}},e.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:gt}]},e.ngInjectableDef=t.defineInjectable({factory:function(){return new e(t.inject(gt))},token:e,providedIn:"root"}),e}(),vt=function(){function e(e,n,i){this._contentObserver=e,this._elementRef=n,this._ngZone=i,this.event=new t.EventEmitter,this._disabled=!1,this._currentSubscription=null}return Object.defineProperty(e.prototype,"disabled",{get:function(){return this._disabled},set:function(e){this._disabled=dt(e),this._disabled?this._unsubscribe():this._subscribe()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"debounce",{get:function(){return this._debounce},set:function(e){this._debounce=ft(e),this._subscribe()},enumerable:!0,configurable:!0}),e.prototype.ngAfterContentInit=function(){this._currentSubscription||this.disabled||this._subscribe()},e.prototype.ngOnDestroy=function(){this._unsubscribe()},e.prototype._subscribe=function(){var e=this;this._unsubscribe();var t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(function(){e._currentSubscription=(e.debounce?t.pipe(Ae(e.debounce)):t).subscribe(e.event)})},e.prototype._unsubscribe=function(){this._currentSubscription&&this._currentSubscription.unsubscribe()},e.decorators=[{type:t.Directive,args:[{selector:"[cdkObserveContent]",exportAs:"cdkObserveContent"}]}],e.ctorParameters=function(){return[{type:bt},{type:t.ElementRef},{type:t.NgZone}]},e.propDecorators={event:[{type:t.Output,args:["cdkObserveContent"]}],disabled:[{type:t.Input,args:["cdkObserveContentDisabled"]}],debounce:[{type:t.Input}]},e}(),_t=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{exports:[vt],declarations:[vt],providers:[gt]}]}],e}(),wt=" ";function Ot(e,t){return(e.getAttribute(t)||"").match(/\S+/g)||[]}var kt="cdk-describedby-message-container",Ct="cdk-describedby-message",Tt="cdk-describedby-host",St=0,Dt=new Map,It=null,Mt=function(){function e(e){this._document=e}return e.prototype.describe=function(e,t){this._canBeDescribed(e,t)&&(Dt.has(t)||this._createMessageElement(t),this._isElementDescribedByMessage(e,t)||this._addMessageReference(e,t))},e.prototype.removeDescription=function(e,t){if(this._canBeDescribed(e,t)){this._isElementDescribedByMessage(e,t)&&this._removeMessageReference(e,t);var n=Dt.get(t);n&&0===n.referenceCount&&this._deleteMessageElement(t),It&&0===It.childNodes.length&&this._deleteMessagesContainer()}},e.prototype.ngOnDestroy=function(){for(var e=this._document.querySelectorAll("["+Tt+"]"),t=0;t<e.length;t++)this._removeCdkDescribedByReferenceIds(e[t]),e[t].removeAttribute(Tt);It&&this._deleteMessagesContainer(),Dt.clear()},e.prototype._createMessageElement=function(e){var t=this._document.createElement("div");t.setAttribute("id",Ct+"-"+St++),t.appendChild(this._document.createTextNode(e)),this._createMessagesContainer(),It.appendChild(t),Dt.set(e,{messageElement:t,referenceCount:0})},e.prototype._deleteMessageElement=function(e){var t=Dt.get(e),n=t&&t.messageElement;It&&n&&It.removeChild(n),Dt.delete(e)},e.prototype._createMessagesContainer=function(){if(!It){var e=this._document.getElementById(kt);e&&e.parentNode.removeChild(e),(It=this._document.createElement("div")).id=kt,It.setAttribute("aria-hidden","true"),It.style.display="none",this._document.body.appendChild(It)}},e.prototype._deleteMessagesContainer=function(){It&&It.parentNode&&(It.parentNode.removeChild(It),It=null)},e.prototype._removeCdkDescribedByReferenceIds=function(e){var t=Ot(e,"aria-describedby").filter(function(e){return 0!=e.indexOf(Ct)});e.setAttribute("aria-describedby",t.join(" "))},e.prototype._addMessageReference=function(e,t){var n,i,r,o,s=Dt.get(t);n=e,i="aria-describedby",r=s.messageElement.id,(o=Ot(n,i)).some(function(e){return e.trim()==r.trim()})||(o.push(r.trim()),n.setAttribute(i,o.join(wt))),e.setAttribute(Tt,""),s.referenceCount++},e.prototype._removeMessageReference=function(e,t){var n,i,r,o,s=Dt.get(t);s.referenceCount--,n=e,i="aria-describedby",r=s.messageElement.id,o=Ot(n,i).filter(function(e){return e!=r.trim()}),n.setAttribute(i,o.join(wt)),e.removeAttribute(Tt)},e.prototype._isElementDescribedByMessage=function(e,t){var n=Ot(e,"aria-describedby"),i=Dt.get(t),r=i&&i.messageElement.id;return!!r&&-1!=n.indexOf(r)},e.prototype._canBeDescribed=function(e,t){return e.nodeType===this._document.ELEMENT_NODE&&null!=t&&!!(""+t).trim()},e.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:void 0,decorators:[{type:t.Inject,args:[n.DOCUMENT]}]}]},e.ngInjectableDef=t.defineInjectable({factory:function(){return new e(t.inject(n.DOCUMENT))},token:e,providedIn:"root"}),e}();new t.Optional,new t.SkipSelf,n.DOCUMENT;var Et=function(){function e(e){var n=this;this._items=e,this._activeItemIndex=-1,this._wrap=!1,this._letterKeyStream=new P,this._typeaheadSubscription=_.EMPTY,this._vertical=!0,this._skipPredicateFn=function(e){return e.disabled},this._pressedLetters=[],this.tabOut=new P,this.change=new P,e instanceof t.QueryList&&e.changes.subscribe(function(e){if(n._activeItem){var t=e.toArray().indexOf(n._activeItem);t>-1&&t!==n._activeItemIndex&&(n._activeItemIndex=t)}})}return e.prototype.skipPredicate=function(e){return this._skipPredicateFn=e,this},e.prototype.withWrap=function(e){return void 0===e&&(e=!0),this._wrap=e,this},e.prototype.withVerticalOrientation=function(e){return void 0===e&&(e=!0),this._vertical=e,this},e.prototype.withHorizontalOrientation=function(e){return this._horizontal=e,this},e.prototype.withTypeAhead=function(e){var t,n,i,r=this;if(void 0===e&&(e=200),this._items.length&&this._items.some(function(e){return"function"!=typeof e.getLabel}))throw Error("ListKeyManager items in typeahead mode must implement the `getLabel` method.");return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((t=function(e){return r._pressedLetters.push(e)},function(e){return e.lift(new He(t,n,i))}),Ae(e),Be(function(){return r._pressedLetters.length>0}),se(function(){return r._pressedLetters.join("")})).subscribe(function(e){for(var t=r._getItemsArray(),n=1;n<t.length+1;n++){var i=(r._activeItemIndex+n)%t.length,o=t[i];if(!r._skipPredicateFn(o)&&0===o.getLabel().toUpperCase().trim().indexOf(e)){r.setActiveItem(i);break}}r._pressedLetters=[]}),this},e.prototype.setActiveItem=function(e){var t=this._activeItemIndex;this.updateActiveItem(e),this._activeItemIndex!==t&&this.change.next(this._activeItemIndex)},e.prototype.onKeydown=function(e){var t=e.keyCode;switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical){this.setNextItemActive();break}return;case 38:if(this._vertical){this.setPreviousItemActive();break}return;case 39:if("ltr"===this._horizontal){this.setNextItemActive();break}if("rtl"===this._horizontal){this.setPreviousItemActive();break}return;case 37:if("ltr"===this._horizontal){this.setPreviousItemActive();break}if("rtl"===this._horizontal){this.setNextItemActive();break}return;default:return void(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t)))}this._pressedLetters=[],e.preventDefault()},Object.defineProperty(e.prototype,"activeItemIndex",{get:function(){return this._activeItemIndex},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activeItem",{get:function(){return this._activeItem},enumerable:!0,configurable:!0}),e.prototype.setFirstItemActive=function(){this._setActiveItemByIndex(0,1)},e.prototype.setLastItemActive=function(){this._setActiveItemByIndex(this._items.length-1,-1)},e.prototype.setNextItemActive=function(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)},e.prototype.setPreviousItemActive=function(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)},e.prototype.updateActiveItem=function(e){var t=this._getItemsArray(),n="number"==typeof e?e:t.indexOf(e);this._activeItemIndex=n,this._activeItem=t[n]},e.prototype.updateActiveItemIndex=function(e){this.updateActiveItem(e)},e.prototype._setActiveItemByDelta=function(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)},e.prototype._setActiveInWrapMode=function(e){for(var t=this._getItemsArray(),n=1;n<=t.length;n++){var i=(this._activeItemIndex+e*n+t.length)%t.length,r=t[i];if(!this._skipPredicateFn(r))return void this.setActiveItem(i)}},e.prototype._setActiveInDefaultMode=function(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)},e.prototype._setActiveItemByIndex=function(e,t){var n=this._getItemsArray();if(n[e]){for(;this._skipPredicateFn(n[e]);)if(!n[e+=t])return;this.setActiveItem(e)}},e.prototype._getItemsArray=function(){return this._items instanceof t.QueryList?this._items.toArray():this._items},e}(),xt=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}it(t,e),t.prototype.setActiveItem=function(t){this.activeItem&&this.activeItem.setInactiveStyles(),e.prototype.setActiveItem.call(this,t),this.activeItem&&this.activeItem.setActiveStyles()}}(Et),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._origin="program",t}it(t,e),t.prototype.setFocusOrigin=function(e){return this._origin=e,this},t.prototype.setActiveItem=function(t){e.prototype.setActiveItem.call(this,t),this.activeItem&&this.activeItem.focus(this._origin)}}(Et),function(){function e(e){this._platform=e}return e.prototype.isDisabled=function(e){return e.hasAttribute("disabled")},e.prototype.isVisible=function(e){return!!((t=e).offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)&&"visible"===getComputedStyle(e).visibility;var t},e.prototype.isTabbable=function(e){if(!this._platform.isBrowser)return!1;var t,n=function(e){try{return e.frameElement}catch(e){return null}}((t=e).ownerDocument&&t.ownerDocument.defaultView||window);if(n){var i=n&&n.nodeName.toLowerCase();if(-1===Pt(n))return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&"object"===i)return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&!this.isVisible(n))return!1}var r,o,s,a=e.nodeName.toLowerCase(),c=Pt(e);if(e.hasAttribute("contenteditable"))return-1!==c;if("iframe"===a)return!1;if("audio"===a){if(!e.hasAttribute("controls"))return!1;if(this._platform.BLINK)return!0}if("video"===a){if(!e.hasAttribute("controls")&&this._platform.TRIDENT)return!1;if(this._platform.BLINK||this._platform.FIREFOX)return!0}return("object"!==a||!this._platform.BLINK&&!this._platform.WEBKIT)&&((!this._platform.WEBKIT||!this._platform.IOS||(o=(r=e).nodeName.toLowerCase(),"text"===(s="input"===o&&r.type)||"password"===s||"select"===o||"textarea"===o))&&e.tabIndex>=0)},e.prototype.isFocusable=function(e){return function(e){if(t=e,n=t,"input"==n.nodeName.toLowerCase()&&"hidden"==t.type)return!1;var t,n;return o=e,s=o.nodeName.toLowerCase(),"input"===s||"select"===s||"button"===s||"textarea"===s||(i=e,r=i,"a"==r.nodeName.toLowerCase()&&i.hasAttribute("href"))||e.hasAttribute("contenteditable")||At(e);var i,r;var o,s}(e)&&!this.isDisabled(e)&&this.isVisible(e)},e.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:at}]},e.ngInjectableDef=t.defineInjectable({factory:function(){return new e(t.inject(at))},token:e,providedIn:"root"}),e}());function At(e){if(!e.hasAttribute("tabindex")||void 0===e.tabIndex)return!1;var t=e.getAttribute("tabindex");return"-32768"!=t&&!(!t||isNaN(parseInt(t,10)))}function Pt(e){if(!At(e))return null;var t=parseInt(e.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}var jt=function(){function e(e,t,n,i,r){void 0===r&&(r=!1),this._element=e,this._checker=t,this._ngZone=n,this._document=i,this._hasAttached=!1,this._enabled=!0,r||this.attachAnchors()}return Object.defineProperty(e.prototype,"enabled",{get:function(){return this._enabled},set:function(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this._startAnchor&&this._startAnchor.parentNode&&this._startAnchor.parentNode.removeChild(this._startAnchor),this._endAnchor&&this._endAnchor.parentNode&&this._endAnchor.parentNode.removeChild(this._endAnchor),this._startAnchor=this._endAnchor=null},e.prototype.attachAnchors=function(){var e=this;return!!this._hasAttached||(this._ngZone.runOutsideAngular(function(){e._startAnchor||(e._startAnchor=e._createAnchor(),e._startAnchor.addEventListener("focus",function(){return e.focusLastTabbableElement()})),e._endAnchor||(e._endAnchor=e._createAnchor(),e._endAnchor.addEventListener("focus",function(){return e.focusFirstTabbableElement()}))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)},e.prototype.focusInitialElementWhenReady=function(){var e=this;return new Promise(function(t){e._executeOnStable(function(){return t(e.focusInitialElement())})})},e.prototype.focusFirstTabbableElementWhenReady=function(){var e=this;return new Promise(function(t){e._executeOnStable(function(){return t(e.focusFirstTabbableElement())})})},e.prototype.focusLastTabbableElementWhenReady=function(){var e=this;return new Promise(function(t){e._executeOnStable(function(){return t(e.focusLastTabbableElement())})})},e.prototype._getRegionBoundary=function(e){for(var t=this._element.querySelectorAll("[cdk-focus-region-"+e+"], [cdkFocusRegion"+e+"], [cdk-focus-"+e+"]"),n=0;n<t.length;n++)t[n].hasAttribute("cdk-focus-"+e)?console.warn("Found use of deprecated attribute 'cdk-focus-"+e+"', use 'cdkFocusRegion"+e+"' instead. The deprecated attribute will be removed in 8.0.0.",t[n]):t[n].hasAttribute("cdk-focus-region-"+e)&&console.warn("Found use of deprecated attribute 'cdk-focus-region-"+e+"', use 'cdkFocusRegion"+e+"' instead. The deprecated attribute will be removed in 8.0.0.",t[n]);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)},e.prototype.focusInitialElement=function(){var e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");return e?(e.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",e),e.focus(),!0):this.focusFirstTabbableElement()},e.prototype.focusFirstTabbableElement=function(){var e=this._getRegionBoundary("start");return e&&e.focus(),!!e},e.prototype.focusLastTabbableElement=function(){var e=this._getRegionBoundary("end");return e&&e.focus(),!!e},e.prototype.hasAttached=function(){return this._hasAttached},e.prototype._getFirstTabbableElement=function(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;for(var t=e.children||e.childNodes,n=0;n<t.length;n++){var i=t[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[n]):null;if(i)return i}return null},e.prototype._getLastTabbableElement=function(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;for(var t=e.children||e.childNodes,n=t.length-1;n>=0;n--){var i=t[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[n]):null;if(i)return i}return null},e.prototype._createAnchor=function(){var e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e},e.prototype._toggleAnchorTabIndex=function(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")},e.prototype._executeOnStable=function(e){this._ngZone.isStable?e():this._ngZone.onStable.asObservable().pipe(We(1)).subscribe(e)},e}(),Rt=function(){function e(e,t,n){this._checker=e,this._ngZone=t,this._document=n}return e.prototype.create=function(e,t){return void 0===t&&(t=!1),new jt(e,this._checker,this._ngZone,this._document,t)},e.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:xt},{type:t.NgZone},{type:void 0,decorators:[{type:t.Inject,args:[n.DOCUMENT]}]}]},e.ngInjectableDef=t.defineInjectable({factory:function(){return new e(t.inject(xt),t.inject(t.NgZone),t.inject(n.DOCUMENT))},token:e,providedIn:"root"}),e}(),Vt=function(){function e(e,t,n){this._elementRef=e,this._focusTrapFactory=t,this._previouslyFocusedElement=null,this._document=n,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}return Object.defineProperty(e.prototype,"enabled",{get:function(){return this.focusTrap.enabled},set:function(e){this.focusTrap.enabled=dt(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"autoCapture",{get:function(){return this._autoCapture},set:function(e){this._autoCapture=dt(e)},enumerable:!0,configurable:!0}),e.prototype.ngOnDestroy=function(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)},e.prototype.ngAfterContentInit=function(){this.focusTrap.attachAnchors(),this.autoCapture&&(this._previouslyFocusedElement=this._document.activeElement,this.focusTrap.focusInitialElementWhenReady())},e.prototype.ngDoCheck=function(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()},e.decorators=[{type:t.Directive,args:[{selector:"[cdkTrapFocus]",exportAs:"cdkTrapFocus"}]}],e.ctorParameters=function(){return[{type:t.ElementRef},{type:Rt},{type:void 0,decorators:[{type:t.Inject,args:[n.DOCUMENT]}]}]},e.propDecorators={enabled:[{type:t.Input,args:["cdkTrapFocus"]}],autoCapture:[{type:t.Input,args:["cdkTrapFocusAutoCapture"]}]},e}(),Ft=new t.InjectionToken("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}});var Lt=function(){function e(e,t,n){this._ngZone=t,this._document=n,this._liveElement=e||this._createLiveElement()}return e.prototype.announce=function(e,t){var n=this;return void 0===t&&(t="polite"),this._liveElement.textContent="",this._liveElement.setAttribute("aria-live",t),this._ngZone.runOutsideAngular(function(){return new Promise(function(t){setTimeout(function(){n._liveElement.textContent=e,t()},100)})})},e.prototype.ngOnDestroy=function(){this._liveElement&&this._liveElement.parentNode&&this._liveElement.parentNode.removeChild(this._liveElement)},e.prototype._createLiveElement=function(){for(var e="cdk-live-announcer-element",t=this._document.getElementsByClassName(e),n=this._document.createElement("div"),i=0;i<t.length;i++)t[i].parentNode.removeChild(t[i]);return n.classList.add(e),n.classList.add("cdk-visually-hidden"),n.setAttribute("aria-atomic","true"),n.setAttribute("aria-live","polite"),this._document.body.appendChild(n),n},e.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:void 0,decorators:[{type:t.Optional},{type:t.Inject,args:[Ft]}]},{type:t.NgZone},{type:void 0,decorators:[{type:t.Inject,args:[n.DOCUMENT]}]}]},e.ngInjectableDef=t.defineInjectable({factory:function(){return new e(t.inject(Ft,8),t.inject(t.NgZone),t.inject(n.DOCUMENT))},token:e,providedIn:"root"}),e}(),Bt=function(){function e(e,t,n,i){this._elementRef=e,this._liveAnnouncer=t,this._contentObserver=n,this._ngZone=i,this._politeness="off"}return Object.defineProperty(e.prototype,"politeness",{get:function(){return this._politeness},set:function(e){var t=this;this._politeness="polite"===e||"assertive"===e?e:"off","off"===this._politeness?this._subscription&&(this._subscription.unsubscribe(),this._subscription=null):this._subscription||(this._subscription=this._ngZone.runOutsideAngular(function(){return t._contentObserver.observe(t._elementRef).subscribe(function(){var e=t._elementRef.nativeElement;t._liveAnnouncer.announce(e.textContent,t._politeness)})}))},enumerable:!0,configurable:!0}),e.prototype.ngOnDestroy=function(){this._subscription&&this._subscription.unsubscribe()},e.decorators=[{type:t.Directive,args:[{selector:"[cdkAriaLive]",exportAs:"cdkAriaLive"}]}],e.ctorParameters=function(){return[{type:t.ElementRef},{type:Lt},{type:bt},{type:t.NgZone}]},e.propDecorators={politeness:[{type:t.Input,args:["cdkAriaLive"]}]},e}();new t.Optional,new t.SkipSelf,new t.Optional,new t.Inject(Ft),n.DOCUMENT,t.NgZone;var Nt=function(){function e(e,t){this._ngZone=e,this._platform=t,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._unregisterGlobalListeners=function(){},this._monitoredElementCount=0}return e.prototype.monitor=function(e,t){var n=this;if(void 0===t&&(t=!1),!this._platform.isBrowser)return X(null);var i=this._getNativeElement(e);if(this._elementInfo.has(i)){var r=this._elementInfo.get(i);return r.checkChildren=t,r.subject.asObservable()}var o={unlisten:function(){},checkChildren:t,subject:new P};this._elementInfo.set(i,o),this._incrementMonitoredElementCount();var s=function(e){return n._onFocus(e,i)},a=function(e){return n._onBlur(e,i)};return this._ngZone.runOutsideAngular(function(){i.addEventListener("focus",s,!0),i.addEventListener("blur",a,!0)}),o.unlisten=function(){i.removeEventListener("focus",s,!0),i.removeEventListener("blur",a,!0)},o.subject.asObservable()},e.prototype.stopMonitoring=function(e){var t=this._getNativeElement(e),n=this._elementInfo.get(t);n&&(n.unlisten(),n.subject.complete(),this._setClasses(t),this._elementInfo.delete(t),this._decrementMonitoredElementCount())},e.prototype.focusVia=function(e,t,n){var i=this._getNativeElement(e);this._setOriginForCurrentEventQueue(t),"function"==typeof i.focus&&i.focus(n)},e.prototype.ngOnDestroy=function(){var e=this;this._elementInfo.forEach(function(t,n){return e.stopMonitoring(n)})},e.prototype._registerGlobalListeners=function(){var e=this;if(this._platform.isBrowser){var t=function(){e._lastTouchTarget=null,e._setOriginForCurrentEventQueue("keyboard")},n=function(){e._lastTouchTarget||e._setOriginForCurrentEventQueue("mouse")},i=function(t){null!=e._touchTimeoutId&&clearTimeout(e._touchTimeoutId),e._lastTouchTarget=t.target,e._touchTimeoutId=setTimeout(function(){return e._lastTouchTarget=null},650)},r=function(){e._windowFocused=!0,e._windowFocusTimeoutId=setTimeout(function(){return e._windowFocused=!1})};this._ngZone.runOutsideAngular(function(){document.addEventListener("keydown",t,!0),document.addEventListener("mousedown",n,!0),document.addEventListener("touchstart",i,!lt()||{passive:!0,capture:!0}),window.addEventListener("focus",r)}),this._unregisterGlobalListeners=function(){document.removeEventListener("keydown",t,!0),document.removeEventListener("mousedown",n,!0),document.removeEventListener("touchstart",i,!lt()||{passive:!0,capture:!0}),window.removeEventListener("focus",r),clearTimeout(e._windowFocusTimeoutId),clearTimeout(e._touchTimeoutId),clearTimeout(e._originTimeoutId)}}},e.prototype._toggleClass=function(e,t,n){n?e.classList.add(t):e.classList.remove(t)},e.prototype._setClasses=function(e,t){this._elementInfo.get(e)&&(this._toggleClass(e,"cdk-focused",!!t),this._toggleClass(e,"cdk-touch-focused","touch"===t),this._toggleClass(e,"cdk-keyboard-focused","keyboard"===t),this._toggleClass(e,"cdk-mouse-focused","mouse"===t),this._toggleClass(e,"cdk-program-focused","program"===t))},e.prototype._setOriginForCurrentEventQueue=function(e){var t=this;this._ngZone.runOutsideAngular(function(){t._origin=e,t._originTimeoutId=setTimeout(function(){return t._origin=null},1)})},e.prototype._wasCausedByTouch=function(e){var t=e.target;return this._lastTouchTarget instanceof Node&&t instanceof Node&&(t===this._lastTouchTarget||t.contains(this._lastTouchTarget))},e.prototype._onFocus=function(e,t){var n=this._elementInfo.get(t);if(n&&(n.checkChildren||t===e.target)){var i=this._origin;i||(i=this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(e)?"touch":"program"),this._setClasses(t,i),this._emitOrigin(n.subject,i),this._lastFocusOrigin=i}},e.prototype._onBlur=function(e,t){var n=this._elementInfo.get(t);!n||n.checkChildren&&e.relatedTarget instanceof Node&&t.contains(e.relatedTarget)||(this._setClasses(t),this._emitOrigin(n.subject,null))},e.prototype._emitOrigin=function(e,t){this._ngZone.run(function(){return e.next(t)})},e.prototype._incrementMonitoredElementCount=function(){1==++this._monitoredElementCount&&this._registerGlobalListeners()},e.prototype._decrementMonitoredElementCount=function(){--this._monitoredElementCount||(this._unregisterGlobalListeners(),this._unregisterGlobalListeners=function(){})},e.prototype._getNativeElement=function(e){return e instanceof t.ElementRef?e.nativeElement:e},e.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:t.NgZone},{type:at}]},e.ngInjectableDef=t.defineInjectable({factory:function(){return new e(t.inject(t.NgZone),t.inject(at))},token:e,providedIn:"root"}),e}(),Yt=function(){function e(e,n){var i=this;this._elementRef=e,this._focusMonitor=n,this.cdkFocusChange=new t.EventEmitter,this._monitorSubscription=this._focusMonitor.monitor(this._elementRef,this._elementRef.nativeElement.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(function(e){return i.cdkFocusChange.emit(e)})}return e.prototype.ngOnDestroy=function(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription.unsubscribe()},e.decorators=[{type:t.Directive,args:[{selector:"[cdkMonitorElementFocus], [cdkMonitorSubtreeFocus]"}]}],e.ctorParameters=function(){return[{type:t.ElementRef},{type:Nt}]},e.propDecorators={cdkFocusChange:[{type:t.Output}]},e}();new t.Optional,new t.SkipSelf,t.NgZone;var Ht=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{imports:[n.CommonModule,ct,_t],declarations:[Bt,Vt,Yt],exports:[Bt,Vt,Yt]}]}],e}(),zt=new t.InjectionToken("cdk-dir-doc",{providedIn:"root",factory:function(){return t.inject(n.DOCUMENT)}});var Wt=function(){function e(e){if(this.value="ltr",this.change=new t.EventEmitter,e){var n=e.body?e.body.dir:null,i=e.documentElement?e.documentElement.dir:null,r=n||i;this.value="ltr"===r||"rtl"===r?r:"ltr"}}return e.prototype.ngOnDestroy=function(){this.change.complete()},e.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:void 0,decorators:[{type:t.Optional},{type:t.Inject,args:[zt]}]}]},e.ngInjectableDef=t.defineInjectable({factory:function(){return new e(t.inject(zt,8))},token:e,providedIn:"root"}),e}(),Zt=function(){function e(){this._dir="ltr",this._isInitialized=!1,this.change=new t.EventEmitter}return Object.defineProperty(e.prototype,"dir",{get:function(){return this._dir},set:function(e){var t=this._dir;this._dir="ltr"===e||"rtl"===e?e:"ltr",t!==this._dir&&this._isInitialized&&this.change.emit(this._dir)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.dir},enumerable:!0,configurable:!0}),e.prototype.ngAfterContentInit=function(){this._isInitialized=!0},e.prototype.ngOnDestroy=function(){this.change.complete()},e.decorators=[{type:t.Directive,args:[{selector:"[dir]",providers:[{provide:Wt,useExisting:e}],host:{"[dir]":"dir"},exportAs:"dir"}]}],e.propDecorators={change:[{type:t.Output,args:["dirChange"]}],dir:[{type:t.Input}]},e}(),Xt=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{exports:[Zt],declarations:[Zt]}]}],e}(),$t=function(){return function(){}}(),Kt=function(e){function t(t){var n=e.call(this)||this;return n._data=t,n}return it(t,e),t.prototype.connect=function(){return this._data instanceof D?this._data:X(this._data)},t.prototype.disconnect=function(){},t}($t);!function(){function e(e,t,n){void 0===e&&(e=!1),void 0===n&&(n=!0);var i=this;this._multiple=e,this._emitChanges=n,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new P,this.onChange=this.changed,t&&t.length&&(e?t.forEach(function(e){return i._markSelected(e)}):this._markSelected(t[0]),this._selectedToEmit.length=0)}Object.defineProperty(e.prototype,"selected",{get:function(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected},enumerable:!0,configurable:!0}),e.prototype.select=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._verifyValueAssignment(t),t.forEach(function(t){return e._markSelected(t)}),this._emitChangeEvent()},e.prototype.deselect=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._verifyValueAssignment(t),t.forEach(function(t){return e._unmarkSelected(t)}),this._emitChangeEvent()},e.prototype.toggle=function(e){this.isSelected(e)?this.deselect(e):this.select(e)},e.prototype.clear=function(){this._unmarkAll(),this._emitChangeEvent()},e.prototype.isSelected=function(e){return this._selection.has(e)},e.prototype.isEmpty=function(){return 0===this._selection.size},e.prototype.hasValue=function(){return!this.isEmpty()},e.prototype.sort=function(e){this._multiple&&this.selected&&this._selected.sort(e)},e.prototype.isMultipleSelection=function(){return this._multiple},e.prototype._emitChangeEvent=function(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])},e.prototype._markSelected=function(e){this.isSelected(e)||(this._multiple||this._unmarkAll(),this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))},e.prototype._unmarkSelected=function(e){this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))},e.prototype._unmarkAll=function(){var e=this;this.isEmpty()||this._selection.forEach(function(t){return e._unmarkSelected(t)})},e.prototype._verifyValueAssignment=function(e){if(e.length>1&&!this._multiple)throw Error("Cannot pass multiple values into SelectionModel with single-value mode.")}}();!function(){function e(){this._listeners=[]}e.prototype.notify=function(e,t){for(var n=0,i=this._listeners;n<i.length;n++){(0,i[n])(e,t)}},e.prototype.listen=function(e){var t=this;return this._listeners.push(e),function(){t._listeners=t._listeners.filter(function(t){return e!==t})}},e.prototype.ngOnDestroy=function(){this._listeners=[]},e.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],e.ngInjectableDef=t.defineInjectable({factory:function(){return new e},token:e,providedIn:"root"})}();var Ut=new t.InjectionToken("VIRTUAL_SCROLL_STRATEGY"),Gt=function(){function e(e,t,n){this._scrolledIndexChange=new P,this.scrolledIndexChange=this._scrolledIndexChange.pipe(Ve()),this._viewport=null,this._itemSize=e,this._minBufferPx=t,this._maxBufferPx=n}return e.prototype.attach=function(e){this._viewport=e,this._updateTotalContentSize(),this._updateRenderedRange()},e.prototype.detach=function(){this._scrolledIndexChange.complete(),this._viewport=null},e.prototype.updateItemAndBufferSize=function(e,t,n){if(n<t)throw Error("CDK virtual scroll: maxBufferPx must be greater than or equal to minBufferPx");this._itemSize=e,this._minBufferPx=t,this._maxBufferPx=n,this._updateTotalContentSize(),this._updateRenderedRange()},e.prototype.onContentScrolled=function(){this._updateRenderedRange()},e.prototype.onDataLengthChanged=function(){this._updateTotalContentSize(),this._updateRenderedRange()},e.prototype.onContentRendered=function(){},e.prototype.onRenderedOffsetChanged=function(){},e.prototype.scrollToIndex=function(e,t){this._viewport&&this._viewport.scrollToOffset(e*this._itemSize,t)},e.prototype._updateTotalContentSize=function(){this._viewport&&this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)},e.prototype._updateRenderedRange=function(){if(this._viewport){var e=this._viewport.measureScrollOffset(),t=e/this._itemSize,n=this._viewport.getRenderedRange(),i={start:n.start,end:n.end},r=this._viewport.getViewportSize(),o=this._viewport.getDataLength(),s=e-i.start*this._itemSize;if(s<this._minBufferPx&&0!=i.start){var a=Math.ceil((this._maxBufferPx-s)/this._itemSize);i.start=Math.max(0,i.start-a),i.end=Math.min(o,Math.ceil(t+(r+this._minBufferPx)/this._itemSize))}else{var c=i.end*this._itemSize-(e+r);if(c<this._minBufferPx&&i.end!=o){var l=Math.ceil((this._maxBufferPx-c)/this._itemSize);l>0&&(i.end=Math.min(o,i.end+l),i.start=Math.max(0,Math.floor(t-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(i),this._viewport.setRenderedContentOffset(this._itemSize*i.start),this._scrolledIndexChange.next(Math.floor(t))}},e}();function qt(e){return e._scrollStrategy}var Jt=function(){function e(){this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new Gt(this.itemSize,this.minBufferPx,this.maxBufferPx)}return Object.defineProperty(e.prototype,"itemSize",{get:function(){return this._itemSize},set:function(e){this._itemSize=ft(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minBufferPx",{get:function(){return this._minBufferPx},set:function(e){this._minBufferPx=ft(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxBufferPx",{get:function(){return this._maxBufferPx},set:function(e){this._maxBufferPx=ft(e)},enumerable:!0,configurable:!0}),e.prototype.ngOnChanges=function(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)},e.decorators=[{type:t.Directive,args:[{selector:"cdk-virtual-scroll-viewport[itemSize]",providers:[{provide:Ut,useFactory:qt,deps:[t.forwardRef(function(){return e})]}]}]}],e.propDecorators={itemSize:[{type:t.Input}],minBufferPx:[{type:t.Input}],maxBufferPx:[{type:t.Input}]},e}(),Qt=function(){function e(e,t){this._ngZone=e,this._platform=t,this._scrolled=new P,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map}return e.prototype.register=function(e){var t=this,n=e.elementScrolled().subscribe(function(){return t._scrolled.next(e)});this.scrollContainers.set(e,n)},e.prototype.deregister=function(e){var t=this.scrollContainers.get(e);t&&(t.unsubscribe(),this.scrollContainers.delete(e))},e.prototype.scrolled=function(e){var t=this;return void 0===e&&(e=20),this._platform.isBrowser?D.create(function(n){t._globalSubscription||t._addGlobalListener();var i=e>0?t._scrolled.pipe(xe(e)).subscribe(n):t._scrolled.subscribe(n);return t._scrolledCount++,function(){i.unsubscribe(),t._scrolledCount--,t._scrolledCount||t._removeGlobalListener()}}):X()},e.prototype.ngOnDestroy=function(){var e=this;this._removeGlobalListener(),this.scrollContainers.forEach(function(t,n){return e.deregister(n)}),this._scrolled.complete()},e.prototype.ancestorScrolled=function(e,t){var n=this.getAncestorScrollContainers(e);return this.scrolled(t).pipe(Be(function(e){return!e||n.indexOf(e)>-1}))},e.prototype.getAncestorScrollContainers=function(e){var t=this,n=[];return this.scrollContainers.forEach(function(i,r){t._scrollableContainsElement(r,e)&&n.push(r)}),n},e.prototype._scrollableContainsElement=function(e,t){var n=t.nativeElement,i=e.getElementRef().nativeElement;do{if(n==i)return!0}while(n=n.parentElement);return!1},e.prototype._addGlobalListener=function(){var e=this;this._globalSubscription=this._ngZone.runOutsideAngular(function(){return Ce(window.document,"scroll").subscribe(function(){return e._scrolled.next()})})},e.prototype._removeGlobalListener=function(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)},e.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:t.NgZone},{type:at}]},e.ngInjectableDef=t.defineInjectable({factory:function(){return new e(t.inject(t.NgZone),t.inject(at))},token:e,providedIn:"root"}),e}();new t.Optional,new t.SkipSelf,t.NgZone;var en=function(){function e(e,t,n,i){var r=this;this.elementRef=e,this.scrollDispatcher=t,this.ngZone=n,this.dir=i,this._destroyed=new P,this._elementScrolled=D.create(function(e){return r.ngZone.runOutsideAngular(function(){return Ce(r.elementRef.nativeElement,"scroll").pipe(Qe(r._destroyed)).subscribe(e)})})}return e.prototype.ngOnInit=function(){this.scrollDispatcher.register(this)},e.prototype.ngOnDestroy=function(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()},e.prototype.elementScrolled=function(){return this._elementScrolled},e.prototype.getElementRef=function(){return this.elementRef},e.prototype.scrollTo=function(e){var t=this.elementRef.nativeElement,n=this.dir&&"rtl"==this.dir.value;e.left=null==e.left?n?e.end:e.start:e.left,e.right=null==e.right?n?e.start:e.end:e.right,null!=e.bottom&&(e.top=t.scrollHeight-t.clientHeight-e.bottom),n&&ht()!=pt.NORMAL?(null!=e.left&&(e.right=t.scrollWidth-t.clientWidth-e.left),ht()==pt.INVERTED?e.left=e.right:ht()==pt.NEGATED&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=t.scrollWidth-t.clientWidth-e.right),this._applyScrollToOptions(e)},e.prototype._applyScrollToOptions=function(e){var t=this.elementRef.nativeElement;"object"==typeof document&&"scrollBehavior"in document.documentElement.style?t.scrollTo(e):(null!=e.top&&(t.scrollTop=e.top),null!=e.left&&(t.scrollLeft=e.left))},e.prototype.measureScrollOffset=function(e){var t=this.elementRef.nativeElement;if("top"==e)return t.scrollTop;if("bottom"==e)return t.scrollHeight-t.clientHeight-t.scrollTop;var n=this.dir&&"rtl"==this.dir.value;return"start"==e?e=n?"right":"left":"end"==e&&(e=n?"left":"right"),n&&ht()==pt.INVERTED?"left"==e?t.scrollWidth-t.clientWidth-t.scrollLeft:t.scrollLeft:n&&ht()==pt.NEGATED?"left"==e?t.scrollLeft+t.scrollWidth-t.clientWidth:-t.scrollLeft:"left"==e?t.scrollLeft:t.scrollWidth-t.clientWidth-t.scrollLeft},e.decorators=[{type:t.Directive,args:[{selector:"[cdk-scrollable], [cdkScrollable]"}]}],e.ctorParameters=function(){return[{type:t.ElementRef},{type:Qt},{type:t.NgZone},{type:Wt,decorators:[{type:t.Optional}]}]},e}();var tn=function(e){function n(t,n,i,r,o,s){var a=e.call(this,t,s,i,o)||this;if(a.elementRef=t,a._changeDetectorRef=n,a._scrollStrategy=r,a._detachedSubject=new P,a._renderedRangeSubject=new P,a.orientation="vertical",a.scrolledIndexChange=D.create(function(e){return a._scrollStrategy.scrolledIndexChange.subscribe(function(t){return Promise.resolve().then(function(){return a.ngZone.run(function(){return e.next(t)})})})}),a.renderedRangeStream=a._renderedRangeSubject.asObservable(),a._totalContentSizeTransform="",a._totalContentSize=0,a._renderedRange={start:0,end:0},a._dataLength=0,a._viewportSize=0,a._renderedContentOffset=0,a._renderedContentOffsetNeedsRewrite=!1,a._isChangeDetectionPending=!1,a._runAfterChangeDetection=[],!r)throw Error('Error: cdk-virtual-scroll-viewport requires the "itemSize" property to be set.');return a}return it(n,e),n.prototype.ngOnInit=function(){var t=this;e.prototype.ngOnInit.call(this),this.ngZone.runOutsideAngular(function(){return Promise.resolve().then(function(){t._measureViewportSize(),t._scrollStrategy.attach(t),t.elementScrolled().pipe(Ge(null),xe(0,te)).subscribe(function(){return t._scrollStrategy.onContentScrolled()}),t._markChangeDetectionNeeded()})})},n.prototype.ngOnDestroy=function(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),e.prototype.ngOnDestroy.call(this)},n.prototype.attach=function(e){var t=this;if(this._forOf)throw Error("CdkVirtualScrollViewport is already attached.");this.ngZone.runOutsideAngular(function(){t._forOf=e,t._forOf.dataStream.pipe(Qe(t._detachedSubject)).subscribe(function(e){var n=e.length;n!==t._dataLength&&(t._dataLength=n,t._scrollStrategy.onDataLengthChanged()),t._doChangeDetection()})})},n.prototype.detach=function(){this._forOf=null,this._detachedSubject.next()},n.prototype.getDataLength=function(){return this._dataLength},n.prototype.getViewportSize=function(){return this._viewportSize},n.prototype.getRenderedRange=function(){return this._renderedRange},n.prototype.setTotalContentSize=function(e){if(this._totalContentSize!==e){this._totalContentSize=e;var t="horizontal"==this.orientation?"X":"Y";this._totalContentSizeTransform="scale"+t+"("+this._totalContentSize+")",this._markChangeDetectionNeeded()}},n.prototype.setRenderedRange=function(e){var t,n,i=this;t=this._renderedRange,n=e,(t.start!=n.start||t.end!=n.end)&&(this._renderedRangeSubject.next(this._renderedRange=e),this._markChangeDetectionNeeded(function(){return i._scrollStrategy.onContentRendered()}))},n.prototype.getOffsetToRenderedContentStart=function(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset},n.prototype.setRenderedContentOffset=function(e,t){var n=this;void 0===t&&(t="to-start");var i=this.dir&&"rtl"==this.dir.value,r="horizontal"==this.orientation,o=r?"X":"Y",s="translate"+o+"("+Number((r&&i?-1:1)*e)+"px)";this._renderedContentOffset=e,"to-end"===t&&(s+=" translate"+o+"(-100%)",this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=s&&(this._renderedContentTransform=s,this._markChangeDetectionNeeded(function(){n._renderedContentOffsetNeedsRewrite?(n._renderedContentOffset-=n.measureRenderedContentSize(),n._renderedContentOffsetNeedsRewrite=!1,n.setRenderedContentOffset(n._renderedContentOffset)):n._scrollStrategy.onRenderedOffsetChanged()}))},n.prototype.scrollToOffset=function(e,t){void 0===t&&(t="auto");var n={behavior:t};"horizontal"===this.orientation?n.start=e:n.top=e,this.scrollTo(n)},n.prototype.scrollToIndex=function(e,t){void 0===t&&(t="auto"),this._scrollStrategy.scrollToIndex(e,t)},n.prototype.measureScrollOffset=function(t){return e.prototype.measureScrollOffset.call(this,t||("horizontal"===this.orientation?"start":"top"))},n.prototype.measureRenderedContentSize=function(){var e=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?e.offsetWidth:e.offsetHeight},n.prototype.measureRangeSize=function(e){return this._forOf?this._forOf.measureRangeSize(e,this.orientation):0},n.prototype.checkViewportSize=function(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()},n.prototype._measureViewportSize=function(){var e=this.elementRef.nativeElement;this._viewportSize="horizontal"===this.orientation?e.clientWidth:e.clientHeight},n.prototype._markChangeDetectionNeeded=function(e){var t=this;e&&this._runAfterChangeDetection.push(e),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(function(){return Promise.resolve().then(function(){t._doChangeDetection()})}))},n.prototype._doChangeDetection=function(){var e=this;this._isChangeDetectionPending=!1,this.ngZone.run(function(){return e._changeDetectorRef.markForCheck()}),this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform;var t=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(var n=0,i=t;n<i.length;n++){(0,i[n])()}},n.decorators=[{type:t.Component,args:[{selector:"cdk-virtual-scroll-viewport",template:'<div #contentWrapper class="cdk-virtual-scroll-content-wrapper"><ng-content></ng-content></div><div class="cdk-virtual-scroll-spacer" [style.transform]="_totalContentSizeTransform"></div>',styles:["cdk-virtual-scroll-viewport{display:block;position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:0}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:0}.cdk-virtual-scroll-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0}[dir=rtl] .cdk-virtual-scroll-spacer{right:0;left:auto;transform-origin:100% 0}"],host:{class:"cdk-virtual-scroll-viewport","[class.cdk-virtual-scroll-orientation-horizontal]":'orientation === "horizontal"',"[class.cdk-virtual-scroll-orientation-vertical]":'orientation === "vertical"'},encapsulation:t.ViewEncapsulation.None,changeDetection:t.ChangeDetectionStrategy.OnPush}]}],n.ctorParameters=function(){return[{type:t.ElementRef},{type:t.ChangeDetectorRef},{type:t.NgZone},{type:void 0,decorators:[{type:t.Optional},{type:t.Inject,args:[Ut]}]},{type:Wt,decorators:[{type:t.Optional}]},{type:Qt}]},n.propDecorators={orientation:[{type:t.Input}],scrolledIndexChange:[{type:t.Output}],_contentWrapper:[{type:t.ViewChild,args:["contentWrapper"]}]},n}(en);function nn(e,t){var n=t;if(!n.getBoundingClientRect)return 0;var i=n.getBoundingClientRect();return"horizontal"==e?i.width:i.height}var rn=function(){function e(e,t,n,i,r){var o=this;this._viewContainerRef=e,this._template=t,this._differs=n,this._viewport=i,this.viewChange=new P,this._dataSourceChanges=new P,this.cdkVirtualForTemplateCacheSize=20,this.dataStream=this._dataSourceChanges.pipe(Ge(null),function(e){return e.lift(new $e)},function e(t,n){return"function"==typeof n?function(i){return i.pipe(e(function(e,i){return ve(t(e,i)).pipe(se(function(t,r){return n(e,t,i,r)}))}))}:function(e){return e.lift(new qe(t))}}(function(e){var t=e[0],n=e[1];return o._changeDataSource(t,n)}),Ue(1)),this._differ=null,this._templateCache=[],this._needsUpdate=!1,this._destroyed=new P,this.dataStream.subscribe(function(e){o._data=e,o._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe(Qe(this._destroyed)).subscribe(function(e){o._renderedRange=e,r.run(function(){return o.viewChange.next(o._renderedRange)}),o._onRenderedDataChange()}),this._viewport.attach(this)}return Object.defineProperty(e.prototype,"cdkVirtualForOf",{get:function(){return this._cdkVirtualForOf},set:function(e){this._cdkVirtualForOf=e;var t=e instanceof $t?e:new Kt(e instanceof D?e:Array.prototype.slice.call(e||[]));this._dataSourceChanges.next(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cdkVirtualForTrackBy",{get:function(){return this._cdkVirtualForTrackBy},set:function(e){var t=this;this._needsUpdate=!0,this._cdkVirtualForTrackBy=e?function(n,i){return e(n+(t._renderedRange?t._renderedRange.start:0),i)}:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cdkVirtualForTemplate",{set:function(e){e&&(this._needsUpdate=!0,this._template=e)},enumerable:!0,configurable:!0}),e.prototype.measureRangeSize=function(e,t){if(e.start>=e.end)return 0;if(e.start<this._renderedRange.start||e.end>this._renderedRange.end)throw Error("Error: attempted to measure an item that isn't rendered.");for(var n=e.start-this._renderedRange.start,i=0,r=e.end-e.start;r--;)for(var o=this._viewContainerRef.get(r+n),s=o?o.rootNodes.length:0;s--;)i+=nn(t,o.rootNodes[s]);return i},e.prototype.ngDoCheck=function(){if(this._differ&&this._needsUpdate){var e=this._differ.diff(this._renderedItems);e?this._applyChanges(e):this._updateContext(),this._needsUpdate=!1}},e.prototype.ngOnDestroy=function(){this._viewport.detach(),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete();for(var e=0,t=this._templateCache;e<t.length;e++){t[e].destroy()}},e.prototype._onRenderedDataChange=function(){this._renderedRange&&(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create(this.cdkVirtualForTrackBy)),this._needsUpdate=!0)},e.prototype._changeDataSource=function(e,t){return e&&e.disconnect(this),this._needsUpdate=!0,t.connect(this)},e.prototype._updateContext=function(){for(var e=this._data.length,t=this._viewContainerRef.length;t--;){var n=this._viewContainerRef.get(t);n.context.index=this._renderedRange.start+t,n.context.count=e,this._updateComputedContextProperties(n.context),n.detectChanges()}},e.prototype._applyChanges=function(e){var t=this;e.forEachOperation(function(e,n,i){if(null==e.previousIndex){var r=t._getViewForNewItem();t._viewContainerRef.insert(r,i),r.context.$implicit=e.item}else if(null==i)t._cacheView(t._viewContainerRef.detach(n));else{r=t._viewContainerRef.get(n);t._viewContainerRef.move(r,i),r.context.$implicit=e.item}}),e.forEachIdentityChange(function(e){t._viewContainerRef.get(e.currentIndex).context.$implicit=e.item});for(var n=this._data.length,i=this._viewContainerRef.length;i--;){var r=this._viewContainerRef.get(i);r.context.index=this._renderedRange.start+i,r.context.count=n,this._updateComputedContextProperties(r.context)}},e.prototype._cacheView=function(e){this._templateCache.length<this.cdkVirtualForTemplateCacheSize?this._templateCache.push(e):e.destroy()},e.prototype._getViewForNewItem=function(){return this._templateCache.pop()||this._viewContainerRef.createEmbeddedView(this._template,{$implicit:null,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1})},e.prototype._updateComputedContextProperties=function(e){e.first=0===e.index,e.last=e.index===e.count-1,e.even=e.index%2==0,e.odd=!e.even},e.decorators=[{type:t.Directive,args:[{selector:"[cdkVirtualFor][cdkVirtualForOf]"}]}],e.ctorParameters=function(){return[{type:t.ViewContainerRef},{type:t.TemplateRef},{type:t.IterableDiffers},{type:tn,decorators:[{type:t.SkipSelf}]},{type:t.NgZone}]},e.propDecorators={cdkVirtualForOf:[{type:t.Input}],cdkVirtualForTrackBy:[{type:t.Input}],cdkVirtualForTemplate:[{type:t.Input}],cdkVirtualForTemplateCacheSize:[{type:t.Input}]},e}(),on=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{imports:[Xt,ct],exports:[Xt,Jt,en,rn,tn],declarations:[Jt,en,rn,tn]}]}],e}(),sn=function(){function e(e,t){var n=this;this._platform=e,t.runOutsideAngular(function(){n._change=e.isBrowser?Se(Ce(window,"resize"),Ce(window,"orientationchange")):X(),n._invalidateCache=n.change().subscribe(function(){return n._updateViewportSize()})})}return e.prototype.ngOnDestroy=function(){this._invalidateCache.unsubscribe()},e.prototype.getViewportSize=function(){this._viewportSize||this._updateViewportSize();var e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e},e.prototype.getViewportRect=function(){var e=this.getViewportScrollPosition(),t=this.getViewportSize(),n=t.width,i=t.height;return{top:e.top,left:e.left,bottom:e.top+i,right:e.left+n,height:i,width:n}},e.prototype.getViewportScrollPosition=function(){if(!this._platform.isBrowser)return{top:0,left:0};var e=document.documentElement,t=e.getBoundingClientRect();return{top:-t.top||document.body.scrollTop||window.scrollY||e.scrollTop||0,left:-t.left||document.body.scrollLeft||window.scrollX||e.scrollLeft||0}},e.prototype.change=function(e){return void 0===e&&(e=20),e>0?this._change.pipe(xe(e)):this._change},e.prototype._updateViewportSize=function(){this._viewportSize=this._platform.isBrowser?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0}},e.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:at},{type:t.NgZone}]},e.ngInjectableDef=t.defineInjectable({factory:function(){return new e(t.inject(at),t.inject(t.NgZone))},token:e,providedIn:"root"}),e}();new t.Optional,new t.SkipSelf,t.NgZone;function an(){throw Error("Host already has a portal attached")}var cn=function(){function e(){}return e.prototype.attach=function(e){return null==e&&function(){throw Error("Attempting to attach a portal to a null PortalOutlet")}(),e.hasAttached()&&an(),this._attachedHost=e,e.attach(this)},e.prototype.detach=function(){var e=this._attachedHost;null==e?function(){throw Error("Attempting to detach a portal that is not attached to a host")}():(this._attachedHost=null,e.detach())},Object.defineProperty(e.prototype,"isAttached",{get:function(){return null!=this._attachedHost},enumerable:!0,configurable:!0}),e.prototype.setAttachedHost=function(e){this._attachedHost=e},e}(),ln=function(e){function t(t,n,i,r){var o=e.call(this)||this;return o.component=t,o.viewContainerRef=n,o.injector=i,o.componentFactoryResolver=r,o}return it(t,e),t}(cn),un=function(e){function t(t,n,i){var r=e.call(this)||this;return r.templateRef=t,r.viewContainerRef=n,r.context=i,r}return it(t,e),Object.defineProperty(t.prototype,"origin",{get:function(){return this.templateRef.elementRef},enumerable:!0,configurable:!0}),t.prototype.attach=function(t,n){return void 0===n&&(n=this.context),this.context=n,e.prototype.attach.call(this,t)},t.prototype.detach=function(){return this.context=void 0,e.prototype.detach.call(this)},t}(cn),pn=function(){function e(){this._isDisposed=!1}return e.prototype.hasAttached=function(){return!!this._attachedPortal},e.prototype.attach=function(e){return e||function(){throw Error("Must provide a portal to attach")}(),this.hasAttached()&&an(),this._isDisposed&&function(){throw Error("This PortalOutlet has already been disposed")}(),e instanceof ln?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof un?(this._attachedPortal=e,this.attachTemplatePortal(e)):void function(){throw Error("Attempting to attach an unknown Portal type. BasePortalOutlet accepts either a ComponentPortal or a TemplatePortal.")}()},e.prototype.detach=function(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()},e.prototype.dispose=function(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0},e.prototype.setDisposeFn=function(e){this._disposeFn=e},e.prototype._invokeDisposeFn=function(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)},e}(),hn=function(e){function t(t,n,i,r){var o=e.call(this)||this;return o.outletElement=t,o._componentFactoryResolver=n,o._appRef=i,o._defaultInjector=r,o}return it(t,e),t.prototype.attachComponentPortal=function(e){var t,n=this,i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);return e.viewContainerRef?(t=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(function(){return t.destroy()})):(t=i.create(e.injector||this._defaultInjector),this._appRef.attachView(t.hostView),this.setDisposeFn(function(){n._appRef.detachView(t.hostView),t.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(t)),t},t.prototype.attachTemplatePortal=function(e){var t=this,n=e.viewContainerRef,i=n.createEmbeddedView(e.templateRef,e.context);return i.detectChanges(),i.rootNodes.forEach(function(e){return t.outletElement.appendChild(e)}),this.setDisposeFn(function(){var e=n.indexOf(i);-1!==e&&n.remove(e)}),i},t.prototype.dispose=function(){e.prototype.dispose.call(this),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)},t.prototype._getComponentRootNode=function(e){return e.hostView.rootNodes[0]},t}(pn),dn=function(e){function n(t,n){return e.call(this,t,n)||this}return it(n,e),n.decorators=[{type:t.Directive,args:[{selector:"[cdk-portal], [cdkPortal], [portal]",exportAs:"cdkPortal"}]}],n.ctorParameters=function(){return[{type:t.TemplateRef},{type:t.ViewContainerRef}]},n}(un),fn=function(e){function n(n,i){var r=e.call(this)||this;return r._componentFactoryResolver=n,r._viewContainerRef=i,r._isInitialized=!1,r.attached=new t.EventEmitter,r}return it(n,e),Object.defineProperty(n.prototype,"portal",{get:function(){return this._attachedPortal},set:function(t){(!this.hasAttached()||t||this._isInitialized)&&(this.hasAttached()&&e.prototype.detach.call(this),t&&e.prototype.attach.call(this,t),this._attachedPortal=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"attachedRef",{get:function(){return this._attachedRef},enumerable:!0,configurable:!0}),n.prototype.ngOnInit=function(){this._isInitialized=!0},n.prototype.ngOnDestroy=function(){e.prototype.dispose.call(this),this._attachedPortal=null,this._attachedRef=null},n.prototype.attachComponentPortal=function(t){t.setAttachedHost(this);var n=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,i=this._componentFactoryResolver.resolveComponentFactory(t.component),r=n.createComponent(i,n.length,t.injector||n.injector);return e.prototype.setDisposeFn.call(this,function(){return r.destroy()}),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r},n.prototype.attachTemplatePortal=function(t){var n=this;t.setAttachedHost(this);var i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return e.prototype.setDisposeFn.call(this,function(){return n._viewContainerRef.clear()}),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i},n.decorators=[{type:t.Directive,args:[{selector:"[cdkPortalOutlet], [cdkPortalHost], [portalHost]",exportAs:"cdkPortalOutlet, cdkPortalHost",inputs:["portal: cdkPortalOutlet"]}]}],n.ctorParameters=function(){return[{type:t.ComponentFactoryResolver},{type:t.ViewContainerRef}]},n.propDecorators={attached:[{type:t.Output}]},n}(pn),mn=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{exports:[dn,fn],declarations:[dn,fn]}]}],e}(),yn=function(){function e(e,t){this._parentInjector=e,this._customTokens=t}return e.prototype.get=function(e,t){var n=this._customTokens.get(e);return void 0!==n?n:this._parentInjector.get(e,t)},e}(),gn=function(){function e(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}return e.prototype.attach=function(){},e.prototype.enable=function(){if(this._canBeEnabled()){var e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=yt(-this._previousScrollPosition.left),e.style.top=yt(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}},e.prototype.disable=function(){if(this._isEnabled){var e=this._document.documentElement,t=this._document.body,n=e.style,i=t.style,r=n.scrollBehavior||"",o=i.scrollBehavior||"";this._isEnabled=!1,n.left=this._previousHTMLStyles.left,n.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),n.scrollBehavior=i.scrollBehavior="auto",window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),n.scrollBehavior=r,i.scrollBehavior=o}},e.prototype._canBeEnabled=function(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;var e=this._document.body,t=this._viewportRuler.getViewportSize();return e.scrollHeight>t.height||e.scrollWidth>t.width},e}();function bn(){return Error("Scroll strategy has already been attached.")}var vn=function(){function e(e,t,n,i){var r=this;this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=n,this._config=i,this._scrollSubscription=null,this._detach=function(){r.disable(),r._overlayRef.hasAttached()&&r._ngZone.run(function(){return r._overlayRef.detach()})}}return e.prototype.attach=function(e){if(this._overlayRef)throw bn();this._overlayRef=e},e.prototype.enable=function(){var e=this;if(!this._scrollSubscription){var t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(function(){var t=e._viewportRuler.getViewportScrollPosition().top;Math.abs(t-e._initialScrollPosition)>e._config.threshold?e._detach():e._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}},e.prototype.disable=function(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)},e}(),_n=function(){function e(){}return e.prototype.enable=function(){},e.prototype.disable=function(){},e.prototype.attach=function(){},e}();function wn(e,t){return t.some(function(t){var n=e.bottom<t.top,i=e.top>t.bottom,r=e.right<t.left,o=e.left>t.right;return n||i||r||o})}function On(e,t){return t.some(function(t){var n=e.top<t.top,i=e.bottom>t.bottom,r=e.left<t.left,o=e.right>t.right;return n||i||r||o})}var kn=function(){function e(e,t,n,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=n,this._config=i,this._scrollSubscription=null}return e.prototype.attach=function(e){if(this._overlayRef)throw bn();this._overlayRef=e},e.prototype.enable=function(){var e=this;if(!this._scrollSubscription){var t=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(t).subscribe(function(){if(e._overlayRef.updatePosition(),e._config&&e._config.autoClose){var t=e._overlayRef.overlayElement.getBoundingClientRect(),n=e._viewportRuler.getViewportSize(),i=n.width,r=n.height;wn(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(e.disable(),e._ngZone.run(function(){return e._overlayRef.detach()}))}})}},e.prototype.disable=function(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)},e}(),Cn=function(){function e(e,t,n,i){var r=this;this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=n,this.noop=function(){return new _n},this.close=function(e){return new vn(r._scrollDispatcher,r._ngZone,r._viewportRuler,e)},this.block=function(){return new gn(r._viewportRuler,r._document)},this.reposition=function(e){return new kn(r._scrollDispatcher,r._viewportRuler,r._ngZone,e)},this._document=i}return e.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:Qt},{type:sn},{type:t.NgZone},{type:void 0,decorators:[{type:t.Inject,args:[n.DOCUMENT]}]}]},e.ngInjectableDef=t.defineInjectable({factory:function(){return new e(t.inject(Qt),t.inject(sn),t.inject(t.NgZone),t.inject(n.DOCUMENT))},token:e,providedIn:"root"}),e}(),Tn=function(){return function(e){var t=this;this.scrollStrategy=new _n,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e&&Object.keys(e).forEach(function(n){var i=n;void 0!==e[i]&&(t[i]=e[i])})}}(),Sn=function(){return function(e,t,n,i,r){this.offsetX=n,this.offsetY=i,this.panelClass=r,this.originX=e.originX,this.originY=e.originY,this.overlayX=t.overlayX,this.overlayY=t.overlayY}}(),Dn=function(){return function(){}}(),In=function(){function e(e,t){this.connectionPair=e,this.scrollableViewProperties=t}return e.ctorParameters=function(){return[{type:Sn},{type:Dn,decorators:[{type:t.Optional}]}]},e}();function Mn(e,t){if("top"!==t&&"bottom"!==t&&"center"!==t)throw Error("ConnectedPosition: Invalid "+e+' "'+t+'". Expected "top", "bottom" or "center".')}function En(e,t){if("start"!==t&&"end"!==t&&"center"!==t)throw Error("ConnectedPosition: Invalid "+e+' "'+t+'". Expected "start", "end" or "center".')}var xn=function(){function e(e){var t=this;this._attachedOverlays=[],this._keydownListener=function(e){for(var n=t._attachedOverlays,i=n.length-1;i>-1;i--)if(n[i]._keydownEventSubscriptions>0){n[i]._keydownEvents.next(e);break}},this._document=e}return e.prototype.ngOnDestroy=function(){this._detach()},e.prototype.add=function(e){this.remove(e),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener,!0),this._isAttached=!0),this._attachedOverlays.push(e)},e.prototype.remove=function(e){var t=this._attachedOverlays.indexOf(e);t>-1&&this._attachedOverlays.splice(t,1),0===this._attachedOverlays.length&&this._detach()},e.prototype._detach=function(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener,!0),this._isAttached=!1)},e.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:void 0,decorators:[{type:t.Inject,args:[n.DOCUMENT]}]}]},e.ngInjectableDef=t.defineInjectable({factory:function(){return new e(t.inject(n.DOCUMENT))},token:e,providedIn:"root"}),e}();new t.Optional,new t.SkipSelf,n.DOCUMENT;var An=function(){function e(e){this._document=e}return e.prototype.ngOnDestroy=function(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)},e.prototype.getContainerElement=function(){return this._containerElement||this._createContainer(),this._containerElement},e.prototype._createContainer=function(){var e=this._document.createElement("div");e.classList.add("cdk-overlay-container"),this._document.body.appendChild(e),this._containerElement=e},e.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:void 0,decorators:[{type:t.Inject,args:[n.DOCUMENT]}]}]},e.ngInjectableDef=t.defineInjectable({factory:function(){return new e(t.inject(n.DOCUMENT))},token:e,providedIn:"root"}),e}();new t.Optional,new t.SkipSelf,n.DOCUMENT;var Pn=function(){function e(e,t,n,i,r,o,s,a){var c=this;this._portalOutlet=e,this._host=t,this._pane=n,this._config=i,this._ngZone=r,this._keyboardDispatcher=o,this._document=s,this._location=a,this._backdropElement=null,this._backdropClick=new P,this._attachments=new P,this._detachments=new P,this._locationChanges=_.EMPTY,this._keydownEventsObservable=D.create(function(e){var t=c._keydownEvents.subscribe(e);return c._keydownEventSubscriptions++,function(){t.unsubscribe(),c._keydownEventSubscriptions--}}),this._keydownEvents=new P,this._keydownEventSubscriptions=0,i.scrollStrategy&&i.scrollStrategy.attach(this),this._positionStrategy=i.positionStrategy}return Object.defineProperty(e.prototype,"overlayElement",{get:function(){return this._pane},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"backdropElement",{get:function(){return this._backdropElement},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hostElement",{get:function(){return this._host},enumerable:!0,configurable:!0}),e.prototype.attach=function(e){var t=this,n=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._config.scrollStrategy&&this._config.scrollStrategy.enable(),this._ngZone.onStable.asObservable().pipe(We(1)).subscribe(function(){t.hasAttached()&&t.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&this._location&&(this._locationChanges=this._location.subscribe(function(){return t.dispose()})),n},e.prototype.detach=function(){if(this.hasAttached()){this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._config.scrollStrategy&&this._config.scrollStrategy.disable();var e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),e}},e.prototype.dispose=function(){var e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._config.scrollStrategy&&this._config.scrollStrategy.disable(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,e&&this._detachments.next(),this._detachments.complete()},e.prototype.hasAttached=function(){return this._portalOutlet.hasAttached()},e.prototype.backdropClick=function(){return this._backdropClick.asObservable()},e.prototype.attachments=function(){return this._attachments.asObservable()},e.prototype.detachments=function(){return this._detachments.asObservable()},e.prototype.keydownEvents=function(){return this._keydownEventsObservable},e.prototype.getConfig=function(){return this._config},e.prototype.updatePosition=function(){this._positionStrategy&&this._positionStrategy.apply()},e.prototype.updatePositionStrategy=function(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))},e.prototype.updateSize=function(e){this._config=ot({},this._config,e),this._updateElementSize()},e.prototype.setDirection=function(e){this._config=ot({},this._config,{direction:e}),this._updateElementDirection()},e.prototype.getDirection=function(){var e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"},e.prototype._updateElementDirection=function(){this._host.setAttribute("dir",this.getDirection())},e.prototype._updateElementSize=function(){var e=this._pane.style;e.width=yt(this._config.width),e.height=yt(this._config.height),e.minWidth=yt(this._config.minWidth),e.minHeight=yt(this._config.minHeight),e.maxWidth=yt(this._config.maxWidth),e.maxHeight=yt(this._config.maxHeight)},e.prototype._togglePointerEvents=function(e){this._pane.style.pointerEvents=e?"auto":"none"},e.prototype._attachBackdrop=function(){var e=this,t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",function(t){return e._backdropClick.next(t)}),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(function(){requestAnimationFrame(function(){e._backdropElement&&e._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)},e.prototype._updateStackingOrder=function(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)},e.prototype.detachBackdrop=function(){var e=this,t=this._backdropElement;if(t){var n=void 0,i=function(){t&&t.parentNode&&t.parentNode.removeChild(t),e._backdropElement==t&&(e._backdropElement=null),clearTimeout(n)};t.classList.remove("cdk-overlay-backdrop-showing"),this._config.backdropClass&&this._toggleClasses(t,this._config.backdropClass,!1),this._ngZone.runOutsideAngular(function(){t.addEventListener("transitionend",i)}),t.style.pointerEvents="none",n=this._ngZone.runOutsideAngular(function(){return setTimeout(i,500)})}},e.prototype._toggleClasses=function(e,t,n){var i=e.classList;mt(t).forEach(function(e){n?i.add(e):i.remove(e)})},e.prototype._detachContentWhenStable=function(){var e=this;this._ngZone.runOutsideAngular(function(){var t=e._ngZone.onStable.asObservable().pipe(Qe(Se(e._attachments,e._detachments))).subscribe(function(){e._pane&&e._host&&0!==e._pane.children.length||(e._pane&&e._config.panelClass&&e._toggleClasses(e._pane,e._config.panelClass,!1),e._host&&e._host.parentElement&&(e._previousHostParent=e._host.parentElement,e._previousHostParent.removeChild(e._host)),t.unsubscribe())})})},e}(),jn="cdk-overlay-connected-position-bounding-box",Rn=function(){function e(e,t,n,i,r){var o=this;this._viewportRuler=t,this._document=n,this._platform=i,this._overlayContainer=r,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this.scrollables=[],this._preferredPositions=[],this._positionChanges=new P,this._resizeSubscription=_.EMPTY,this._offsetX=0,this._offsetY=0,this._positionChangeSubscriptions=0,this._appliedPanelClasses=[],this.positionChanges=D.create(function(e){var t=o._positionChanges.subscribe(e);return o._positionChangeSubscriptions++,function(){t.unsubscribe(),o._positionChangeSubscriptions--}}),this.setOrigin(e)}return Object.defineProperty(e.prototype,"positions",{get:function(){return this._preferredPositions},enumerable:!0,configurable:!0}),e.prototype.attach=function(e){var t=this;if(this._overlayRef&&e!==this._overlayRef)throw Error("This position strategy is already attached to an overlay");this._validatePositions(),e.hostElement.classList.add(jn),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(function(){t._isInitialRender=!0,t.apply()})},e.prototype.apply=function(){if(!(this._isDisposed||this._platform&&!this._platform.isBrowser))if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)this.reapplyLastPosition();else{this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._origin.getBoundingClientRect(),this._overlayRect=this._pane.getBoundingClientRect();for(var e,t=this._originRect,n=this._overlayRect,i=this._viewportRect,r=[],o=0,s=this._preferredPositions;o<s.length;o++){var a=s[o],c=this._getOriginPoint(t,a),l=this._getOverlayPoint(c,n,a),u=this._getOverlayFit(l,n,i,a);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,c);this._canFitWithFlexibleDimensions(u,l,i)?r.push({position:a,origin:c,overlayRect:n,boundingBoxRect:this._calculateBoundingBoxRect(c,a)}):(!e||e.overlayFit.visibleArea<u.visibleArea)&&(e={overlayFit:u,overlayPoint:l,originPoint:c,position:a,overlayRect:n})}if(r.length){for(var p=null,h=-1,d=0,f=r;d<f.length;d++){var m=f[d],y=m.boundingBoxRect.width*m.boundingBoxRect.height*(m.position.weight||1);y>h&&(h=y,p=m)}return this._isPushed=!1,void this._applyPosition(p.position,p.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(e.position,e.originPoint);this._applyPosition(e.position,e.originPoint)}},e.prototype.detach=function(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()},e.prototype.dispose=function(){this._isDisposed||(this._boundingBox&&Vn(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(jn),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)},e.prototype.reapplyLastPosition=function(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._origin.getBoundingClientRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();var e=this._lastPosition||this._preferredPositions[0],t=this._getOriginPoint(this._originRect,e);this._applyPosition(e,t)}},e.prototype.withScrollableContainers=function(e){this.scrollables=e},e.prototype.withPositions=function(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this},e.prototype.withViewportMargin=function(e){return this._viewportMargin=e,this},e.prototype.withFlexibleDimensions=function(e){return void 0===e&&(e=!0),this._hasFlexibleDimensions=e,this},e.prototype.withGrowAfterOpen=function(e){return void 0===e&&(e=!0),this._growAfterOpen=e,this},e.prototype.withPush=function(e){return void 0===e&&(e=!0),this._canPush=e,this},e.prototype.withLockedPosition=function(e){return void 0===e&&(e=!0),this._positionLocked=e,this},e.prototype.setOrigin=function(e){return this._origin=e instanceof t.ElementRef?e.nativeElement:e,this},e.prototype.withDefaultOffsetX=function(e){return this._offsetX=e,this},e.prototype.withDefaultOffsetY=function(e){return this._offsetY=e,this},e.prototype.withTransformOriginOn=function(e){return this._transformOriginSelector=e,this},e.prototype._getOriginPoint=function(e,t){var n;if("center"==t.originX)n=e.left+e.width/2;else{var i=this._isRtl()?e.right:e.left,r=this._isRtl()?e.left:e.right;n="start"==t.originX?i:r}return{x:n,y:"center"==t.originY?e.top+e.height/2:"top"==t.originY?e.top:e.bottom}},e.prototype._getOverlayPoint=function(e,t,n){var i,r;return i="center"==n.overlayX?-t.width/2:"start"===n.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,r="center"==n.overlayY?-t.height/2:"top"==n.overlayY?0:-t.height,{x:e.x+i,y:e.y+r}},e.prototype._getOverlayFit=function(e,t,n,i){var r=e.x,o=e.y,s=this._getOffset(i,"x"),a=this._getOffset(i,"y");s&&(r+=s),a&&(o+=a);var c=0-r,l=r+t.width-n.width,u=0-o,p=o+t.height-n.height,h=this._subtractOverflows(t.width,c,l),d=this._subtractOverflows(t.height,u,p),f=h*d;return{visibleArea:f,isCompletelyWithinViewport:t.width*t.height===f,fitsInViewportVertically:d===t.height,fitsInViewportHorizontally:h==t.width}},e.prototype._canFitWithFlexibleDimensions=function(e,t,n){if(this._hasFlexibleDimensions){var i=n.bottom-t.y,r=n.right-t.x,o=this._overlayRef.getConfig().minHeight,s=this._overlayRef.getConfig().minWidth,a=e.fitsInViewportVertically||null!=o&&o<=i,c=e.fitsInViewportHorizontally||null!=s&&s<=r;return a&&c}},e.prototype._pushOverlayOnScreen=function(e,t,n){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};var i=this._viewportRect,r=Math.max(e.x+t.width-i.right,0),o=Math.max(e.y+t.height-i.bottom,0),s=Math.max(i.top-n.top-e.y,0),a=Math.max(i.left-n.left-e.x,0),c=0,l=0;return c=t.width<i.width?a||-r:e.x<this._viewportMargin?i.left-n.left-e.x:0,l=t.height<i.height?s||-o:e.y<this._viewportMargin?i.top-n.top-e.y:0,this._previousPushAmount={x:c,y:l},{x:e.x+c,y:e.y+l}},e.prototype._applyPosition=function(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChangeSubscriptions>0){var n=this._getScrollVisibility(),i=new In(e,n);this._positionChanges.next(i)}this._isInitialRender=!1},e.prototype._setTransformOrigin=function(e){if(this._transformOriginSelector){var t,n=this._boundingBox.querySelectorAll(this._transformOriginSelector),i=e.overlayY;t="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(var r=0;r<n.length;r++)n[r].style.transformOrigin=t+" "+i}},e.prototype._calculateBoundingBoxRect=function(e,t){var n,i,r,o=this._viewportRect,s=this._isRtl();if("top"===t.overlayY)i=e.y,n=o.bottom-e.y;else if("bottom"===t.overlayY)r=o.height-e.y+2*this._viewportMargin,n=o.height-r+this._viewportMargin;else{var a=Math.min(o.bottom-e.y+o.top,e.y),c=this._lastBoundingBoxSize.height;n=2*a,i=e.y-a,n>c&&!this._isInitialRender&&!this._growAfterOpen&&(i=e.y-c/2)}var l,u,p,h="start"===t.overlayX&&!s||"end"===t.overlayX&&s;if("end"===t.overlayX&&!s||"start"===t.overlayX&&s)p=o.right-e.x+this._viewportMargin,l=e.x-o.left;else if(h)u=e.x,l=o.right-e.x;else{a=Math.min(o.right-e.x+o.left,e.x);var d=this._lastBoundingBoxSize.width;l=2*a,u=e.x-a,l>d&&!this._isInitialRender&&!this._growAfterOpen&&(u=e.x-d/2)}return{top:i,left:u,bottom:r,right:p,width:l,height:n}},e.prototype._setBoundingBoxStyles=function(e,t){var n=this._calculateBoundingBoxRect(e,t);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));var i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right="",i.width=i.height="100%";else{var r=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;i.height=yt(n.height),i.top=yt(n.top),i.bottom=yt(n.bottom),i.width=yt(n.width),i.left=yt(n.left),i.right=yt(n.right),"center"===t.overlayX?i.alignItems="center":i.alignItems="end"===t.overlayX?"flex-end":"flex-start","center"===t.overlayY?i.justifyContent="center":i.justifyContent="bottom"===t.overlayY?"flex-end":"flex-start",r&&(i.maxHeight=yt(r)),o&&(i.maxWidth=yt(o))}this._lastBoundingBoxSize=n,Vn(this._boundingBox.style,i)},e.prototype._resetBoundingBoxStyles=function(){Vn(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})},e.prototype._resetOverlayElementStyles=function(){Vn(this._pane.style,{top:"",left:"",bottom:"",right:"",position:""})},e.prototype._setOverlayElementStyles=function(e,t){var n={};if(this._hasExactPosition()){var i=this._viewportRuler.getViewportScrollPosition();Vn(n,this._getExactOverlayY(t,e,i)),Vn(n,this._getExactOverlayX(t,e,i))}else n.position="static";var r="",o=this._getOffset(t,"x"),s=this._getOffset(t,"y");o&&(r+="translateX("+o+"px) "),s&&(r+="translateY("+s+"px)"),n.transform=r.trim(),this._hasFlexibleDimensions&&this._overlayRef.getConfig().maxHeight&&(n.maxHeight=""),this._hasFlexibleDimensions&&this._overlayRef.getConfig().maxWidth&&(n.maxWidth=""),Vn(this._pane.style,n)},e.prototype._getExactOverlayY=function(e,t,n){var i={top:null,bottom:null},r=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,n));var o=this._overlayContainer?this._overlayContainer.getContainerElement().getBoundingClientRect().top:0;if(r.y-=o,"bottom"===e.overlayY){var s=this._document.documentElement.clientHeight;i.bottom=s-(r.y+this._overlayRect.height)+"px"}else i.top=yt(r.y);return i},e.prototype._getExactOverlayX=function(e,t,n){var i={left:null,right:null},r=this._getOverlayPoint(t,this._overlayRect,e);if(this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,n)),"right"===(this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left")){var o=this._document.documentElement.clientWidth;i.right=o-(r.x+this._overlayRect.width)+"px"}else i.left=yt(r.x);return i},e.prototype._getScrollVisibility=function(){var e=this._origin.getBoundingClientRect(),t=this._pane.getBoundingClientRect(),n=this.scrollables.map(function(e){return e.getElementRef().nativeElement.getBoundingClientRect()});return{isOriginClipped:On(e,n),isOriginOutsideView:wn(e,n),isOverlayClipped:On(t,n),isOverlayOutsideView:wn(t,n)}},e.prototype._subtractOverflows=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce(function(e,t){return e-Math.max(t,0)},e)},e.prototype._getNarrowedViewportRect=function(){var e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+e-this._viewportMargin,bottom:n.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}},e.prototype._isRtl=function(){return"rtl"===this._overlayRef.getDirection()},e.prototype._hasExactPosition=function(){return!this._hasFlexibleDimensions||this._isPushed},e.prototype._getOffset=function(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY},e.prototype._validatePositions=function(){if(!this._preferredPositions.length)throw Error("FlexibleConnectedPositionStrategy: At least one position is required.");this._preferredPositions.forEach(function(e){En("originX",e.originX),Mn("originY",e.originY),En("overlayX",e.overlayX),Mn("overlayY",e.overlayY)})},e.prototype._addPanelClasses=function(e){var t=this;this._pane&&mt(e).forEach(function(e){-1===t._appliedPanelClasses.indexOf(e)&&(t._appliedPanelClasses.push(e),t._pane.classList.add(e))})},e.prototype._clearPanelClasses=function(){var e=this;this._pane&&(this._appliedPanelClasses.forEach(function(t){return e._pane.classList.remove(t)}),this._appliedPanelClasses=[])},e}();function Vn(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}var Fn=function(){function e(e,t,n,i,r,o){this._preferredPositions=[],this._positionStrategy=new Rn(n,i,r,o).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(e,t)}return Object.defineProperty(e.prototype,"_isRtl",{get:function(){return"rtl"===this._overlayRef.getDirection()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onPositionChange",{get:function(){return this._positionStrategy.positionChanges},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"positions",{get:function(){return this._preferredPositions},enumerable:!0,configurable:!0}),e.prototype.attach=function(e){this._overlayRef=e,this._positionStrategy.attach(e),this._direction&&(e.setDirection(this._direction),this._direction=null)},e.prototype.dispose=function(){this._positionStrategy.dispose()},e.prototype.detach=function(){this._positionStrategy.detach()},e.prototype.apply=function(){this._positionStrategy.apply()},e.prototype.recalculateLastPosition=function(){this._positionStrategy.reapplyLastPosition()},e.prototype.withScrollableContainers=function(e){this._positionStrategy.withScrollableContainers(e)},e.prototype.withFallbackPosition=function(e,t,n,i){var r=new Sn(e,t,n,i);return this._preferredPositions.push(r),this._positionStrategy.withPositions(this._preferredPositions),this},e.prototype.withDirection=function(e){return this._overlayRef?this._overlayRef.setDirection(e):this._direction=e,this},e.prototype.withOffsetX=function(e){return this._positionStrategy.withDefaultOffsetX(e),this},e.prototype.withOffsetY=function(e){return this._positionStrategy.withDefaultOffsetY(e),this},e.prototype.withLockedPosition=function(e){return this._positionStrategy.withLockedPosition(e),this},e.prototype.withPositions=function(e){return this._preferredPositions=e.slice(),this._positionStrategy.withPositions(this._preferredPositions),this},e.prototype.setOrigin=function(e){return this._positionStrategy.setOrigin(e),this},e}(),Ln="cdk-global-overlay-wrapper",Bn=function(){function e(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}return e.prototype.attach=function(e){var t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(Ln),this._isDisposed=!1},e.prototype.top=function(e){return void 0===e&&(e=""),this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this},e.prototype.left=function(e){return void 0===e&&(e=""),this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this},e.prototype.bottom=function(e){return void 0===e&&(e=""),this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this},e.prototype.right=function(e){return void 0===e&&(e=""),this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this},e.prototype.width=function(e){return void 0===e&&(e=""),this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this},e.prototype.height=function(e){return void 0===e&&(e=""),this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this},e.prototype.centerHorizontally=function(e){return void 0===e&&(e=""),this.left(e),this._justifyContent="center",this},e.prototype.centerVertically=function(e){return void 0===e&&(e=""),this.top(e),this._alignItems="center",this},e.prototype.apply=function(){if(this._overlayRef&&this._overlayRef.hasAttached()){var e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig();e.position=this._cssPosition,e.marginLeft="100%"===n.width?"0":this._leftOffset,e.marginTop="100%"===n.height?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,"100%"===n.width?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems="100%"===n.height?"flex-start":this._alignItems}},e.prototype.dispose=function(){if(!this._isDisposed&&this._overlayRef){var e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,n=t.style;t.classList.remove(Ln),n.justifyContent=n.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}},e}(),Nn=function(){function e(e,t,n,i){this._viewportRuler=e,this._document=t,this._platform=n,this._overlayContainer=i}return e.prototype.global=function(){return new Bn},e.prototype.connectedTo=function(e,t,n){return new Fn(t,n,e,this._viewportRuler,this._document)},e.prototype.flexibleConnectedTo=function(e){return new Rn(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)},e.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:sn},{type:void 0,decorators:[{type:t.Inject,args:[n.DOCUMENT]}]},{type:at,decorators:[{type:t.Optional}]},{type:An,decorators:[{type:t.Optional}]}]},e.ngInjectableDef=t.defineInjectable({factory:function(){return new e(t.inject(sn),t.inject(n.DOCUMENT),t.inject(at,8),t.inject(An,8))},token:e,providedIn:"root"}),e}(),Yn=0,Hn=function(){function e(e,t,n,i,r,o,s,a,c,l){this.scrollStrategies=e,this._overlayContainer=t,this._componentFactoryResolver=n,this._positionBuilder=i,this._keyboardDispatcher=r,this._injector=o,this._ngZone=s,this._document=a,this._directionality=c,this._location=l}return e.prototype.create=function(e){var t=this._createHostElement(),n=this._createPaneElement(t),i=this._createPortalOutlet(n),r=new Tn(e);return r.direction=r.direction||this._directionality.value,new Pn(i,t,n,r,this._ngZone,this._keyboardDispatcher,this._document,this._location)},e.prototype.position=function(){return this._positionBuilder},e.prototype._createPaneElement=function(e){var t=this._document.createElement("div");return t.id="cdk-overlay-"+Yn++,t.classList.add("cdk-overlay-pane"),e.appendChild(t),t},e.prototype._createHostElement=function(){var e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e},e.prototype._createPortalOutlet=function(e){return this._appRef||(this._appRef=this._injector.get(t.ApplicationRef)),new hn(e,this._componentFactoryResolver,this._appRef,this._injector)},e.decorators=[{type:t.Injectable}],e.ctorParameters=function(){return[{type:Cn},{type:An},{type:t.ComponentFactoryResolver},{type:Nn},{type:xn},{type:t.Injector},{type:t.NgZone},{type:void 0,decorators:[{type:t.Inject,args:[n.DOCUMENT]}]},{type:Wt},{type:n.Location,decorators:[{type:t.Optional}]}]},e}(),zn=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],Wn=new t.InjectionToken("cdk-connected-overlay-scroll-strategy"),Zn=function(){function e(e){this.elementRef=e}return e.decorators=[{type:t.Directive,args:[{selector:"[cdk-overlay-origin], [overlay-origin], [cdkOverlayOrigin]",exportAs:"cdkOverlayOrigin"}]}],e.ctorParameters=function(){return[{type:t.ElementRef}]},e}(),Xn=function(){function e(e,n,i,r,o){this._overlay=e,this._dir=o,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=_.EMPTY,this.viewportMargin=0,this.open=!1,this.backdropClick=new t.EventEmitter,this.positionChange=new t.EventEmitter,this.attach=new t.EventEmitter,this.detach=new t.EventEmitter,this.overlayKeydown=new t.EventEmitter,this._templatePortal=new un(n,i),this._scrollStrategyFactory=r,this.scrollStrategy=this._scrollStrategyFactory()}return Object.defineProperty(e.prototype,"offsetX",{get:function(){return this._offsetX},set:function(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"offsetY",{get:function(){return this._offsetY},set:function(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasBackdrop",{get:function(){return this._hasBackdrop},set:function(e){this._hasBackdrop=dt(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lockPosition",{get:function(){return this._lockPosition},set:function(e){this._lockPosition=dt(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"flexibleDimensions",{get:function(){return this._flexibleDimensions},set:function(e){this._flexibleDimensions=dt(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"growAfterOpen",{get:function(){return this._growAfterOpen},set:function(e){this._growAfterOpen=dt(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"push",{get:function(){return this._push},set:function(e){this._push=dt(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"overlayRef",{get:function(){return this._overlayRef},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dir",{get:function(){return this._dir?this._dir.value:"ltr"},enumerable:!0,configurable:!0}),e.prototype.ngOnDestroy=function(){this._destroyOverlay()},e.prototype.ngOnChanges=function(e){this._position&&(this._updatePositionStrategy(this._position),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())},e.prototype._createOverlay=function(){var e=this;this.positions&&this.positions.length||(this.positions=zn),this._overlayRef=this._overlay.create(this._buildConfig()),this._overlayRef.keydownEvents().subscribe(function(t){e.overlayKeydown.next(t),t.keyCode===Ie&&e._detachOverlay()})},e.prototype._buildConfig=function(){var e=this._position=this._createPositionStrategy(),t=new Tn({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(t.width=this.width),(this.height||0===this.height)&&(t.height=this.height),(this.minWidth||0===this.minWidth)&&(t.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(t.minHeight=this.minHeight),this.backdropClass&&(t.backdropClass=this.backdropClass),this.panelClass&&(t.panelClass=this.panelClass),t},e.prototype._updatePositionStrategy=function(e){var t=this,n=this.positions.map(function(e){return{originX:e.originX,originY:e.originY,overlayX:e.overlayX,overlayY:e.overlayY,offsetX:e.offsetX||t.offsetX,offsetY:e.offsetY||t.offsetY}});return e.setOrigin(this.origin.elementRef).withPositions(n).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition)},e.prototype._createPositionStrategy=function(){var e=this,t=this._overlay.position().flexibleConnectedTo(this.origin.elementRef);return this._updatePositionStrategy(t),t.positionChanges.subscribe(function(t){return e.positionChange.emit(t)}),t},e.prototype._attachOverlay=function(){var e=this;this._overlayRef?this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}):this._createOverlay(),this._overlayRef.hasAttached()||(this._overlayRef.attach(this._templatePortal),this.attach.emit()),this.hasBackdrop&&(this._backdropSubscription=this._overlayRef.backdropClick().subscribe(function(t){e.backdropClick.emit(t)}))},e.prototype._detachOverlay=function(){this._overlayRef&&(this._overlayRef.detach(),this.detach.emit()),this._backdropSubscription.unsubscribe()},e.prototype._destroyOverlay=function(){this._overlayRef&&this._overlayRef.dispose(),this._backdropSubscription.unsubscribe()},e.decorators=[{type:t.Directive,args:[{selector:"[cdk-connected-overlay], [connected-overlay], [cdkConnectedOverlay]",exportAs:"cdkConnectedOverlay"}]}],e.ctorParameters=function(){return[{type:Hn},{type:t.TemplateRef},{type:t.ViewContainerRef},{type:void 0,decorators:[{type:t.Inject,args:[Wn]}]},{type:Wt,decorators:[{type:t.Optional}]}]},e.propDecorators={origin:[{type:t.Input,args:["cdkConnectedOverlayOrigin"]}],positions:[{type:t.Input,args:["cdkConnectedOverlayPositions"]}],offsetX:[{type:t.Input,args:["cdkConnectedOverlayOffsetX"]}],offsetY:[{type:t.Input,args:["cdkConnectedOverlayOffsetY"]}],width:[{type:t.Input,args:["cdkConnectedOverlayWidth"]}],height:[{type:t.Input,args:["cdkConnectedOverlayHeight"]}],minWidth:[{type:t.Input,args:["cdkConnectedOverlayMinWidth"]}],minHeight:[{type:t.Input,args:["cdkConnectedOverlayMinHeight"]}],backdropClass:[{type:t.Input,args:["cdkConnectedOverlayBackdropClass"]}],panelClass:[{type:t.Input,args:["cdkConnectedOverlayPanelClass"]}],viewportMargin:[{type:t.Input,args:["cdkConnectedOverlayViewportMargin"]}],scrollStrategy:[{type:t.Input,args:["cdkConnectedOverlayScrollStrategy"]}],open:[{type:t.Input,args:["cdkConnectedOverlayOpen"]}],hasBackdrop:[{type:t.Input,args:["cdkConnectedOverlayHasBackdrop"]}],lockPosition:[{type:t.Input,args:["cdkConnectedOverlayLockPosition"]}],flexibleDimensions:[{type:t.Input,args:["cdkConnectedOverlayFlexibleDimensions"]}],growAfterOpen:[{type:t.Input,args:["cdkConnectedOverlayGrowAfterOpen"]}],push:[{type:t.Input,args:["cdkConnectedOverlayPush"]}],backdropClick:[{type:t.Output}],positionChange:[{type:t.Output}],attach:[{type:t.Output}],detach:[{type:t.Output}],overlayKeydown:[{type:t.Output}]},e}();var $n={provide:Wn,deps:[Hn],useFactory:function(e){return function(){return e.scrollStrategies.reposition()}}},Kn=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{imports:[Xt,mn,on],exports:[Xn,Zn,on],declarations:[Xn,Zn],providers:[Hn,$n]}]}],e}(),Un=(function(e){function i(t){return e.call(this,t)||this}it(i,e),i.prototype.ngOnDestroy=function(){e.prototype.ngOnDestroy.call(this),this._fullScreenEventName&&this._fullScreenListener&&this._document.removeEventListener(this._fullScreenEventName,this._fullScreenListener)},i.prototype._createContainer=function(){var t=this;e.prototype._createContainer.call(this),this._adjustParentForFullscreenChange(),this._addFullscreenChangeListener(function(){return t._adjustParentForFullscreenChange()})},i.prototype._adjustParentForFullscreenChange=function(){this._containerElement&&(this.getFullscreenElement()||this._document.body).appendChild(this._containerElement)},i.prototype._addFullscreenChangeListener=function(e){var t=this._getEventName();t&&(this._fullScreenListener&&this._document.removeEventListener(t,this._fullScreenListener),this._document.addEventListener(t,e),this._fullScreenListener=e)},i.prototype._getEventName=function(){return this._fullScreenEventName||(this._document.fullscreenEnabled?this._fullScreenEventName="fullscreenchange":this._document.webkitFullscreenEnabled?this._fullScreenEventName="webkitfullscreenchange":this._document.mozFullScreenEnabled?this._fullScreenEventName="mozfullscreenchange":this._document.msFullscreenEnabled&&(this._fullScreenEventName="MSFullscreenChange")),this._fullScreenEventName},i.prototype.getFullscreenElement=function(){return this._document.fullscreenElement||this._document.webkitFullscreenElement||this._document.mozFullScreenElement||this._document.msFullscreenElement||null},i.decorators=[{type:t.Injectable}],i.ctorParameters=function(){return[{type:void 0,decorators:[{type:t.Inject,args:[n.DOCUMENT]}]}]}}(An),function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s}),Gn=function(){function e(){this.changes=new P,this.upSecondLabel="Add a second",this.downSecondLabel="Minus a second",this.upMinuteLabel="Add a minute",this.downMinuteLabel="Minus a minute",this.upHourLabel="Add a hour",this.downHourLabel="Minus a hour",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 21 years",this.nextMultiYearLabel="Next 21 years",this.switchToMonthViewLabel="Change to month view",this.switchToMultiYearViewLabel="Choose month and year",this.cancelBtnLabel="Cancel",this.setBtnLabel="Set",this.rangeFromLabel="From",this.rangeToLabel="To",this.hour12AMLabel="AM",this.hour12PMLabel="PM"}return e=Un([t.Injectable({providedIn:"root"})],e)}(),qn=new t.InjectionToken("OWL_DATE_TIME_LOCALE",{providedIn:"root",factory:function(){return t.inject(t.LOCALE_ID)}});var Jn,Qn={provide:qn,useExisting:t.LOCALE_ID},ei=function(){function e(){this._localeChanges=new P,this.millisecondsInDay=864e5,this.milliseondsInMinute=6e4}return Object.defineProperty(e.prototype,"localeChanges",{get:function(){return this._localeChanges},enumerable:!0,configurable:!0}),e.prototype.compare=function(e,t){if(!this.isValid(e)||!this.isValid(t))throw Error("JSNativeDate: Cannot compare invalid dates.");var n=this.clone(e),i=this.clone(t),r=this.getTime(n)-this.getTime(i);return r<0?-1:r>0?1:r},e.prototype.compareYear=function(e,t){if(!this.isValid(e)||!this.isValid(t))throw Error("JSNativeDate: Cannot compare invalid dates.");var n=this.getYear(e)-this.getYear(t);return n<0?-1:n>0?1:0},e.prototype.deserialize=function(e){return null==e||this.isDateInstance(e)&&this.isValid(e)?e:this.invalid()},e.prototype.setLocale=function(e){this.locale=e,this._localeChanges.next()},e.prototype.clampDate=function(e,t,n){return t&&this.compare(e,t)<0?t:n&&this.compare(e,n)>0?n:e},e}(),ti=new t.InjectionToken("OWL_DATE_TIME_FORMATS"),ni=function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},ii=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ri=function(e,t){return function(n,i){t(n,i,e)}},oi=function(){function e(e,n,i,r,o,s){var a=this;this.elmRef=e,this.pickerIntl=n,this.ngZone=i,this.cdRef=r,this.dateTimeAdapter=o,this.dateTimeFormats=s,this.firstDayOfWeek=0,this._selecteds=[],this.startView="month",this.pickerMomentChange=new t.EventEmitter,this.selectedChange=new t.EventEmitter,this.userSelection=new t.EventEmitter,this.yearSelected=new t.EventEmitter,this.monthSelected=new t.EventEmitter,this.dateFilterForViews=function(e){return!!e&&(!a.dateFilter||a.dateFilter(e))&&(!a.minDate||a.dateTimeAdapter.compare(e,a.minDate)>=0)&&(!a.maxDate||a.dateTimeAdapter.compare(e,a.maxDate)<=0)},this.intlChangesSub=_.EMPTY,this.moveFocusOnNextTick=!1,this.intlChangesSub=this.pickerIntl.changes.subscribe(function(){a.cdRef.markForCheck()})}return Object.defineProperty(e.prototype,"minDate",{get:function(){return this._minDate},set:function(e){e=this.dateTimeAdapter.deserialize(e),e=this.getValidDate(e),this._minDate=e?this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(e),this.dateTimeAdapter.getMonth(e),this.dateTimeAdapter.getDate(e)):null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxDate",{get:function(){return this._maxDate},set:function(e){e=this.dateTimeAdapter.deserialize(e),e=this.getValidDate(e),this._maxDate=e?this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(e),this.dateTimeAdapter.getMonth(e),this.dateTimeAdapter.getDate(e)):null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pickerMoment",{get:function(){return this._pickerMoment},set:function(e){e=this.dateTimeAdapter.deserialize(e),this._pickerMoment=this.getValidDate(e)||this.dateTimeAdapter.now()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selected",{get:function(){return this._selected},set:function(e){e=this.dateTimeAdapter.deserialize(e),this._selected=this.getValidDate(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selecteds",{get:function(){return this._selecteds},set:function(e){var t=this;this._selecteds=e.map(function(e){return e=t.dateTimeAdapter.deserialize(e),t.getValidDate(e)})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"periodButtonText",{get:function(){return this.isMonthView?this.dateTimeAdapter.format(this.pickerMoment,this.dateTimeFormats.monthYearLabel):this.dateTimeAdapter.getYearName(this.pickerMoment)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"periodButtonLabel",{get:function(){return this.isMonthView?this.pickerIntl.switchToMultiYearViewLabel:this.pickerIntl.switchToMonthViewLabel},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"prevButtonLabel",{get:function(){return"month"===this._currentView?this.pickerIntl.prevMonthLabel:"year"===this._currentView?this.pickerIntl.prevYearLabel:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nextButtonLabel",{get:function(){return"month"===this._currentView?this.pickerIntl.nextMonthLabel:"year"===this._currentView?this.pickerIntl.nextYearLabel:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentView",{get:function(){return this._currentView},set:function(e){this._currentView=e,this.moveFocusOnNextTick=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isInSingleMode",{get:function(){return"single"===this.selectMode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isInRangeMode",{get:function(){return"range"===this.selectMode||"rangeFrom"===this.selectMode||"rangeTo"===this.selectMode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showControlArrows",{get:function(){return"multi-years"!==this._currentView},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isMonthView",{get:function(){return"month"===this._currentView},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"owlDTCalendarClass",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.ngAfterContentInit=function(){this._currentView=this.startView},e.prototype.ngAfterViewChecked=function(){this.moveFocusOnNextTick&&(this.moveFocusOnNextTick=!1,this.focusActiveCell())},e.prototype.ngOnDestroy=function(){this.intlChangesSub.unsubscribe()},e.prototype.toggleViews=function(){this.currentView="month"==this._currentView?"multi-years":"month"},e.prototype.previousClicked=function(){this.pickerMoment=this.isMonthView?this.dateTimeAdapter.addCalendarMonths(this.pickerMoment,-1):this.dateTimeAdapter.addCalendarYears(this.pickerMoment,-1),this.pickerMomentChange.emit(this.pickerMoment)},e.prototype.nextClicked=function(){this.pickerMoment=this.isMonthView?this.dateTimeAdapter.addCalendarMonths(this.pickerMoment,1):this.dateTimeAdapter.addCalendarYears(this.pickerMoment,1),this.pickerMomentChange.emit(this.pickerMoment)},e.prototype.dateSelected=function(e){this.dateFilterForViews(e)&&this.selectedChange.emit(e)},e.prototype.goToDateInView=function(e,t){this.handlePickerMomentChange(e),this.currentView=t},e.prototype.handlePickerMomentChange=function(e){this.pickerMoment=this.dateTimeAdapter.clampDate(e,this.minDate,this.maxDate),this.pickerMomentChange.emit(this.pickerMoment)},e.prototype.userSelected=function(){this.userSelection.emit()},e.prototype.prevButtonEnabled=function(){return!this.minDate||!this.isSameView(this.pickerMoment,this.minDate)},e.prototype.nextButtonEnabled=function(){return!this.maxDate||!this.isSameView(this.pickerMoment,this.maxDate)},e.prototype.focusActiveCell=function(){var e=this;this.ngZone.runOutsideAngular(function(){e.ngZone.onStable.asObservable().pipe(We(1)).subscribe(function(){e.elmRef.nativeElement.querySelector(".owl-dt-calendar-cell-active").focus()})})},e.prototype.selectYearInMultiYearView=function(e){this.yearSelected.emit(e)},e.prototype.selectMonthInYearView=function(e){this.monthSelected.emit(e)},e.prototype.isSameView=function(e,t){return"month"===this._currentView?!(!e||!t||this.dateTimeAdapter.getYear(e)!==this.dateTimeAdapter.getYear(t)||this.dateTimeAdapter.getMonth(e)!==this.dateTimeAdapter.getMonth(t)):"year"===this._currentView&&!(!e||!t||this.dateTimeAdapter.getYear(e)!==this.dateTimeAdapter.getYear(t))},e.prototype.getValidDate=function(e){return this.dateTimeAdapter.isDateInstance(e)&&this.dateTimeAdapter.isValid(e)?e:null},ni([t.Input(),ii("design:type",Function)],e.prototype,"dateFilter",void 0),ni([t.Input(),ii("design:type",Object)],e.prototype,"firstDayOfWeek",void 0),ni([t.Input(),ii("design:type",Object),ii("design:paramtypes",[Object])],e.prototype,"minDate",null),ni([t.Input(),ii("design:type",Object),ii("design:paramtypes",[Object])],e.prototype,"maxDate",null),ni([t.Input(),ii("design:type",Object),ii("design:paramtypes",[Object])],e.prototype,"pickerMoment",null),ni([t.Input(),ii("design:type",String)],e.prototype,"selectMode",void 0),ni([t.Input(),ii("design:type",Object),ii("design:paramtypes",[Object])],e.prototype,"selected",null),ni([t.Input(),ii("design:type",Array),ii("design:paramtypes",[Array])],e.prototype,"selecteds",null),ni([t.Input(),ii("design:type",String)],e.prototype,"startView",void 0),ni([t.Input(),ii("design:type",Boolean)],e.prototype,"hideOtherMonths",void 0),ni([t.Output(),ii("design:type",Object)],e.prototype,"pickerMomentChange",void 0),ni([t.Output(),ii("design:type",Object)],e.prototype,"selectedChange",void 0),ni([t.Output(),ii("design:type",Object)],e.prototype,"userSelection",void 0),ni([t.Output(),ii("design:type",Object)],e.prototype,"yearSelected",void 0),ni([t.Output(),ii("design:type",Object)],e.prototype,"monthSelected",void 0),ni([t.HostBinding("class.owl-dt-calendar"),ii("design:type",Boolean),ii("design:paramtypes",[])],e.prototype,"owlDTCalendarClass",null),e=ni([t.Component({selector:"owl-date-time-calendar",exportAs:"owlDateTimeCalendar",template:'<div class="owl-dt-calendar-control">\x3c!-- focus when keyboard tab (http://kizu.ru/en/blog/keyboard-only-focus/#x) --\x3e <button class="owl-dt-control owl-dt-control-button owl-dt-control-arrow-button" type="button" tabindex="0" [style.visibility]="showControlArrows? \'visible\': \'hidden\'" [disabled]="!prevButtonEnabled()" [attr.aria-label]="prevButtonLabel" (click)="previousClicked()"><span class="owl-dt-control-content owl-dt-control-button-content" tabindex="-1">\x3c!-- <editor-fold desc="SVG Arrow Left"> --\x3e <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewBox="0 0 250.738 250.738" style="enable-background:new 0 0 250.738 250.738;" xml:space="preserve" width="100%" height="100%"><path style="fill-rule: evenodd; clip-rule: evenodd;" d="M96.633,125.369l95.053-94.533c7.101-7.055,7.101-18.492,0-25.546   c-7.1-7.054-18.613-7.054-25.714,0L58.989,111.689c-3.784,3.759-5.487,8.759-5.238,13.68c-0.249,4.922,1.454,9.921,5.238,13.681   l106.983,106.398c7.101,7.055,18.613,7.055,25.714,0c7.101-7.054,7.101-18.491,0-25.544L96.633,125.369z"/></svg>\x3c!-- </editor-fold> --\x3e</span></button><div class="owl-dt-calendar-control-content"><button class="owl-dt-control owl-dt-control-button owl-dt-control-period-button" type="button" tabindex="0" [attr.aria-label]="periodButtonLabel" (click)="toggleViews()"><span class="owl-dt-control-content owl-dt-control-button-content" tabindex="-1">{{periodButtonText}} <span class="owl-dt-control-button-arrow" [style.transform]="\'rotate(\' + (isMonthView? 0 : 180) +\'deg)\'">\x3c!-- <editor-fold desc="SVG Arrow"> --\x3e <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="50%" height="50%" viewBox="0 0 292.362 292.362" style="enable-background:new 0 0 292.362 292.362;" xml:space="preserve"><g><path d="M286.935,69.377c-3.614-3.617-7.898-5.424-12.848-5.424H18.274c-4.952,0-9.233,1.807-12.85,5.424\n                                C1.807,72.998,0,77.279,0,82.228c0,4.948,1.807,9.229,5.424,12.847l127.907,127.907c3.621,3.617,7.902,5.428,12.85,5.428\n                                s9.233-1.811,12.847-5.428L286.935,95.074c3.613-3.617,5.427-7.898,5.427-12.847C292.362,77.279,290.548,72.998,286.935,69.377z"/></g></svg>\x3c!-- </editor-fold> --\x3e</span></span></button></div><button class="owl-dt-control owl-dt-control-button owl-dt-control-arrow-button" type="button" tabindex="0" [style.visibility]="showControlArrows? \'visible\': \'hidden\'" [disabled]="!nextButtonEnabled()" [attr.aria-label]="nextButtonLabel" (click)="nextClicked()"><span class="owl-dt-control-content owl-dt-control-button-content" tabindex="-1">\x3c!-- <editor-fold desc="SVG Arrow Right"> --\x3e <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 250.738 250.738" style="enable-background:new 0 0 250.738 250.738;" xml:space="preserve"><path style="fill-rule:evenodd;clip-rule:evenodd;" d="M191.75,111.689L84.766,5.291c-7.1-7.055-18.613-7.055-25.713,0\n                    c-7.101,7.054-7.101,18.49,0,25.544l95.053,94.534l-95.053,94.533c-7.101,7.054-7.101,18.491,0,25.545\n                    c7.1,7.054,18.613,7.054,25.713,0L191.75,139.05c3.784-3.759,5.487-8.759,5.238-13.681\n                    C197.237,120.447,195.534,115.448,191.75,111.689z"/></svg>\x3c!-- </editor-fold> --\x3e</span></button></div><div class="owl-dt-calendar-main" cdkMonitorSubtreeFocus [ngSwitch]="currentView" tabindex="-1"><owl-date-time-month-view *ngSwitchCase="\'month\'" [pickerMoment]="pickerMoment" [firstDayOfWeek]="firstDayOfWeek" [selected]="selected" [selecteds]="selecteds" [selectMode]="selectMode" [minDate]="minDate" [maxDate]="maxDate" [dateFilter]="dateFilter" [hideOtherMonths]="hideOtherMonths" (pickerMomentChange)="handlePickerMomentChange($event)" (selectedChange)="dateSelected($event)" (userSelection)="userSelected()"></owl-date-time-month-view><owl-date-time-year-view *ngSwitchCase="\'year\'" [pickerMoment]="pickerMoment" [selected]="selected" [selecteds]="selecteds" [selectMode]="selectMode" [minDate]="minDate" [maxDate]="maxDate" [dateFilter]="dateFilter" (keyboardEnter)="focusActiveCell()" (pickerMomentChange)="handlePickerMomentChange($event)" (monthSelected)="selectMonthInYearView($event)" (change)="goToDateInView($event, \'month\')"></owl-date-time-year-view><owl-date-time-multi-year-view *ngSwitchCase="\'multi-years\'" [pickerMoment]="pickerMoment" [selected]="selected" [selecteds]="selecteds" [selectMode]="selectMode" [minDate]="minDate" [maxDate]="maxDate" [dateFilter]="dateFilter" (keyboardEnter)="focusActiveCell()" (pickerMomentChange)="handlePickerMomentChange($event)" (yearSelected)="selectYearInMultiYearView($event)" (change)="goToDateInView($event, \'year\')"></owl-date-time-multi-year-view></div>',styles:[""],preserveWhitespaces:!1,changeDetection:t.ChangeDetectionStrategy.OnPush}),ri(4,t.Optional()),ri(5,t.Optional()),ri(5,t.Inject(ti)),ii("design:paramtypes",[t.ElementRef,Gn,t.NgZone,t.ChangeDetectorRef,ei,Object])],e)}(),si=function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},ai=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ci=function(e,t){return function(n,i){t(n,i,e)}},li=function(){function e(e,n,i,r,o){this.ngZone=e,this.elmRef=n,this.pickerIntl=i,this.cdRef=r,this.dateTimeAdapter=o,this.isPM=!1,this.stepHour=1,this.stepMinute=1,this.stepSecond=1,this.selectedChange=new t.EventEmitter}return Object.defineProperty(e.prototype,"pickerMoment",{get:function(){return this._pickerMoment},set:function(e){e=this.dateTimeAdapter.deserialize(e),this._pickerMoment=this.getValidDate(e)||this.dateTimeAdapter.now()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minDateTime",{get:function(){return this._minDateTime},set:function(e){e=this.dateTimeAdapter.deserialize(e),this._minDateTime=this.getValidDate(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxDateTime",{get:function(){return this._maxDateTime},set:function(e){e=this.dateTimeAdapter.deserialize(e),this._maxDateTime=this.getValidDate(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hourValue",{get:function(){return this.dateTimeAdapter.getHours(this.pickerMoment)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hourBoxValue",{get:function(){var e=this.hourValue;return this.hour12Timer?(0===e?(e=12,this.isPM=!1):e>0&&e<12?this.isPM=!1:12===e?this.isPM=!0:e>12&&e<24&&(e-=12,this.isPM=!0),e):e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minuteValue",{get:function(){return this.dateTimeAdapter.getMinutes(this.pickerMoment)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"secondValue",{get:function(){return this.dateTimeAdapter.getSeconds(this.pickerMoment)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"upHourButtonLabel",{get:function(){return this.pickerIntl.upHourLabel},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"downHourButtonLabel",{get:function(){return this.pickerIntl.downHourLabel},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"upMinuteButtonLabel",{get:function(){return this.pickerIntl.upMinuteLabel},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"downMinuteButtonLabel",{get:function(){return this.pickerIntl.downMinuteLabel},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"upSecondButtonLabel",{get:function(){return this.pickerIntl.upSecondLabel},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"downSecondButtonLabel",{get:function(){return this.pickerIntl.downSecondLabel},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hour12ButtonLabel",{get:function(){return this.isPM?this.pickerIntl.hour12PMLabel:this.pickerIntl.hour12AMLabel},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"owlDTTimerClass",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"owlDTTimeTabIndex",{get:function(){return-1},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.focus=function(){var e=this;this.ngZone.runOutsideAngular(function(){e.ngZone.onStable.asObservable().pipe(We(1)).subscribe(function(){e.elmRef.nativeElement.focus()})})},e.prototype.setHourValueViaInput=function(e){this.hour12Timer&&this.isPM&&e>=1&&e<=11?e+=12:this.hour12Timer&&!this.isPM&&12===e&&(e=0),this.setHourValue(e)},e.prototype.setHourValue=function(e){var t=this.dateTimeAdapter.setHours(this.pickerMoment,e);this.selectedChange.emit(t),this.cdRef.markForCheck()},e.prototype.setMinuteValue=function(e){var t=this.dateTimeAdapter.setMinutes(this.pickerMoment,e);this.selectedChange.emit(t),this.cdRef.markForCheck()},e.prototype.setSecondValue=function(e){var t=this.dateTimeAdapter.setSeconds(this.pickerMoment,e);this.selectedChange.emit(t),this.cdRef.markForCheck()},e.prototype.setMeridiem=function(e){this.isPM=!this.isPM;var t=this.hourValue;this.isPM?t+=12:t-=12,t>=0&&t<=23&&this.setHourValue(t),this.cdRef.markForCheck(),e.preventDefault()},e.prototype.upHourEnabled=function(){return!this.maxDateTime||this.compareHours(this.stepHour,this.maxDateTime)<1},e.prototype.downHourEnabled=function(){return!this.minDateTime||this.compareHours(-this.stepHour,this.minDateTime)>-1},e.prototype.upMinuteEnabled=function(){return!this.maxDateTime||this.compareMinutes(this.stepMinute,this.maxDateTime)<1},e.prototype.downMinuteEnabled=function(){return!this.minDateTime||this.compareMinutes(-this.stepMinute,this.minDateTime)>-1},e.prototype.upSecondEnabled=function(){return!this.maxDateTime||this.compareSeconds(this.stepSecond,this.maxDateTime)<1},e.prototype.downSecondEnabled=function(){return!this.minDateTime||this.compareSeconds(-this.stepSecond,this.minDateTime)>-1},e.prototype.compareHours=function(e,t){var n=this.dateTimeAdapter.getHours(this.pickerMoment)+e,i=this.dateTimeAdapter.setHours(this.pickerMoment,n);return this.dateTimeAdapter.compare(i,t)},e.prototype.compareMinutes=function(e,t){var n=this.dateTimeAdapter.getMinutes(this.pickerMoment)+e,i=this.dateTimeAdapter.setMinutes(this.pickerMoment,n);return this.dateTimeAdapter.compare(i,t)},e.prototype.compareSeconds=function(e,t){var n=this.dateTimeAdapter.getSeconds(this.pickerMoment)+e,i=this.dateTimeAdapter.setSeconds(this.pickerMoment,n);return this.dateTimeAdapter.compare(i,t)},e.prototype.getValidDate=function(e){return this.dateTimeAdapter.isDateInstance(e)&&this.dateTimeAdapter.isValid(e)?e:null},si([t.Input(),ai("design:type",Object),ai("design:paramtypes",[Object])],e.prototype,"pickerMoment",null),si([t.Input(),ai("design:type",Object),ai("design:paramtypes",[Object])],e.prototype,"minDateTime",null),si([t.Input(),ai("design:type",Object),ai("design:paramtypes",[Object])],e.prototype,"maxDateTime",null),si([t.Input(),ai("design:type",Boolean)],e.prototype,"showSecondsTimer",void 0),si([t.Input(),ai("design:type",Boolean)],e.prototype,"hour12Timer",void 0),si([t.Input(),ai("design:type",Object)],e.prototype,"stepHour",void 0),si([t.Input(),ai("design:type",Object)],e.prototype,"stepMinute",void 0),si([t.Input(),ai("design:type",Object)],e.prototype,"stepSecond",void 0),si([t.Output(),ai("design:type",Object)],e.prototype,"selectedChange",void 0),si([t.HostBinding("class.owl-dt-timer"),ai("design:type",Boolean),ai("design:paramtypes",[])],e.prototype,"owlDTTimerClass",null),si([t.HostBinding("attr.tabindex"),ai("design:type",Number),ai("design:paramtypes",[])],e.prototype,"owlDTTimeTabIndex",null),e=si([t.Component({exportAs:"owlDateTimeTimer",selector:"owl-date-time-timer",template:'<owl-date-time-timer-box [upBtnAriaLabel]="upHourButtonLabel" [downBtnAriaLabel]="downHourButtonLabel" [upBtnDisabled]="!upHourEnabled()" [downBtnDisabled]="!downHourEnabled()" [boxValue]="hourBoxValue" [value]="hourValue" [min]="0" [max]="23" [step]="stepHour" [inputLabel]="\'Hour\'" (inputChange)="setHourValueViaInput($event)" (valueChange)="setHourValue($event)"></owl-date-time-timer-box><owl-date-time-timer-box [showDivider]="true" [upBtnAriaLabel]="upMinuteButtonLabel" [downBtnAriaLabel]="downMinuteButtonLabel" [upBtnDisabled]="!upMinuteEnabled()" [downBtnDisabled]="!downMinuteEnabled()" [value]="minuteValue" [min]="0" [max]="59" [step]="stepMinute" [inputLabel]="\'Minute\'" (inputChange)="setMinuteValue($event)" (valueChange)="setMinuteValue($event)"></owl-date-time-timer-box><owl-date-time-timer-box *ngIf="showSecondsTimer" [showDivider]="true" [upBtnAriaLabel]="upSecondButtonLabel" [downBtnAriaLabel]="downSecondButtonLabel" [upBtnDisabled]="!upSecondEnabled()" [downBtnDisabled]="!downSecondEnabled()" [value]="secondValue" [min]="0" [max]="59" [step]="stepSecond" [inputLabel]="\'Second\'" (inputChange)="setSecondValue($event)" (valueChange)="setSecondValue($event)"></owl-date-time-timer-box><div *ngIf="hour12Timer" class="owl-dt-timer-hour12"><button class="owl-dt-control-button owl-dt-timer-hour12-box" type="button" tabindex="0" (click)="setMeridiem($event)"><span class="owl-dt-control-button-content" tabindex="-1">{{hour12ButtonLabel}}</span></button></div>',styles:[""],preserveWhitespaces:!1,changeDetection:t.ChangeDetectionStrategy.OnPush}),ci(4,t.Optional()),ai("design:paramtypes",[t.NgZone,t.ElementRef,Gn,t.ChangeDetectorRef,ei])],e)}(),ui={transformPicker:i.trigger("transformPicker",[i.state("void",i.style({opacity:0,transform:"scale(1, 0)"})),i.state("enter",i.style({opacity:1,transform:"scale(1, 1)"})),i.transition("void => enter",i.group([i.query("@fadeInPicker",i.animateChild(),{optional:!0}),i.animate("400ms cubic-bezier(0.25, 0.8, 0.25, 1)")])),i.transition("enter => void",i.animate("100ms linear",i.style({opacity:0})))]),fadeInPicker:i.trigger("fadeInPicker",[i.state("enter",i.style({opacity:1})),i.state("void",i.style({opacity:0})),i.transition("void => enter",i.animate("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])},pi=function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},hi=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},di=function(e,t){return function(n,i){t(n,i,e)}},fi=function(){function e(e,t,n,i){this.cdRef=e,this.elmRef=t,this.pickerIntl=n,this.dateTimeAdapter=i,this.activeSelectedIndex=0,this.hidePicker$=new P,this.confirmSelected$=new P,this.pickerOpened$=new P}return Object.defineProperty(e.prototype,"hidePickerStream",{get:function(){return this.hidePicker$.asObservable()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"confirmSelectedStream",{get:function(){return this.confirmSelected$.asObservable()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pickerOpenedStream",{get:function(){return this.pickerOpened$.asObservable()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pickerMoment",{get:function(){return this._clamPickerMoment},set:function(e){e&&(this._clamPickerMoment=this.dateTimeAdapter.clampDate(e,this.picker.minDateTime,this.picker.maxDateTime)),this.cdRef.markForCheck()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pickerType",{get:function(){return this.picker.pickerType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cancelLabel",{get:function(){return this.pickerIntl.cancelBtnLabel},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"setLabel",{get:function(){return this.pickerIntl.setBtnLabel},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fromLabel",{get:function(){return this.pickerIntl.rangeFromLabel},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"toLabel",{get:function(){return this.pickerIntl.rangeToLabel},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fromFormattedValue",{get:function(){var e=this.picker.selecteds[0];return e?this.dateTimeAdapter.format(e,this.picker.formatString):""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"toFormattedValue",{get:function(){var e=this.picker.selecteds[1];return e?this.dateTimeAdapter.format(e,this.picker.formatString):""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showControlButtons",{get:function(){return"dialog"===this.picker.pickerMode||"calendar"!==this.picker.pickerType&&"inline"!==this.picker.pickerMode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"containerElm",{get:function(){return this.elmRef.nativeElement},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"owlDTContainerClass",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"owlDTPopupContainerClass",{get:function(){return"popup"===this.picker.pickerMode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"owlDTDialogContainerClass",{get:function(){return"dialog"===this.picker.pickerMode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"owlDTInlineContainerClass",{get:function(){return"inline"===this.picker.pickerMode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"owlDTContainerDisabledClass",{get:function(){return this.picker.disabled},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"owlDTContainerId",{get:function(){return this.picker.id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"owlDTContainerAnimation",{get:function(){return"inline"===this.picker.pickerMode?"":"enter"},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.ngAfterContentInit=function(){this.initPicker()},e.prototype.ngAfterViewInit=function(){this.focusPicker()},e.prototype.handleContainerAnimationDone=function(e){"enter"===e.toState&&this.pickerOpened$.next()},e.prototype.dateSelected=function(e){var t;this.picker.isInSingleMode?(t=this.dateSelectedInSingleMode(e))?(this.pickerMoment=t,this.picker.select(t)):"calendar"===this.pickerType&&this.hidePicker$.next(null):this.picker.isInRangeMode&&(t=this.dateSelectedInRangeMode(e))&&(this.pickerMoment=t[this.activeSelectedIndex],this.picker.select(t))},e.prototype.timeSelected=function(e){if(this.pickerMoment=this.dateTimeAdapter.clone(e),this.picker.dateTimeChecker(this.pickerMoment))if(this.picker.isInSingleMode)this.picker.select(this.pickerMoment);else if(this.picker.isInRangeMode){var t=this.picker.selecteds.slice();0===this.activeSelectedIndex&&t[1]&&1===this.dateTimeAdapter.compare(this.pickerMoment,t[1])||1===this.activeSelectedIndex&&t[0]&&-1===this.dateTimeAdapter.compare(this.pickerMoment,t[0])?(t[0]=this.pickerMoment,t[1]=this.pickerMoment):t[this.activeSelectedIndex]=this.pickerMoment,this.picker.select(t)}},e.prototype.onCancelClicked=function(e){this.hidePicker$.next(null),e.preventDefault()},e.prototype.onSetClicked=function(e){if(!this.picker.dateTimeChecker(this.pickerMoment))return this.hidePicker$.next(null),void e.preventDefault();this.confirmSelected$.next(e),e.preventDefault()},e.prototype.handleClickOnInfoGroup=function(e,t){this.setActiveSelectedIndex(t),e.preventDefault(),e.stopPropagation()},e.prototype.handleKeydownOnInfoGroup=function(e,t,n){switch(e.keyCode){case 40:case 39:case 38:case 37:t.focus(),this.setActiveSelectedIndex(0===n?1:0),e.preventDefault(),e.stopPropagation();break;case 32:this.setActiveSelectedIndex(n),e.preventDefault(),e.stopPropagation();break;default:return}},e.prototype.setActiveSelectedIndex=function(e){if("range"===this.picker.selectMode&&this.activeSelectedIndex!==e){this.activeSelectedIndex=e;var t=this.picker.selecteds[this.activeSelectedIndex];this.picker.selecteds&&t&&(this.pickerMoment=this.dateTimeAdapter.clone(t))}},e.prototype.initPicker=function(){this.pickerMoment=this.picker.startAt||this.dateTimeAdapter.now(),this.activeSelectedIndex="rangeTo"===this.picker.selectMode?1:0},e.prototype.dateSelectedInSingleMode=function(e){return this.dateTimeAdapter.isSameDay(e,this.picker.selected)?null:this.updateAndCheckCalendarDate(e)},e.prototype.dateSelectedInRangeMode=function(e){var t=this.picker.selecteds[0],n=this.picker.selecteds[1],i=this.updateAndCheckCalendarDate(e);return i?("range"===this.picker.selectMode?this.picker.selecteds&&this.picker.selecteds.length&&!n&&t&&this.dateTimeAdapter.differenceInCalendarDays(i,t)>=0?(n=i,this.activeSelectedIndex=1):(t=i,n=null,this.activeSelectedIndex=0):"rangeFrom"===this.picker.selectMode?(t=i,n&&this.dateTimeAdapter.compare(t,n)>0&&(n=null)):"rangeTo"===this.picker.selectMode&&(n=i,t&&this.dateTimeAdapter.compare(t,n)>0&&(t=null)),[t,n]):null},e.prototype.updateAndCheckCalendarDate=function(e){var t;return"both"===this.picker.pickerType?(t=this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(e),this.dateTimeAdapter.getMonth(e),this.dateTimeAdapter.getDate(e),this.dateTimeAdapter.getHours(this.pickerMoment),this.dateTimeAdapter.getMinutes(this.pickerMoment),this.dateTimeAdapter.getSeconds(this.pickerMoment)),t=this.dateTimeAdapter.clampDate(t,this.picker.minDateTime,this.picker.maxDateTime)):t=this.dateTimeAdapter.clone(e),this.picker.dateTimeChecker(t)?t:null},e.prototype.focusPicker=function(){"inline"!==this.picker.pickerMode&&(this.calendar?this.calendar.focusActiveCell():this.timer&&this.timer.focus())},pi([t.ViewChild(oi),hi("design:type",oi)],e.prototype,"calendar",void 0),pi([t.ViewChild(li),hi("design:type",li)],e.prototype,"timer",void 0),pi([t.HostBinding("class.owl-dt-container"),hi("design:type",Boolean),hi("design:paramtypes",[])],e.prototype,"owlDTContainerClass",null),pi([t.HostBinding("class.owl-dt-popup-container"),hi("design:type",Boolean),hi("design:paramtypes",[])],e.prototype,"owlDTPopupContainerClass",null),pi([t.HostBinding("class.owl-dt-dialog-container"),hi("design:type",Boolean),hi("design:paramtypes",[])],e.prototype,"owlDTDialogContainerClass",null),pi([t.HostBinding("class.owl-dt-inline-container"),hi("design:type",Boolean),hi("design:paramtypes",[])],e.prototype,"owlDTInlineContainerClass",null),pi([t.HostBinding("class.owl-dt-container-disabled"),hi("design:type",Boolean),hi("design:paramtypes",[])],e.prototype,"owlDTContainerDisabledClass",null),pi([t.HostBinding("attr.id"),hi("design:type",String),hi("design:paramtypes",[])],e.prototype,"owlDTContainerId",null),pi([t.HostBinding("@transformPicker"),hi("design:type",Object),hi("design:paramtypes",[])],e.prototype,"owlDTContainerAnimation",null),pi([t.HostListener("@transformPicker.done",["$event"]),hi("design:type",Function),hi("design:paramtypes",[Object]),hi("design:returntype",void 0)],e.prototype,"handleContainerAnimationDone",null),e=pi([t.Component({exportAs:"owlDateTimeContainer",selector:"owl-date-time-container",template:'<div [cdkTrapFocus]="picker.pickerMode !== \'inline\'" [@fadeInPicker]="picker.pickerMode === \'inline\'? \'\' : \'enter\'" class="owl-dt-container-inner"><owl-date-time-calendar *ngIf="pickerType === \'both\' || pickerType === \'calendar\'" class="owl-dt-container-row" [firstDayOfWeek]="picker.firstDayOfWeek" [(pickerMoment)]="pickerMoment" [selected]="picker.selected" [selecteds]="picker.selecteds" [selectMode]="picker.selectMode" [minDate]="picker.minDateTime" [maxDate]="picker.maxDateTime" [dateFilter]="picker.dateTimeFilter" [startView]="picker.startView" [hideOtherMonths]="picker.hideOtherMonths" (yearSelected)="picker.selectYear($event)" (monthSelected)="picker.selectMonth($event)" (selectedChange)="dateSelected($event)"></owl-date-time-calendar><owl-date-time-timer *ngIf="pickerType === \'both\' || pickerType === \'timer\'" class="owl-dt-container-row" [pickerMoment]="pickerMoment" [minDateTime]="picker.minDateTime" [maxDateTime]="picker.maxDateTime" [showSecondsTimer]="picker.showSecondsTimer" [hour12Timer]="picker.hour12Timer" [stepHour]="picker.stepHour" [stepMinute]="picker.stepMinute" [stepSecond]="picker.stepSecond" (selectedChange)="timeSelected($event)"></owl-date-time-timer><div *ngIf="picker.isInRangeMode" role="radiogroup" class="owl-dt-container-info owl-dt-container-row"><div role="radio" [tabindex]="activeSelectedIndex === 0 ? 0 : -1" [attr.aria-checked]="activeSelectedIndex === 0" class="owl-dt-control owl-dt-container-range owl-dt-container-from" [ngClass]="{\'owl-dt-container-info-active\': activeSelectedIndex === 0}" (click)="handleClickOnInfoGroup($event, 0)" (keydown)="handleKeydownOnInfoGroup($event, to, 0)" #from><span class="owl-dt-control-content owl-dt-container-range-content" tabindex="-1"><span class="owl-dt-container-info-label">{{fromLabel}}:</span> <span class="owl-dt-container-info-value">{{fromFormattedValue}}</span></span></div><div role="radio" [tabindex]="activeSelectedIndex === 1 ? 0 : -1" [attr.aria-checked]="activeSelectedIndex === 1" class="owl-dt-control owl-dt-container-range owl-dt-container-to" [ngClass]="{\'owl-dt-container-info-active\': activeSelectedIndex === 1}" (click)="handleClickOnInfoGroup($event, 1)" (keydown)="handleKeydownOnInfoGroup($event, from, 1)" #to><span class="owl-dt-control-content owl-dt-container-range-content" tabindex="-1"><span class="owl-dt-container-info-label">{{toLabel}}:</span> <span class="owl-dt-container-info-value">{{toFormattedValue}}</span></span></div></div><div *ngIf="showControlButtons" class="owl-dt-container-buttons owl-dt-container-row"><button class="owl-dt-control owl-dt-control-button owl-dt-container-control-button" type="button" tabindex="0" (click)="onCancelClicked($event)"><span class="owl-dt-control-content owl-dt-control-button-content" tabindex="-1">{{cancelLabel}}</span></button> <button class="owl-dt-control owl-dt-control-button owl-dt-container-control-button" type="button" tabindex="0" (click)="onSetClicked($event)"><span class="owl-dt-control-content owl-dt-control-button-content" tabindex="-1">{{setLabel}}</span></button></div></div>',styles:[""],changeDetection:t.ChangeDetectionStrategy.OnPush,preserveWhitespaces:!1,animations:[ui.transformPicker,ui.fadeInPicker]}),di(3,t.Optional()),hi("design:paramtypes",[t.ChangeDetectorRef,t.ElementRef,Gn,ei])],e)}(),mi=function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},yi=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},gi=function(e,t){return function(n,i){t(n,i,e)}},bi=0,vi=function(){function e(e,t){var n=this;if(this.dateTimeAdapter=e,this.dateTimeFormats=t,this._showSecondsTimer=!1,this._hour12Timer=!1,this.startView="month",this._stepHour=1,this._stepMinute=1,this._stepSecond=1,this._firstDayOfWeek=0,this._hideOtherMonths=!1,this.dateTimeChecker=function(e){return!!e&&(!n.dateTimeFilter||n.dateTimeFilter(e))&&(!n.minDateTime||n.dateTimeAdapter.compare(e,n.minDateTime)>=0)&&(!n.maxDateTime||n.dateTimeAdapter.compare(e,n.maxDateTime)<=0)},!this.dateTimeAdapter)throw Error("OwlDateTimePicker: No provider found for DateTimeAdapter. You must import one of the following modules at your application root: OwlNativeDateTimeModule, OwlMomentDateTimeModule, or provide a custom implementation.");if(!this.dateTimeFormats)throw Error("OwlDateTimePicker: No provider found for OWL_DATE_TIME_FORMATS. You must import one of the following modules at your application root: OwlNativeDateTimeModule, OwlMomentDateTimeModule, or provide a custom implementation.");this._id="owl-dt-picker-"+bi++}return Object.defineProperty(e.prototype,"showSecondsTimer",{get:function(){return this._showSecondsTimer},set:function(e){this._showSecondsTimer=dt(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hour12Timer",{get:function(){return this._hour12Timer},set:function(e){this._hour12Timer=dt(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stepHour",{get:function(){return this._stepHour},set:function(e){this._stepHour=ft(e,1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stepMinute",{get:function(){return this._stepMinute},set:function(e){this._stepMinute=ft(e,1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stepSecond",{get:function(){return this._stepSecond},set:function(e){this._stepSecond=ft(e,1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"firstDayOfWeek",{get:function(){return this._firstDayOfWeek},set:function(e){e=ft(e,0),this._firstDayOfWeek=e>6||e<0?0:e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hideOtherMonths",{get:function(){return this._hideOtherMonths},set:function(e){this._hideOtherMonths=dt(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formatString",{get:function(){return"both"===this.pickerType?this.dateTimeFormats.fullPickerInput:"calendar"===this.pickerType?this.dateTimeFormats.datePickerInput:this.dateTimeFormats.timePickerInput},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return!1},enumerable:!0,configurable:!0}),e.prototype.getValidDate=function(e){return this.dateTimeAdapter.isDateInstance(e)&&this.dateTimeAdapter.isValid(e)?e:null},mi([t.Input(),yi("design:type",Boolean),yi("design:paramtypes",[Boolean])],e.prototype,"showSecondsTimer",null),mi([t.Input(),yi("design:type",Boolean),yi("design:paramtypes",[Boolean])],e.prototype,"hour12Timer",null),mi([t.Input(),yi("design:type",String)],e.prototype,"startView",void 0),mi([t.Input(),yi("design:type",Number),yi("design:paramtypes",[Number])],e.prototype,"stepHour",null),mi([t.Input(),yi("design:type",Number),yi("design:paramtypes",[Number])],e.prototype,"stepMinute",null),mi([t.Input(),yi("design:type",Number),yi("design:paramtypes",[Number])],e.prototype,"stepSecond",null),mi([t.Input(),yi("design:type",Number),yi("design:paramtypes",[Number])],e.prototype,"firstDayOfWeek",null),mi([t.Input(),yi("design:type",Boolean),yi("design:paramtypes",[Boolean])],e.prototype,"hideOtherMonths",null),e=mi([gi(0,t.Optional()),gi(1,t.Optional()),gi(1,t.Inject(ti)),yi("design:paramtypes",[ei,Object])],e)}(),_i=0,wi=function(){return function(){this.ariaDescribedBy=null,this.autoFocus=!0,this.hasBackdrop=!0,this.data=null,this.disableClose=!1,this.role="dialog",this.paneClass="",this.event=null,this.backdropClass="",this.closeOnNavigation=!0,this.width="",this.height="",this.maxWidth="85vw",this.scrollStrategy=new _n,this.id="owl-dialog-"+_i++}}(),Oi=function(){function e(e,t,n,i){var r=this;this.overlayRef=e,this.container=t,this.id=n,this._beforeClose$=new P,this._afterOpen$=new P,this._afterClosed$=new P,this.locationChanged=_.EMPTY,this.disableClose=this.container.config.disableClose,this.container.animationStateChanged.pipe(Be(function(e){return"done"===e.phaseName&&"enter"===e.toState}),We(1)).subscribe(function(){r._afterOpen$.next(),r._afterOpen$.complete()}),this.container.animationStateChanged.pipe(Be(function(e){return"done"===e.phaseName&&"exit"===e.toState}),We(1)).subscribe(function(){r.overlayRef.dispose(),r.locationChanged.unsubscribe(),r._afterClosed$.next(r.result),r._afterClosed$.complete(),r.componentInstance=null}),this.overlayRef.keydownEvents().pipe(Be(function(e){return e.keyCode===Ie&&!r.disableClose})).subscribe(function(){return r.close()}),i&&(this.locationChanged=i.subscribe(function(){r.container.config.closeOnNavigation&&r.close()}))}return e.prototype.close=function(e){var t=this;this.result=e,this.container.animationStateChanged.pipe(Be(function(e){return"start"===e.phaseName}),We(1)).subscribe(function(){t._beforeClose$.next(e),t._beforeClose$.complete(),t.overlayRef.detachBackdrop()}),this.container.startExitAnimation()},e.prototype.backdropClick=function(){return this.overlayRef.backdropClick()},e.prototype.keydownEvents=function(){return this.overlayRef.keydownEvents()},e.prototype.updatePosition=function(e){var t=this.getPositionStrategy();return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this.overlayRef.updatePosition(),this},e.prototype.updateSize=function(e,t){return void 0===e&&(e="auto"),void 0===t&&(t="auto"),this.getPositionStrategy().width(e).height(t),this.overlayRef.updatePosition(),this},e.prototype.isAnimating=function(){return this.container.isAnimating},e.prototype.afterOpen=function(){return this._afterOpen$.asObservable()},e.prototype.beforeClose=function(){return this._beforeClose$.asObservable()},e.prototype.afterClosed=function(){return this._afterClosed$.asObservable()},e.prototype.getPositionStrategy=function(){return this.overlayRef.getConfig().positionStrategy},e}(),ki=(Jn=function(e,t){return(Jn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Jn(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Ci=function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},Ti=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Si=function(e,t){return function(n,i){t(n,i,e)}},Di={opacity:0,transform:"translateX({{ x }}) translateY({{ y }}) scale({{scale}})"},Ii={opacity:0,transform:"translateX({{ x }}) translateY({{ y }}) scale({{scale}})",transformOrigin:"{{ ox }} {{ oy }}"},Mi=function(e){function r(n,i,r,o){var s=e.call(this)||this;return s.changeDetector=n,s.elementRef=i,s.focusTrapFactory=r,s.document=o,s.ariaLabelledBy=null,s.animationStateChanged=new t.EventEmitter,s.isAnimating=!1,s.state="enter",s.params={x:"0px",y:"0px",ox:"50%",oy:"50%",scale:0},s.elementFocusedBeforeDialogWasOpened=null,s}return ki(r,e),Object.defineProperty(r.prototype,"config",{get:function(){return this._config},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"owlDialogContainerClass",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"owlDialogContainerTabIndex",{get:function(){return-1},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"owlDialogContainerId",{get:function(){return this._config.id},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"owlDialogContainerRole",{get:function(){return this._config.role||null},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"owlDialogContainerAriaLabelledby",{get:function(){return this.ariaLabelledBy},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"owlDialogContainerAriaDescribedby",{get:function(){return this._config.ariaDescribedBy||null},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"owlDialogContainerAnimation",{get:function(){return{value:this.state,params:this.params}},enumerable:!0,configurable:!0}),r.prototype.ngOnInit=function(){},r.prototype.attachComponentPortal=function(e){if(this.portalOutlet.hasAttached())throw Error("Attempting to attach dialog content after content is already attached");return this.savePreviouslyFocusedElement(),this.portalOutlet.attachComponentPortal(e)},r.prototype.attachTemplatePortal=function(e){throw new Error("Method not implemented.")},r.prototype.setConfig=function(e){this._config=e,e.event&&this.calculateZoomOrigin(event)},r.prototype.onAnimationStart=function(e){this.isAnimating=!0,this.animationStateChanged.emit(e)},r.prototype.onAnimationDone=function(e){"enter"===e.toState?this.trapFocus():"exit"===e.toState&&this.restoreFocus(),this.animationStateChanged.emit(e),this.isAnimating=!1},r.prototype.startExitAnimation=function(){this.state="exit",this.changeDetector.markForCheck()},r.prototype.calculateZoomOrigin=function(e){if(e){var t=e.clientX,n=e.clientY,i=t-window.innerWidth/2,r=n-window.innerHeight/2,o=t/window.innerWidth,s=n/window.innerHeight;this.params.x=i+"px",this.params.y=r+"px",this.params.ox=100*o+"%",this.params.oy=100*s+"%",this.params.scale=0}},r.prototype.savePreviouslyFocusedElement=function(){var e=this;this.document&&(this.elementFocusedBeforeDialogWasOpened=this.document.activeElement,Promise.resolve().then(function(){return e.elementRef.nativeElement.focus()}))},r.prototype.trapFocus=function(){this.focusTrap||(this.focusTrap=this.focusTrapFactory.create(this.elementRef.nativeElement)),this._config.autoFocus&&this.focusTrap.focusInitialElementWhenReady()},r.prototype.restoreFocus=function(){var e=this.elementFocusedBeforeDialogWasOpened;e&&"function"==typeof e.focus&&e.focus(),this.focusTrap&&this.focusTrap.destroy()},Ci([t.ViewChild(fn),Ti("design:type",fn)],r.prototype,"portalOutlet",void 0),Ci([t.HostBinding("class.owl-dialog-container"),Ti("design:type",Boolean),Ti("design:paramtypes",[])],r.prototype,"owlDialogContainerClass",null),Ci([t.HostBinding("attr.tabindex"),Ti("design:type",Number),Ti("design:paramtypes",[])],r.prototype,"owlDialogContainerTabIndex",null),Ci([t.HostBinding("attr.id"),Ti("design:type",String),Ti("design:paramtypes",[])],r.prototype,"owlDialogContainerId",null),Ci([t.HostBinding("attr.role"),Ti("design:type",String),Ti("design:paramtypes",[])],r.prototype,"owlDialogContainerRole",null),Ci([t.HostBinding("attr.aria-labelledby"),Ti("design:type",String),Ti("design:paramtypes",[])],r.prototype,"owlDialogContainerAriaLabelledby",null),Ci([t.HostBinding("attr.aria-describedby"),Ti("design:type",String),Ti("design:paramtypes",[])],r.prototype,"owlDialogContainerAriaDescribedby",null),Ci([t.HostBinding("@slideModal"),Ti("design:type",Object),Ti("design:paramtypes",[])],r.prototype,"owlDialogContainerAnimation",null),Ci([t.HostListener("@slideModal.start",["$event"]),Ti("design:type",Function),Ti("design:paramtypes",[Object]),Ti("design:returntype",void 0)],r.prototype,"onAnimationStart",null),Ci([t.HostListener("@slideModal.done",["$event"]),Ti("design:type",Function),Ti("design:paramtypes",[Object]),Ti("design:returntype",void 0)],r.prototype,"onAnimationDone",null),r=Ci([t.Component({selector:"owl-dialog-container",template:"<ng-template cdkPortalOutlet></ng-template>",animations:[i.trigger("slideModal",[i.transition("void => enter",[i.style(Ii),i.animate("300ms cubic-bezier(0.35, 0, 0.25, 1)",i.style("*")),i.animate("150ms",i.keyframes([i.style({transform:"scale(1)",offset:0}),i.style({transform:"scale(1.05)",offset:.3}),i.style({transform:"scale(.95)",offset:.8}),i.style({transform:"scale(1)",offset:1})])),i.animateChild()],{params:{x:"0px",y:"0px",ox:"50%",oy:"50%",scale:1}}),i.transition("enter => exit",[i.animateChild(),i.animate(200,i.style(Di))],{params:{x:"0px",y:"0px",ox:"50%",oy:"50%"}})])]}),Si(3,t.Optional()),Si(3,t.Inject(n.DOCUMENT)),Ti("design:paramtypes",[t.ChangeDetectorRef,t.ElementRef,Rt,Object])],r)}(pn);var Ei=function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},xi=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ai=function(e,t){return function(n,i){t(n,i,e)}},Pi=new t.InjectionToken("OwlDialogData"),ji=new t.InjectionToken("owl-dialog-scroll-strategy");var Ri={provide:ji,deps:[Hn],useFactory:function(e){return function(){return e.scrollStrategies.block()}}},Vi=new t.InjectionToken("owl-dialog-default-options"),Fi=function(){function e(e,t,n,i,r,o,s){var a,c=this;this.overlay=e,this.injector=t,this.location=n,this.scrollStrategy=i,this.defaultOptions=r,this.parentDialog=o,this.overlayContainer=s,this.ariaHiddenElements=new Map,this._openDialogsAtThisLevel=[],this._afterOpenAtThisLevel=new P,this._afterAllClosedAtThisLevel=new P,this.afterAllClosed=(a=function(){return c._openDialogsAtThisLevel.length?c._afterAllClosed:c._afterAllClosed.pipe(Ge(void 0))},new D(function(e){var t;try{t=a()}catch(t){return void e.error(t)}return(t?ve(t):Y()).subscribe(e)})),!o&&n&&n.subscribe(function(){return c.closeAll()})}return Object.defineProperty(e.prototype,"openDialogs",{get:function(){return this.parentDialog?this.parentDialog.openDialogs:this._openDialogsAtThisLevel},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"afterOpen",{get:function(){return this.parentDialog?this.parentDialog.afterOpen:this._afterOpenAtThisLevel},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_afterAllClosed",{get:function(){var e=this.parentDialog;return e?e._afterAllClosed:this._afterAllClosedAtThisLevel},enumerable:!0,configurable:!0}),e.prototype.open=function(e,t){var n,i,r=this;if(n=t,i=this.defaultOptions,(t=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(null==e)throw TypeError("Cannot convert undefined or null to object");for(var i=0,r=t;i<r.length;i++){var o=r[i];if(null!=o)for(var s in o)o.hasOwnProperty(s)&&(e[s]=o[s])}return e}(new wi,n,i)).id&&this.getDialogById(t.id))throw Error('Dialog with id "'+t.id+'" exists already. The dialog id must be unique.');var o=this.createOverlay(t),s=this.attachDialogContainer(o,t),a=this.attachDialogContent(e,s,o,t);return this.openDialogs.length||this.hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(a),a.afterClosed().subscribe(function(){return r.removeOpenDialog(a)}),this.afterOpen.next(a),a},e.prototype.closeAll=function(){for(var e=this.openDialogs.length;e--;)this.openDialogs[e].close()},e.prototype.getDialogById=function(e){return this.openDialogs.find(function(t){return t.id===e})},e.prototype.attachDialogContent=function(e,n,i,r){var o=new Oi(i,n,r.id,this.location);if(r.hasBackdrop&&i.backdropClick().subscribe(function(){o.disableClose||o.close()}),e instanceof t.TemplateRef);else{var s=this.createInjector(r,o,n),a=n.attachComponentPortal(new ln(e,void 0,s));o.componentInstance=a.instance}return o.updateSize(r.width,r.height).updatePosition(r.position),o},e.prototype.createInjector=function(e,t,n){var i=e&&e.viewContainerRef&&e.viewContainerRef.injector,r=new WeakMap;return r.set(Oi,t),r.set(Mi,n),r.set(Pi,e.data),new yn(i||this.injector,r)},e.prototype.createOverlay=function(e){var t=this.getOverlayConfig(e);return this.overlay.create(t)},e.prototype.attachDialogContainer=function(e,t){var n=new ln(Mi,t.viewContainerRef),i=e.attach(n);return i.instance.setConfig(t),i.instance},e.prototype.getOverlayConfig=function(e){var t=new Tn({positionStrategy:this.overlay.position().global(),scrollStrategy:e.scrollStrategy||this.scrollStrategy(),panelClass:e.paneClass,hasBackdrop:e.hasBackdrop,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight});return e.backdropClass&&(t.backdropClass=e.backdropClass),t},e.prototype.removeOpenDialog=function(e){var t=this._openDialogsAtThisLevel.indexOf(e);t>-1&&(this.openDialogs.splice(t,1),this.openDialogs.length||(this.ariaHiddenElements.forEach(function(e,t){e?t.setAttribute("aria-hidden",e):t.removeAttribute("aria-hidden")}),this.ariaHiddenElements.clear(),this._afterAllClosed.next()))},e.prototype.hideNonDialogContentFromAssistiveTechnology=function(){var e=this.overlayContainer.getContainerElement();if(e.parentElement)for(var t=e.parentElement.children,n=t.length-1;n>-1;n--){var i=t[n];i===e||"SCRIPT"===i.nodeName||"STYLE"===i.nodeName||i.hasAttribute("aria-live")||(this.ariaHiddenElements.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}},e=Ei([t.Injectable(),Ai(2,t.Optional()),Ai(3,t.Inject(ji)),Ai(4,t.Optional()),Ai(4,t.Inject(Vi)),Ai(5,t.Optional()),Ai(5,t.SkipSelf()),xi("design:paramtypes",[Hn,t.Injector,n.Location,Function,wi,e,An])],e)}();var Li,Bi=function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},Ni=function(){function e(){}return e=Bi([t.NgModule({imports:[n.CommonModule,Ht,Kn,mn],exports:[],declarations:[Mi],providers:[Ri,Fi],entryComponents:[Mi]})],e)}(),Yi=(Li=function(e,t){return(Li=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Li(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Hi=function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},zi=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Wi=function(e,t){return function(n,i){t(n,i,e)}},Zi=new t.InjectionToken("owl-dtpicker-scroll-strategy");var Xi,$i,Ki={provide:Zi,deps:[Hn],useFactory:function(e){return function(){return e.scrollStrategies.block()}}},Ui=function(e){function i(n,i,r,o,s,a,c,l,u){var p=e.call(this,a,l)||this;return p.overlay=n,p.viewContainerRef=i,p.dialogService=r,p.ngZone=o,p.changeDetector=s,p.dateTimeAdapter=a,p.defaultScrollStrategy=c,p.dateTimeFormats=l,p.document=u,p.backdropClass=[],p.panelClass=[],p._pickerType="both",p._pickerMode="popup",p._opened=!1,p.afterPickerClosed=new t.EventEmitter,p.afterPickerOpen=new t.EventEmitter,p.yearSelected=new t.EventEmitter,p.monthSelected=new t.EventEmitter,p.confirmSelectedChange=new t.EventEmitter,p.disabledChange=new t.EventEmitter,p.dtInputSub=_.EMPTY,p.hidePickerStreamSub=_.EMPTY,p.confirmSelectedStreamSub=_.EMPTY,p.pickerOpenedStreamSub=_.EMPTY,p.focusedElementBeforeOpen=null,p._selecteds=[],p}return Yi(i,e),Object.defineProperty(i.prototype,"startAt",{get:function(){return this._startAt?this._startAt:this._dtInput?"single"===this._dtInput.selectMode?this._dtInput.value||null:"range"===this._dtInput.selectMode||"rangeFrom"===this._dtInput.selectMode?this._dtInput.values[0]||null:"rangeTo"===this._dtInput.selectMode?this._dtInput.values[1]||null:void 0:null},set:function(e){this._startAt=this.getValidDate(this.dateTimeAdapter.deserialize(e))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"pickerType",{get:function(){return this._pickerType},set:function(e){e!==this._pickerType&&(this._pickerType=e,this._dtInput&&this._dtInput.formatNativeInputValue())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"pickerMode",{get:function(){return this._pickerMode},set:function(e){this._pickerMode="popup"===e?e:"dialog"},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"disabled",{get:function(){return void 0===this._disabled&&this._dtInput?this._dtInput.disabled:!!this._disabled},set:function(e){(e=dt(e))!==this._disabled&&(this._disabled=e,this.disabledChange.next(e))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"opened",{get:function(){return this._opened},set:function(e){e?this.open():this.close()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"dtInput",{get:function(){return this._dtInput},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"selected",{get:function(){return this._selected},set:function(e){this._selected=e,this.changeDetector.markForCheck()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"selecteds",{get:function(){return this._selecteds},set:function(e){this._selecteds=e,this.changeDetector.markForCheck()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"minDateTime",{get:function(){return this._dtInput&&this._dtInput.min},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"maxDateTime",{get:function(){return this._dtInput&&this._dtInput.max},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"dateTimeFilter",{get:function(){return this._dtInput&&this._dtInput.dateTimeFilter},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"selectMode",{get:function(){return this._dtInput.selectMode},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isInSingleMode",{get:function(){return this._dtInput.isInSingleMode},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isInRangeMode",{get:function(){return this._dtInput.isInRangeMode},enumerable:!0,configurable:!0}),i.prototype.ngOnInit=function(){},i.prototype.ngOnDestroy=function(){this.close(),this.dtInputSub.unsubscribe(),this.disabledChange.complete(),this.popupRef&&this.popupRef.dispose()},i.prototype.registerInput=function(e){var t=this;if(this._dtInput)throw Error("A Owl DateTimePicker can only be associated with a single input.");this._dtInput=e,this.dtInputSub=this._dtInput.valueChange.subscribe(function(e){Array.isArray(e)?t.selecteds=e:t.selected=e})},i.prototype.open=function(){var e=this;if(!this._opened&&!this.disabled){if(!this._dtInput)throw Error("Attempted to open an DateTimePicker with no associated input.");this.document&&(this.focusedElementBeforeOpen=this.document.activeElement),this.isInSingleMode?this.selected=this._dtInput.value:this.isInRangeMode&&(this.selecteds=this._dtInput.values),this.selected&&"calendar"!==this.pickerType&&this._startAt&&(this.selected=this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(this.selected),this.dateTimeAdapter.getMonth(this.selected),this.dateTimeAdapter.getDate(this.selected),this.dateTimeAdapter.getHours(this._startAt),this.dateTimeAdapter.getMinutes(this._startAt),this.dateTimeAdapter.getSeconds(this._startAt))),"dialog"===this.pickerMode?this.openAsDialog():this.openAsPopup(),this.pickerContainer.picker=this,this.hidePickerStreamSub=this.pickerContainer.hidePickerStream.subscribe(function(){e.close()}),this.confirmSelectedStreamSub=this.pickerContainer.confirmSelectedStream.subscribe(function(t){e.confirmSelect(t)})}},i.prototype.select=function(e){Array.isArray(e)?this.selecteds=e.slice():this.selected=e,"dialog"!==this.pickerMode&&"calendar"===this.pickerType&&("single"===this.selectMode&&this.selected||"rangeFrom"===this.selectMode&&this.selecteds[0]||"rangeTo"===this.selectMode&&this.selecteds[1]||"range"===this.selectMode&&this.selecteds[0]&&this.selecteds[1])&&this.confirmSelect()},i.prototype.selectYear=function(e){this.yearSelected.emit(e)},i.prototype.selectMonth=function(e){this.monthSelected.emit(e)},i.prototype.close=function(){var e=this;if(this._opened){this.popupRef&&this.popupRef.hasAttached()&&this.popupRef.detach(),this.pickerContainerPortal&&this.pickerContainerPortal.isAttached&&this.pickerContainerPortal.detach(),this.hidePickerStreamSub&&(this.hidePickerStreamSub.unsubscribe(),this.hidePickerStreamSub=null),this.confirmSelectedStreamSub&&(this.confirmSelectedStreamSub.unsubscribe(),this.confirmSelectedStreamSub=null),this.pickerOpenedStreamSub&&(this.pickerOpenedStreamSub.unsubscribe(),this.pickerOpenedStreamSub=null),this.dialogRef&&(this.dialogRef.close(),this.dialogRef=null);var t=function(){e._opened&&(e._opened=!1,e.afterPickerClosed.emit(null),e.focusedElementBeforeOpen=null)};this.focusedElementBeforeOpen&&"function"==typeof this.focusedElementBeforeOpen.focus?(this.focusedElementBeforeOpen.focus(),setTimeout(t)):t()}},i.prototype.confirmSelect=function(e){if(this.isInSingleMode){var t=this.selected||this.startAt||this.dateTimeAdapter.now();this.confirmSelectedChange.emit(t)}else this.isInRangeMode&&this.confirmSelectedChange.emit(this.selecteds);this.close()},i.prototype.openAsDialog=function(){var e=this;this.dialogRef=this.dialogService.open(fi,{autoFocus:!1,backdropClass:["cdk-overlay-dark-backdrop"].concat(mt(this.backdropClass)),paneClass:["owl-dt-dialog"].concat(mt(this.panelClass)),viewContainerRef:this.viewContainerRef,scrollStrategy:this.scrollStrategy||this.defaultScrollStrategy()}),this.pickerContainer=this.dialogRef.componentInstance,this.dialogRef.afterOpen().subscribe(function(){e.afterPickerOpen.emit(null),e._opened=!0}),this.dialogRef.afterClosed().subscribe(function(){return e.close()})},i.prototype.openAsPopup=function(){var e=this;if(this.pickerContainerPortal||(this.pickerContainerPortal=new ln(fi,this.viewContainerRef)),this.popupRef||this.createPopup(),!this.popupRef.hasAttached()){var t=this.popupRef.attach(this.pickerContainerPortal);this.pickerContainer=t.instance,this.ngZone.onStable.asObservable().pipe(We(1)).subscribe(function(){e.popupRef.updatePosition()}),this.pickerOpenedStreamSub=this.pickerContainer.pickerOpenedStream.pipe(We(1)).subscribe(function(){e.afterPickerOpen.emit(null),e._opened=!0})}},i.prototype.createPopup=function(){var e=this,t=new Tn({positionStrategy:this.createPopupPositionStrategy(),hasBackdrop:!0,backdropClass:["cdk-overlay-transparent-backdrop"].concat(mt(this.backdropClass)),scrollStrategy:this.scrollStrategy||this.defaultScrollStrategy(),panelClass:["owl-dt-popup"].concat(mt(this.panelClass))});this.popupRef=this.overlay.create(t),Se(this.popupRef.backdropClick(),this.popupRef.detachments(),this.popupRef.keydownEvents().pipe(Be(function(t){return t.keyCode===Ie||e._dtInput&&t.altKey&&38===t.keyCode}))).subscribe(function(){return e.close()})},i.prototype.createPopupPositionStrategy=function(){return this.overlay.position().flexibleConnectedTo(this._dtInput.elementRef).withTransformOriginOn(".owl-dt-container").withFlexibleDimensions(!1).withPush(!1).withPositions([{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"start",originY:"top",overlayX:"start",overlayY:"top",offsetY:-176},{originX:"start",originY:"top",overlayX:"start",overlayY:"top",offsetY:-352}])},Hi([t.Input(),zi("design:type",Object)],i.prototype,"backdropClass",void 0),Hi([t.Input(),zi("design:type",Object)],i.prototype,"panelClass",void 0),Hi([t.Input(),zi("design:type",Object),zi("design:paramtypes",[Object])],i.prototype,"startAt",null),Hi([t.Input(),zi("design:type",String),zi("design:paramtypes",[String])],i.prototype,"pickerType",null),Hi([t.Input(),zi("design:type",String),zi("design:paramtypes",[String])],i.prototype,"pickerMode",null),Hi([t.Input(),zi("design:type",Boolean),zi("design:paramtypes",[Boolean])],i.prototype,"disabled",null),Hi([t.Input(),zi("design:type",Boolean),zi("design:paramtypes",[Boolean])],i.prototype,"opened",null),Hi([t.Input(),zi("design:type",Object)],i.prototype,"scrollStrategy",void 0),Hi([t.Output(),zi("design:type",Object)],i.prototype,"afterPickerClosed",void 0),Hi([t.Output(),zi("design:type",Object)],i.prototype,"afterPickerOpen",void 0),Hi([t.Output(),zi("design:type",Object)],i.prototype,"yearSelected",void 0),Hi([t.Output(),zi("design:type",Object)],i.prototype,"monthSelected",void 0),i=Hi([t.Component({selector:"owl-date-time",exportAs:"owlDateTime",template:"",styles:[""],changeDetection:t.ChangeDetectionStrategy.OnPush,preserveWhitespaces:!1}),Wi(5,t.Optional()),Wi(6,t.Inject(Zi)),Wi(7,t.Optional()),Wi(7,t.Inject(ti)),Wi(8,t.Optional()),Wi(8,t.Inject(n.DOCUMENT)),zi("design:paramtypes",[Hn,t.ViewContainerRef,Fi,t.NgZone,t.ChangeDetectorRef,ei,Function,Object,Object])],i)}(vi),Gi=function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},qi=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ji=function(){function e(e){this.changeDetector=e,this.stateChanges=_.EMPTY}return Object.defineProperty(e.prototype,"disabled",{get:function(){return void 0===this._disabled?this.dtPicker.disabled:!!this._disabled},set:function(e){this._disabled=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"owlDTTriggerDisabledClass",{get:function(){return this.disabled},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.ngOnChanges=function(e){e.datepicker&&this.watchStateChanges()},e.prototype.ngAfterContentInit=function(){this.watchStateChanges()},e.prototype.ngOnDestroy=function(){this.stateChanges.unsubscribe()},e.prototype.handleClickOnHost=function(e){this.dtPicker&&(this.dtPicker.open(),e.stopPropagation())},e.prototype.watchStateChanges=function(){var e=this;this.stateChanges.unsubscribe();var t=this.dtPicker&&this.dtPicker.dtInput?this.dtPicker.dtInput.disabledChange:X(),n=this.dtPicker?this.dtPicker.disabledChange:X();this.stateChanges=Se(n,t).subscribe(function(){e.changeDetector.markForCheck()})},Gi([t.Input("owlDateTimeTrigger"),qi("design:type",Ui)],e.prototype,"dtPicker",void 0),Gi([t.Input(),qi("design:type",Boolean),qi("design:paramtypes",[Boolean])],e.prototype,"disabled",null),Gi([t.HostBinding("class.owl-dt-trigger-disabled"),qi("design:type",Boolean),qi("design:paramtypes",[])],e.prototype,"owlDTTriggerDisabledClass",null),Gi([t.HostListener("click",["$event"]),qi("design:type",Function),qi("design:paramtypes",[Event]),qi("design:returntype",void 0)],e.prototype,"handleClickOnHost",null),e=Gi([t.Directive({selector:"[owlDateTimeTrigger]"}),qi("design:paramtypes",[t.ChangeDetectorRef])],e)}(),Qi=function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},er=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},tr=function(e,t){return function(n,i){t(n,i,e)}},nr={provide:r.NG_VALUE_ACCESSOR,useExisting:t.forwardRef(function(){return rr}),multi:!0},ir={provide:r.NG_VALIDATORS,useExisting:t.forwardRef(function(){return rr}),multi:!0},rr=function(){function e(e,n,i,o){var s=this;if(this.elmRef=e,this.renderer=n,this.dateTimeAdapter=i,this.dateTimeFormats=o,this._selectMode="single",this.rangeSeparator="~",this._values=[],this.dateTimeChange=new t.EventEmitter,this.dateTimeInput=new t.EventEmitter,this.dtPickerSub=_.EMPTY,this.localeSub=_.EMPTY,this.lastValueValid=!0,this.onModelChange=function(){},this.onModelTouched=function(){},this.validatorOnChange=function(){},this.parseValidator=function(){return s.lastValueValid?null:{owlDateTimeParse:{text:s.elmRef.nativeElement.value}}},this.minValidator=function(e){if(s.isInSingleMode){var t=s.getValidDate(s.dateTimeAdapter.deserialize(e.value));return!s.min||!t||s.dateTimeAdapter.compare(s.min,t)<=0?null:{owlDateTimeMin:{min:s.min,actual:t}}}if(s.isInRangeMode&&e.value){var n=s.getValidDate(s.dateTimeAdapter.deserialize(e.value[0])),i=s.getValidDate(s.dateTimeAdapter.deserialize(e.value[1]));return!s.min||!n||!i||s.dateTimeAdapter.compare(s.min,n)<=0?null:{owlDateTimeMin:{min:s.min,actual:[n,i]}}}},this.maxValidator=function(e){if(s.isInSingleMode){var t=s.getValidDate(s.dateTimeAdapter.deserialize(e.value));return!s.max||!t||s.dateTimeAdapter.compare(s.max,t)>=0?null:{owlDateTimeMax:{max:s.max,actual:t}}}if(s.isInRangeMode&&e.value){var n=s.getValidDate(s.dateTimeAdapter.deserialize(e.value[0])),i=s.getValidDate(s.dateTimeAdapter.deserialize(e.value[1]));return!s.max||!n||!i||s.dateTimeAdapter.compare(s.max,i)>=0?null:{owlDateTimeMax:{max:s.max,actual:[n,i]}}}},this.filterValidator=function(e){var t=s.getValidDate(s.dateTimeAdapter.deserialize(e.value));return s._dateTimeFilter&&t&&!s._dateTimeFilter(t)?{owlDateTimeFilter:!0}:null},this.rangeValidator=function(e){if(s.isInSingleMode||!e.value)return null;var t=s.getValidDate(s.dateTimeAdapter.deserialize(e.value[0])),n=s.getValidDate(s.dateTimeAdapter.deserialize(e.value[1]));return!t||!n||s.dateTimeAdapter.compare(t,n)<=0?null:{owlDateTimeRange:!0}},this.validator=r.Validators.compose([this.parseValidator,this.minValidator,this.maxValidator,this.filterValidator,this.rangeValidator]),this.valueChange=new t.EventEmitter,this.disabledChange=new t.EventEmitter,!this.dateTimeAdapter)throw Error("OwlDateTimePicker: No provider found for DateTimePicker. You must import one of the following modules at your application root: OwlNativeDateTimeModule, OwlMomentDateTimeModule, or provide a custom implementation.");if(!this.dateTimeFormats)throw Error("OwlDateTimePicker: No provider found for OWL_DATE_TIME_FORMATS. You must import one of the following modules at your application root: OwlNativeDateTimeModule, OwlMomentDateTimeModule, or provide a custom implementation.");this.localeSub=this.dateTimeAdapter.localeChanges.subscribe(function(){s.value=s.value})}return Object.defineProperty(e.prototype,"owlDateTime",{set:function(e){this.registerDateTimePicker(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"owlDateTimeFilter",{set:function(e){this._dateTimeFilter=e,this.validatorOnChange()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dateTimeFilter",{get:function(){return this._dateTimeFilter},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return!!this._disabled},set:function(e){var t=dt(e),n=this.elmRef.nativeElement;this._disabled!==t&&(this._disabled=t,this.disabledChange.emit(t)),t&&n.blur&&n.blur()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"min",{get:function(){return this._min},set:function(e){this._min=this.getValidDate(this.dateTimeAdapter.deserialize(e)),this.validatorOnChange()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return this._max},set:function(e){this._max=this.getValidDate(this.dateTimeAdapter.deserialize(e)),this.validatorOnChange()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectMode",{get:function(){return this._selectMode},set:function(e){if("single"!==e&&"range"!==e&&"rangeFrom"!==e&&"rangeTo"!==e)throw Error("OwlDateTime Error: invalid selectMode value!");this._selectMode=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(e){e=this.dateTimeAdapter.deserialize(e),this.lastValueValid=!e||this.dateTimeAdapter.isValid(e),e=this.getValidDate(e);var t=this._value;this._value=e,this.formatNativeInputValue(),this.dateTimeAdapter.isEqual(t,e)||this.valueChange.emit(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"values",{get:function(){return this._values},set:function(e){var t=this;e&&e.length>0?(this._values=e.map(function(e){return e=t.dateTimeAdapter.deserialize(e),t.getValidDate(e)}),this.lastValueValid=(!this._values[0]||this.dateTimeAdapter.isValid(this._values[0]))&&(!this._values[1]||this.dateTimeAdapter.isValid(this._values[1]))):(this._values=[],this.lastValueValid=!0),this.formatNativeInputValue(),this.valueChange.emit(this._values)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"elementRef",{get:function(){return this.elmRef},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isInSingleMode",{get:function(){return"single"===this._selectMode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isInRangeMode",{get:function(){return"range"===this._selectMode||"rangeFrom"===this._selectMode||"rangeTo"===this._selectMode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"owlDateTimeInputAriaHaspopup",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"owlDateTimeInputAriaOwns",{get:function(){return this.dtPicker.opened&&this.dtPicker.id||null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minIso8601",{get:function(){return this.min?this.dateTimeAdapter.toIso8601(this.min):null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxIso8601",{get:function(){return this.max?this.dateTimeAdapter.toIso8601(this.max):null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"owlDateTimeInputDisabled",{get:function(){return this.disabled},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){if(!this.dtPicker)throw Error("OwlDateTimePicker: the picker input doesn't have any associated owl-date-time component")},e.prototype.ngAfterContentInit=function(){var e=this;this.dtPickerSub=this.dtPicker.confirmSelectedChange.subscribe(function(t){Array.isArray(t)?e.values=t:e.value=t,e.onModelChange(t),e.onModelTouched(),e.dateTimeChange.emit({source:e,value:t,input:e.elmRef.nativeElement}),e.dateTimeInput.emit({source:e,value:t,input:e.elmRef.nativeElement})})},e.prototype.ngOnDestroy=function(){this.dtPickerSub.unsubscribe(),this.localeSub.unsubscribe(),this.valueChange.complete(),this.disabledChange.complete()},e.prototype.writeValue=function(e){this.isInSingleMode?this.value=e:this.values=e},e.prototype.registerOnChange=function(e){this.onModelChange=e},e.prototype.registerOnTouched=function(e){this.onModelTouched=e},e.prototype.setDisabledState=function(e){this.disabled=e},e.prototype.validate=function(e){return this.validator?this.validator(e):null},e.prototype.registerOnValidatorChange=function(e){this.validatorOnChange=e},e.prototype.handleKeydownOnHost=function(e){e.altKey&&40===e.keyCode&&(this.dtPicker.open(),e.preventDefault())},e.prototype.handleBlurOnHost=function(e){this.onModelTouched()},e.prototype.handleInputOnHost=function(e){var t=e.target.value;"single"===this._selectMode?this.changeInputInSingleMode(t):"range"===this._selectMode?this.changeInputInRangeMode(t):this.changeInputInRangeFromToMode(t)},e.prototype.handleChangeOnHost=function(e){var t;this.isInSingleMode?t=this.value:this.isInRangeMode&&(t=this.values),this.dateTimeChange.emit({source:this,value:t,input:this.elmRef.nativeElement})},e.prototype.formatNativeInputValue=function(){if(this.isInSingleMode)this.renderer.setProperty(this.elmRef.nativeElement,"value",this._value?this.dateTimeAdapter.format(this._value,this.dtPicker.formatString):"");else if(this.isInRangeMode)if(this._values&&this.values.length>0){var e=this._values[0],t=this._values[1],n=e?this.dateTimeAdapter.format(e,this.dtPicker.formatString):"",i=t?this.dateTimeAdapter.format(t,this.dtPicker.formatString):"";n||i?"range"===this._selectMode?this.renderer.setProperty(this.elmRef.nativeElement,"value",n+" "+this.rangeSeparator+" "+i):"rangeFrom"===this._selectMode?this.renderer.setProperty(this.elmRef.nativeElement,"value",n):"rangeTo"===this._selectMode&&this.renderer.setProperty(this.elmRef.nativeElement,"value",i):this.renderer.setProperty(this.elmRef.nativeElement,"value",null)}else this.renderer.setProperty(this.elmRef.nativeElement,"value","")},e.prototype.registerDateTimePicker=function(e){e&&(this.dtPicker=e,this.dtPicker.registerInput(this))},e.prototype.getValidDate=function(e){return this.dateTimeAdapter.isDateInstance(e)&&this.dateTimeAdapter.isValid(e)?e:null},e.prototype.convertTimeStringToDateTimeString=function(e,t){if(e){var n=t||this.dateTimeAdapter.now();return this.dateTimeAdapter.format(n,this.dateTimeFormats.datePickerInput)+" "+e}return null},e.prototype.changeInputInSingleMode=function(e){var t=e;"timer"===this.dtPicker.pickerType&&(t=this.convertTimeStringToDateTimeString(t,this.value));var n=this.dateTimeAdapter.parse(t,this.dateTimeFormats.parseInput);this.lastValueValid=!n||this.dateTimeAdapter.isValid(n),n=this.getValidDate(n),this.isSameValue(n,this._value)&&null!==n||(this._value=n,this.valueChange.emit(n),this.onModelChange(n),this.dateTimeInput.emit({source:this,value:n,input:this.elmRef.nativeElement}))},e.prototype.changeInputInRangeFromToMode=function(e){var t="rangeFrom"===this._selectMode?this._values[0]:this._values[1];"timer"===this.dtPicker.pickerType&&(e=this.convertTimeStringToDateTimeString(e,t));var n=this.dateTimeAdapter.parse(e,this.dateTimeFormats.parseInput);this.lastValueValid=!n||this.dateTimeAdapter.isValid(n),n=this.getValidDate(n),"rangeFrom"===this._selectMode&&this.isSameValue(n,this._values[0])&&n||"rangeTo"===this._selectMode&&this.isSameValue(n,this._values[1])&&n||(this._values="rangeFrom"===this._selectMode?[n,this._values[1]]:[this._values[0],n],this.valueChange.emit(this._values),this.onModelChange(this._values),this.dateTimeInput.emit({source:this,value:this._values,input:this.elmRef.nativeElement}))},e.prototype.changeInputInRangeMode=function(e){var t=e.split(this.rangeSeparator),n=t[0],i=t[1];"timer"===this.dtPicker.pickerType&&(n=this.convertTimeStringToDateTimeString(n,this.values[0]),i=this.convertTimeStringToDateTimeString(i,this.values[1]));var r=this.dateTimeAdapter.parse(n,this.dateTimeFormats.parseInput),o=this.dateTimeAdapter.parse(i,this.dateTimeFormats.parseInput);this.lastValueValid=(!r||this.dateTimeAdapter.isValid(r))&&(!o||this.dateTimeAdapter.isValid(o)),r=this.getValidDate(r),o=this.getValidDate(o),this.isSameValue(r,this._values[0])&&this.isSameValue(o,this._values[1])&&(null!==r||null!==o)||(this._values=[r,o],this.valueChange.emit(this._values),this.onModelChange(this._values),this.dateTimeInput.emit({source:this,value:this._values,input:this.elmRef.nativeElement}))},e.prototype.isSameValue=function(e,t){return e&&t?0===this.dateTimeAdapter.compare(e,t):e==t},Qi([t.Input(),er("design:type",Ui),er("design:paramtypes",[Ui])],e.prototype,"owlDateTime",null),Qi([t.Input(),er("design:type",Function),er("design:paramtypes",[Function])],e.prototype,"owlDateTimeFilter",null),Qi([t.Input(),er("design:type",Boolean)],e.prototype,"_disabled",void 0),Qi([t.Input(),er("design:type",Object),er("design:paramtypes",[Object])],e.prototype,"min",null),Qi([t.Input(),er("design:type",Object),er("design:paramtypes",[Object])],e.prototype,"max",null),Qi([t.Input(),er("design:type",String),er("design:paramtypes",[String])],e.prototype,"selectMode",null),Qi([t.Input(),er("design:type",Object)],e.prototype,"rangeSeparator",void 0),Qi([t.Input(),er("design:type",Object),er("design:paramtypes",[Object])],e.prototype,"value",null),Qi([t.Input(),er("design:type",Array),er("design:paramtypes",[Array])],e.prototype,"values",null),Qi([t.Output(),er("design:type",Object)],e.prototype,"dateTimeChange",void 0),Qi([t.Output(),er("design:type",Object)],e.prototype,"dateTimeInput",void 0),Qi([t.HostBinding("attr.aria-haspopup"),er("design:type",Boolean),er("design:paramtypes",[])],e.prototype,"owlDateTimeInputAriaHaspopup",null),Qi([t.HostBinding("attr.aria-owns"),er("design:type",String),er("design:paramtypes",[])],e.prototype,"owlDateTimeInputAriaOwns",null),Qi([t.HostBinding("attr.min"),er("design:type",String),er("design:paramtypes",[])],e.prototype,"minIso8601",null),Qi([t.HostBinding("attr.max"),er("design:type",String),er("design:paramtypes",[])],e.prototype,"maxIso8601",null),Qi([t.HostBinding("disabled"),er("design:type",Boolean),er("design:paramtypes",[])],e.prototype,"owlDateTimeInputDisabled",null),Qi([t.HostListener("keydown",["$event"]),er("design:type",Function),er("design:paramtypes",[KeyboardEvent]),er("design:returntype",void 0)],e.prototype,"handleKeydownOnHost",null),Qi([t.HostListener("blur",["$event"]),er("design:type",Function),er("design:paramtypes",[Event]),er("design:returntype",void 0)],e.prototype,"handleBlurOnHost",null),Qi([t.HostListener("input",["$event"]),er("design:type",Function),er("design:paramtypes",[Object]),er("design:returntype",void 0)],e.prototype,"handleInputOnHost",null),Qi([t.HostListener("change",["$event"]),er("design:type",Function),er("design:paramtypes",[Object]),er("design:returntype",void 0)],e.prototype,"handleChangeOnHost",null),e=Qi([t.Directive({selector:"input[owlDateTime]",exportAs:"owlDateTimeInput",providers:[nr,ir]}),tr(2,t.Optional()),tr(3,t.Optional()),tr(3,t.Inject(ti)),er("design:paramtypes",[t.ElementRef,t.Renderer2,ei,Object])],e)}(),or=function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},sr=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ar=function(){return function(e,t,n,i,r,o){void 0===r&&(r=!1),void 0===o&&(o=""),this.value=e,this.displayValue=t,this.ariaLabel=n,this.enabled=i,this.out=r,this.cellClass=o}}(),cr=function(){function e(e,n){this.elmRef=e,this.ngZone=n,this.activeCell=0,this.numCols=7,this.cellRatio=1,this.select=new t.EventEmitter}return Object.defineProperty(e.prototype,"owlDTCalendarBodyClass",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isInSingleMode",{get:function(){return"single"===this.selectMode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isInRangeMode",{get:function(){return"range"===this.selectMode||"rangeFrom"===this.selectMode||"rangeTo"===this.selectMode},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.selectCell=function(e){this.select.emit(e)},e.prototype.isActiveCell=function(e,t){return e*this.numCols+t===this.activeCell},e.prototype.isSelected=function(e){if(!this.selectedValues||0===this.selectedValues.length)return!1;if(this.isInSingleMode)return e===this.selectedValues[0];if(this.isInRangeMode){var t=this.selectedValues[0],n=this.selectedValues[1];return e===t||e===n}},e.prototype.isInRange=function(e){if(this.isInRangeMode){var t=this.selectedValues[0],n=this.selectedValues[1];return null!==t&&null!==n?e>=t&&e<=n:e===t||e===n}},e.prototype.isRangeFrom=function(e){if(this.isInRangeMode){var t=this.selectedValues[0];return null!==t&&e===t}},e.prototype.isRangeTo=function(e){if(this.isInRangeMode){var t=this.selectedValues[1];return null!==t&&e===t}},e.prototype.focusActiveCell=function(){var e=this;this.ngZone.runOutsideAngular(function(){e.ngZone.onStable.asObservable().pipe(We(1)).subscribe(function(){e.elmRef.nativeElement.querySelector(".owl-dt-calendar-cell-active").focus()})})},or([t.Input(),sr("design:type",Object)],e.prototype,"activeCell",void 0),or([t.Input(),sr("design:type",Array)],e.prototype,"rows",void 0),or([t.Input(),sr("design:type",Object)],e.prototype,"numCols",void 0),or([t.Input(),sr("design:type",Object)],e.prototype,"cellRatio",void 0),or([t.Input(),sr("design:type",Number)],e.prototype,"todayValue",void 0),or([t.Input(),sr("design:type",Array)],e.prototype,"selectedValues",void 0),or([t.Input(),sr("design:type",String)],e.prototype,"selectMode",void 0),or([t.Output(),sr("design:type",Object)],e.prototype,"select",void 0),or([t.HostBinding("class.owl-dt-calendar-body"),sr("design:type",Boolean),sr("design:paramtypes",[])],e.prototype,"owlDTCalendarBodyClass",null),e=or([t.Component({selector:"[owl-date-time-calendar-body]",exportAs:"owlDateTimeCalendarBody",template:'<tr *ngFor="let row of rows; let rowIndex = index" role="row"><td *ngFor="let item of row; let colIndex = index" class="owl-dt-calendar-cell {{item.cellClass}}" [tabindex]="isActiveCell(rowIndex, colIndex) ? 0 : -1" [class.owl-dt-calendar-cell-active]="isActiveCell(rowIndex, colIndex)" [class.owl-dt-calendar-cell-disabled]="!item.enabled" [class.owl-dt-calendar-cell-in-range]="isInRange(item.value)" [class.owl-dt-calendar-cell-range-from]="isRangeFrom(item.value)" [class.owl-dt-calendar-cell-range-to]="isRangeTo(item.value)" [attr.aria-label]="item.ariaLabel" [attr.aria-disabled]="!item.enabled || null" [style.width.%]="100 / numCols" [style.paddingTop.%]="50 * cellRatio / numCols" [style.paddingBottom.%]="50 * cellRatio / numCols" (click)="selectCell(item)"><span class="owl-dt-calendar-cell-content" [ngClass]="{\n                \'owl-dt-calendar-cell-out\': item.out,\n                \'owl-dt-calendar-cell-today\': item.value === todayValue,\n                \'owl-dt-calendar-cell-selected\': isSelected(item.value)\n              }">{{item.displayValue}}</span></td></tr>',styles:[""],preserveWhitespaces:!1,changeDetection:t.ChangeDetectionStrategy.OnPush}),sr("design:paramtypes",[t.ElementRef,t.NgZone])],e)}(),lr=function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},ur=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},pr=function(e,t){return function(n,i){t(n,i,e)}},hr=function(){function e(e,n,i){this.cdRef=e,this.dateTimeAdapter=n,this.dateTimeFormats=i,this.hideOtherMonths=!1,this._firstDayOfWeek=0,this._selectMode="single",this._selecteds=[],this.localeSub=_.EMPTY,this.initiated=!1,this.selectedDates=[],this.selectedChange=new t.EventEmitter,this.userSelection=new t.EventEmitter,this.pickerMomentChange=new t.EventEmitter}return Object.defineProperty(e.prototype,"firstDayOfWeek",{get:function(){return this._firstDayOfWeek},set:function(e){(e=ft(e))>=0&&e<=6&&e!==this._firstDayOfWeek&&(this._firstDayOfWeek=e,this.initiated&&(this.generateWeekDays(),this.generateCalendar(),this.cdRef.markForCheck()))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectMode",{get:function(){return this._selectMode},set:function(e){this._selectMode=e,this.initiated&&(this.generateCalendar(),this.cdRef.markForCheck())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selected",{get:function(){return this._selected},set:function(e){var t=this._selected;e=this.dateTimeAdapter.deserialize(e),this._selected=this.getValidDate(e),this.dateTimeAdapter.isSameDay(t,this._selected)||this.setSelectedDates()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selecteds",{get:function(){return this._selecteds},set:function(e){var t=this;this._selecteds=e.map(function(e){return e=t.dateTimeAdapter.deserialize(e),t.getValidDate(e)}),this.setSelectedDates()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pickerMoment",{get:function(){return this._pickerMoment},set:function(e){var t=this._pickerMoment;e=this.dateTimeAdapter.deserialize(e),this._pickerMoment=this.getValidDate(e)||this.dateTimeAdapter.now(),this.firstDateOfMonth=this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(this._pickerMoment),this.dateTimeAdapter.getMonth(this._pickerMoment),1),!this.isSameMonth(t,this._pickerMoment)&&this.initiated&&this.generateCalendar()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dateFilter",{get:function(){return this._dateFilter},set:function(e){this._dateFilter=e,this.initiated&&(this.generateCalendar(),this.cdRef.markForCheck())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minDate",{get:function(){return this._minDate},set:function(e){e=this.dateTimeAdapter.deserialize(e),this._minDate=this.getValidDate(e),this.initiated&&(this.generateCalendar(),this.cdRef.markForCheck())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxDate",{get:function(){return this._maxDate},set:function(e){e=this.dateTimeAdapter.deserialize(e),this._maxDate=this.getValidDate(e),this.initiated&&(this.generateCalendar(),this.cdRef.markForCheck())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"weekdays",{get:function(){return this._weekdays},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"days",{get:function(){return this._days},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activeCell",{get:function(){if(this.pickerMoment)return this.dateTimeAdapter.getDate(this.pickerMoment)+this.firstRowOffset-1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isInSingleMode",{get:function(){return"single"===this.selectMode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isInRangeMode",{get:function(){return"range"===this.selectMode||"rangeFrom"===this.selectMode||"rangeTo"===this.selectMode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"owlDTCalendarView",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;this.generateWeekDays(),this.localeSub=this.dateTimeAdapter.localeChanges.subscribe(function(){e.generateWeekDays(),e.generateCalendar(),e.cdRef.markForCheck()})},e.prototype.ngAfterContentInit=function(){this.generateCalendar(),this.initiated=!0},e.prototype.ngOnDestroy=function(){this.localeSub.unsubscribe()},e.prototype.selectCalendarCell=function(e){!e.enabled||this.hideOtherMonths&&e.out||this.selectDate(e.value)},e.prototype.selectDate=function(e){var t=e-1,n=this.dateTimeAdapter.addCalendarDays(this.firstDateOfMonth,t);this.selectedChange.emit(n),this.userSelection.emit()},e.prototype.handleCalendarKeydown=function(e){var t;switch(e.keyCode){case 37:t=this.dateTimeAdapter.addCalendarDays(this.pickerMoment,-1),this.pickerMomentChange.emit(t);break;case 39:t=this.dateTimeAdapter.addCalendarDays(this.pickerMoment,1),this.pickerMomentChange.emit(t);break;case 38:t=this.dateTimeAdapter.addCalendarDays(this.pickerMoment,-7),this.pickerMomentChange.emit(t);break;case 40:t=this.dateTimeAdapter.addCalendarDays(this.pickerMoment,7),this.pickerMomentChange.emit(t);break;case 36:t=this.dateTimeAdapter.addCalendarDays(this.pickerMoment,1-this.dateTimeAdapter.getDate(this.pickerMoment)),this.pickerMomentChange.emit(t);break;case 35:t=this.dateTimeAdapter.addCalendarDays(this.pickerMoment,this.dateTimeAdapter.getNumDaysInMonth(this.pickerMoment)-this.dateTimeAdapter.getDate(this.pickerMoment)),this.pickerMomentChange.emit(t);break;case 33:t=e.altKey?this.dateTimeAdapter.addCalendarYears(this.pickerMoment,-1):this.dateTimeAdapter.addCalendarMonths(this.pickerMoment,-1),this.pickerMomentChange.emit(t);break;case 34:t=e.altKey?this.dateTimeAdapter.addCalendarYears(this.pickerMoment,1):this.dateTimeAdapter.addCalendarMonths(this.pickerMoment,1),this.pickerMomentChange.emit(t);break;case 13:this.dateFilter&&!this.dateFilter(this.pickerMoment)||this.selectDate(this.dateTimeAdapter.getDate(this.pickerMoment));break;default:return}this.focusActiveCell(),e.preventDefault()},e.prototype.generateWeekDays=function(){var e=this.dateTimeAdapter.getDayOfWeekNames("long"),t=this.dateTimeAdapter.getDayOfWeekNames("short"),n=this.dateTimeAdapter.getDayOfWeekNames("narrow"),i=this.firstDayOfWeek,r=e.map(function(e,i){return{long:e,short:t[i],narrow:n[i]}});this._weekdays=r.slice(i).concat(r.slice(0,i)),this.dateNames=this.dateTimeAdapter.getDateNames()},e.prototype.generateCalendar=function(){if(this.pickerMoment){this.todayDate=null;var e=0-(this.dateTimeAdapter.getDay(this.firstDateOfMonth)+(7-this.firstDayOfWeek))%7;this.firstRowOffset=Math.abs(e),this._days=[];for(var t=0;t<6;t++){for(var n=[],i=0;i<7;i++){var r=this.dateTimeAdapter.addCalendarDays(this.firstDateOfMonth,e),o=this.createDateCell(r,e);this.dateTimeAdapter.isSameDay(this.dateTimeAdapter.now(),r)&&(this.todayDate=e+1),n.push(o),e+=1}this._days.push(n)}this.setSelectedDates()}},e.prototype.createDateCell=function(e,t){var n=this.dateTimeAdapter.getNumDaysInMonth(this.pickerMoment),i=this.dateTimeAdapter.getDate(e).toString(),r=this.dateTimeAdapter.format(e,this.dateTimeFormats.dateA11yLabel),o=this.isDateEnabled(e),s=t+1,a=s<1||s>n,c="owl-dt-day-"+this.dateTimeAdapter.getDay(e);return new ar(s,i,r,o,a,c)},e.prototype.isDateEnabled=function(e){return!!e&&(!this.dateFilter||this.dateFilter(e))&&(!this.minDate||this.dateTimeAdapter.compare(e,this.minDate)>=0)&&(!this.maxDate||this.dateTimeAdapter.compare(e,this.maxDate)<=0)},e.prototype.getValidDate=function(e){return this.dateTimeAdapter.isDateInstance(e)&&this.dateTimeAdapter.isValid(e)?e:null},e.prototype.isSameMonth=function(e,t){return!!(e&&t&&this.dateTimeAdapter.isValid(e)&&this.dateTimeAdapter.isValid(t)&&this.dateTimeAdapter.getYear(e)===this.dateTimeAdapter.getYear(t)&&this.dateTimeAdapter.getMonth(e)===this.dateTimeAdapter.getMonth(t))},e.prototype.setSelectedDates=function(){var e=this;if(this.selectedDates=[],this.firstDateOfMonth)if(this.isInSingleMode&&this.selected){var t=this.dateTimeAdapter.differenceInCalendarDays(this.selected,this.firstDateOfMonth);this.selectedDates[0]=t+1}else this.isInRangeMode&&this.selecteds&&(this.selectedDates=this.selecteds.map(function(t){return e.dateTimeAdapter.isValid(t)?e.dateTimeAdapter.differenceInCalendarDays(t,e.firstDateOfMonth)+1:null}))},e.prototype.focusActiveCell=function(){this.calendarBodyElm.focusActiveCell()},lr([t.Input(),ur("design:type",Boolean)],e.prototype,"hideOtherMonths",void 0),lr([t.Input(),ur("design:type",Number),ur("design:paramtypes",[Number])],e.prototype,"firstDayOfWeek",null),lr([t.Input(),ur("design:type",String),ur("design:paramtypes",[String])],e.prototype,"selectMode",null),lr([t.Input(),ur("design:type",Object),ur("design:paramtypes",[Object])],e.prototype,"selected",null),lr([t.Input(),ur("design:type",Array),ur("design:paramtypes",[Array])],e.prototype,"selecteds",null),lr([t.Input(),ur("design:type",Object),ur("design:paramtypes",[Object])],e.prototype,"pickerMoment",null),lr([t.Input(),ur("design:type",Function),ur("design:paramtypes",[Function])],e.prototype,"dateFilter",null),lr([t.Input(),ur("design:type",Object),ur("design:paramtypes",[Object])],e.prototype,"minDate",null),lr([t.Input(),ur("design:type",Object),ur("design:paramtypes",[Object])],e.prototype,"maxDate",null),lr([t.Output(),ur("design:type",Object)],e.prototype,"selectedChange",void 0),lr([t.Output(),ur("design:type",Object)],e.prototype,"userSelection",void 0),lr([t.Output(),ur("design:type",t.EventEmitter)],e.prototype,"pickerMomentChange",void 0),lr([t.ViewChild(cr),ur("design:type",cr)],e.prototype,"calendarBodyElm",void 0),lr([t.HostBinding("class.owl-dt-calendar-view"),ur("design:type",Boolean),ur("design:paramtypes",[])],e.prototype,"owlDTCalendarView",null),e=lr([t.Component({selector:"owl-date-time-month-view",exportAs:"owlYearView",template:'<table class="owl-dt-calendar-table owl-dt-calendar-month-table" [class.owl-dt-calendar-only-current-month]="hideOtherMonths"><thead class="owl-dt-calendar-header"><tr class="owl-dt-weekdays"><th *ngFor="let weekday of weekdays" [attr.aria-label]="weekday.long" class="owl-dt-weekday" scope="col"><span>{{weekday.short}}</span></th></tr><tr><th class="owl-dt-calendar-table-divider" aria-hidden="true" colspan="7"></th></tr></thead><tbody owl-date-time-calendar-body role="grid" [rows]="days" [todayValue]="todayDate" [selectedValues]="selectedDates" [selectMode]="selectMode" [activeCell]="activeCell" (keydown)="handleCalendarKeydown($event)" (select)="selectCalendarCell($event)"></tbody></table>',styles:[""],preserveWhitespaces:!1,changeDetection:t.ChangeDetectionStrategy.OnPush}),pr(1,t.Optional()),pr(2,t.Optional()),pr(2,t.Inject(ti)),ur("design:paramtypes",[t.ChangeDetectorRef,ei,Object])],e)}(),dr=function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},fr=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},mr=function(e,t){return function(n,i){t(n,i,e)}},yr=function(){function e(e,n,i){this.cdRef=e,this.dateTimeAdapter=n,this.dateTimeFormats=i,this._selectMode="single",this._selecteds=[],this.localeSub=_.EMPTY,this.initiated=!1,this.selectedMonths=[],this.change=new t.EventEmitter,this.monthSelected=new t.EventEmitter,this.pickerMomentChange=new t.EventEmitter,this.keyboardEnter=new t.EventEmitter,this.monthNames=this.dateTimeAdapter.getMonthNames("short")}return Object.defineProperty(e.prototype,"selectMode",{get:function(){return this._selectMode},set:function(e){this._selectMode=e,this.initiated&&(this.generateMonthList(),this.cdRef.markForCheck())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selected",{get:function(){return this._selected},set:function(e){e=this.dateTimeAdapter.deserialize(e),this._selected=this.getValidDate(e),this.setSelectedMonths()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selecteds",{get:function(){return this._selecteds},set:function(e){this._selecteds=[];for(var t=0;t<e.length;t++){var n=this.dateTimeAdapter.deserialize(e[t]);this._selecteds.push(this.getValidDate(n))}this.setSelectedMonths()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pickerMoment",{get:function(){return this._pickerMoment},set:function(e){var t=this._pickerMoment;e=this.dateTimeAdapter.deserialize(e),this._pickerMoment=this.getValidDate(e)||this.dateTimeAdapter.now(),!this.hasSameYear(t,this._pickerMoment)&&this.initiated&&this.generateMonthList()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dateFilter",{get:function(){return this._dateFilter},set:function(e){this._dateFilter=e,this.initiated&&this.generateMonthList()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minDate",{get:function(){return this._minDate},set:function(e){e=this.dateTimeAdapter.deserialize(e),this._minDate=this.getValidDate(e),this.initiated&&this.generateMonthList()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxDate",{get:function(){return this._maxDate},set:function(e){e=this.dateTimeAdapter.deserialize(e),this._maxDate=this.getValidDate(e),this.initiated&&this.generateMonthList()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"months",{get:function(){return this._months},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activeCell",{get:function(){if(this._pickerMoment)return this.dateTimeAdapter.getMonth(this._pickerMoment)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isInSingleMode",{get:function(){return"single"===this.selectMode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isInRangeMode",{get:function(){return"range"===this.selectMode||"rangeFrom"===this.selectMode||"rangeTo"===this.selectMode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"owlDTCalendarView",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;this.localeSub=this.dateTimeAdapter.localeChanges.subscribe(function(){e.generateMonthList(),e.cdRef.markForCheck()})},e.prototype.ngAfterContentInit=function(){this.generateMonthList(),this.initiated=!0},e.prototype.ngOnDestroy=function(){this.localeSub.unsubscribe()},e.prototype.selectCalendarCell=function(e){this.selectMonth(e.value)},e.prototype.selectMonth=function(e){var t=this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(this.pickerMoment),e,1);this.monthSelected.emit(t);var n=this.dateTimeAdapter.getNumDaysInMonth(t),i=this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(this.pickerMoment),e,Math.min(n,this.dateTimeAdapter.getDate(this.pickerMoment)),this.dateTimeAdapter.getHours(this.pickerMoment),this.dateTimeAdapter.getMinutes(this.pickerMoment),this.dateTimeAdapter.getSeconds(this.pickerMoment));this.change.emit(i)},e.prototype.handleCalendarKeydown=function(e){var t;switch(e.keyCode){case 37:t=this.dateTimeAdapter.addCalendarMonths(this.pickerMoment,-1),this.pickerMomentChange.emit(t);break;case 39:t=this.dateTimeAdapter.addCalendarMonths(this.pickerMoment,1),this.pickerMomentChange.emit(t);break;case 38:t=this.dateTimeAdapter.addCalendarMonths(this.pickerMoment,-3),this.pickerMomentChange.emit(t);break;case 40:t=this.dateTimeAdapter.addCalendarMonths(this.pickerMoment,3),this.pickerMomentChange.emit(t);break;case 36:t=this.dateTimeAdapter.addCalendarMonths(this.pickerMoment,-this.dateTimeAdapter.getMonth(this.pickerMoment)),this.pickerMomentChange.emit(t);break;case 35:t=this.dateTimeAdapter.addCalendarMonths(this.pickerMoment,11-this.dateTimeAdapter.getMonth(this.pickerMoment)),this.pickerMomentChange.emit(t);break;case 33:t=this.dateTimeAdapter.addCalendarYears(this.pickerMoment,e.altKey?-10:-1),this.pickerMomentChange.emit(t);break;case 34:t=this.dateTimeAdapter.addCalendarYears(this.pickerMoment,e.altKey?10:1),this.pickerMomentChange.emit(t);break;case 13:this.selectMonth(this.dateTimeAdapter.getMonth(this.pickerMoment)),this.keyboardEnter.emit();break;default:return}this.focusActiveCell(),e.preventDefault()},e.prototype.generateMonthList=function(){if(this.pickerMoment){this.setSelectedMonths(),this.todayMonth=this.getMonthInCurrentYear(this.dateTimeAdapter.now()),this._months=[];for(var e=0;e<4;e++){for(var t=[],n=0;n<3;n++){var i=n+3*e,r=this.createMonthCell(i);t.push(r)}this._months.push(t)}}},e.prototype.createMonthCell=function(e){var t=this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(this.pickerMoment),e,1),n=this.dateTimeAdapter.format(t,this.dateTimeFormats.monthYearA11yLabel),i="owl-dt-month-"+e;return new ar(e,this.monthNames[e],n,this.isMonthEnabled(e),!1,i)},e.prototype.isMonthEnabled=function(e){for(var t=this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(this.pickerMoment),e,1);this.dateTimeAdapter.getMonth(t)===e;t=this.dateTimeAdapter.addCalendarDays(t,1))if(t&&(!this.dateFilter||this.dateFilter(t))&&(!this.minDate||this.dateTimeAdapter.compare(t,this.minDate)>=0)&&(!this.maxDate||this.dateTimeAdapter.compare(t,this.maxDate)<=0))return!0;return!1},e.prototype.getMonthInCurrentYear=function(e){if(this.getValidDate(e)&&this.getValidDate(this._pickerMoment)){var t=this.dateTimeAdapter.compareYear(e,this._pickerMoment);return t<0?-1:t>0?12:this.dateTimeAdapter.getMonth(e)}return null},e.prototype.setSelectedMonths=function(){this.selectedMonths=[],this.isInSingleMode&&this.selected&&(this.selectedMonths[0]=this.getMonthInCurrentYear(this.selected)),this.isInRangeMode&&this.selecteds&&(this.selectedMonths[0]=this.getMonthInCurrentYear(this.selecteds[0]),this.selectedMonths[1]=this.getMonthInCurrentYear(this.selecteds[1]))},e.prototype.hasSameYear=function(e,t){return!(!e||!t||this.dateTimeAdapter.getYear(e)!==this.dateTimeAdapter.getYear(t))},e.prototype.getValidDate=function(e){return this.dateTimeAdapter.isDateInstance(e)&&this.dateTimeAdapter.isValid(e)?e:null},e.prototype.focusActiveCell=function(){this.calendarBodyElm.focusActiveCell()},dr([t.Input(),fr("design:type",String),fr("design:paramtypes",[String])],e.prototype,"selectMode",null),dr([t.Input(),fr("design:type",Object),fr("design:paramtypes",[Object])],e.prototype,"selected",null),dr([t.Input(),fr("design:type",Array),fr("design:paramtypes",[Array])],e.prototype,"selecteds",null),dr([t.Input(),fr("design:type",Object),fr("design:paramtypes",[Object])],e.prototype,"pickerMoment",null),dr([t.Input(),fr("design:type",Function),fr("design:paramtypes",[Function])],e.prototype,"dateFilter",null),dr([t.Input(),fr("design:type",Object),fr("design:paramtypes",[Object])],e.prototype,"minDate",null),dr([t.Input(),fr("design:type",Object),fr("design:paramtypes",[Object])],e.prototype,"maxDate",null),dr([t.Output(),fr("design:type",Object)],e.prototype,"change",void 0),dr([t.Output(),fr("design:type",Object)],e.prototype,"monthSelected",void 0),dr([t.Output(),fr("design:type",t.EventEmitter)],e.prototype,"pickerMomentChange",void 0),dr([t.Output(),fr("design:type",t.EventEmitter)],e.prototype,"keyboardEnter",void 0),dr([t.ViewChild(cr),fr("design:type",cr)],e.prototype,"calendarBodyElm",void 0),dr([t.HostBinding("class.owl-dt-calendar-view"),fr("design:type",Boolean),fr("design:paramtypes",[])],e.prototype,"owlDTCalendarView",null),e=dr([t.Component({selector:"owl-date-time-year-view",exportAs:"owlMonthView",template:'<table class="owl-dt-calendar-table owl-dt-calendar-year-table"><thead class="owl-dt-calendar-header"><tr><th class="owl-dt-calendar-table-divider" aria-hidden="true" colspan="3"></th></tr></thead><tbody owl-date-time-calendar-body role="grid" [rows]="months" [numCols]="3" [cellRatio]="3 / 7" [activeCell]="activeCell" [todayValue]="todayMonth" [selectedValues]="selectedMonths" [selectMode]="selectMode" (keydown)="handleCalendarKeydown($event)" (select)="selectCalendarCell($event)"></tbody></table>',styles:[""],preserveWhitespaces:!1,changeDetection:t.ChangeDetectionStrategy.OnPush}),mr(1,t.Optional()),mr(2,t.Optional()),mr(2,t.Inject(ti)),fr("design:paramtypes",[t.ChangeDetectorRef,ei,Object])],e)}(),gr=function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},br=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},vr=function(e,t){return function(n,i){t(n,i,e)}},_r=function(){function e(e,n,i){this.cdRef=e,this.pickerIntl=n,this.dateTimeAdapter=i,this._selectMode="single",this._selecteds=[],this.initiated=!1,this.change=new t.EventEmitter,this.yearSelected=new t.EventEmitter,this.pickerMomentChange=new t.EventEmitter,this.keyboardEnter=new t.EventEmitter}return Object.defineProperty(e.prototype,"selectMode",{get:function(){return this._selectMode},set:function(e){this._selectMode=e,this.initiated&&(this.setSelectedYears(),this.cdRef.markForCheck())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selected",{get:function(){return this._selected},set:function(e){var t=this._selected;e=this.dateTimeAdapter.deserialize(e),this._selected=this.getValidDate(e),this.dateTimeAdapter.isSameDay(t,this._selected)||this.setSelectedYears()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selecteds",{get:function(){return this._selecteds},set:function(e){var t=this;this._selecteds=e.map(function(e){return e=t.dateTimeAdapter.deserialize(e),t.getValidDate(e)}),this.setSelectedYears()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pickerMoment",{get:function(){return this._pickerMoment},set:function(e){var t=this._pickerMoment;e=this.dateTimeAdapter.deserialize(e),this._pickerMoment=this.getValidDate(e)||this.dateTimeAdapter.now(),t&&this._pickerMoment&&!this.isSameYearList(t,this._pickerMoment)&&this.generateYearList()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dateFilter",{get:function(){return this._dateFilter},set:function(e){this._dateFilter=e,this.initiated&&this.generateYearList()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minDate",{get:function(){return this._minDate},set:function(e){e=this.dateTimeAdapter.deserialize(e),this._minDate=this.getValidDate(e),this.initiated&&this.generateYearList()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxDate",{get:function(){return this._maxDate},set:function(e){e=this.dateTimeAdapter.deserialize(e),this._maxDate=this.getValidDate(e),this.initiated&&this.generateYearList()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"todayYear",{get:function(){return this._todayYear},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"years",{get:function(){return this._years},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedYears",{get:function(){return this._selectedYears},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isInSingleMode",{get:function(){return"single"===this.selectMode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isInRangeMode",{get:function(){return"range"===this.selectMode||"rangeFrom"===this.selectMode||"rangeTo"===this.selectMode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activeCell",{get:function(){if(this._pickerMoment)return this.dateTimeAdapter.getYear(this._pickerMoment)%21},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tableHeader",{get:function(){if(this._years&&this._years.length>0)return this._years[0][0].displayValue+" ~ "+this._years[6][2].displayValue},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"prevButtonLabel",{get:function(){return this.pickerIntl.prevMultiYearLabel},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nextButtonLabel",{get:function(){return this.pickerIntl.nextMultiYearLabel},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"owlDTCalendarView",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"owlDTCalendarMultiYearView",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.ngAfterContentInit=function(){this._todayYear=this.dateTimeAdapter.getYear(this.dateTimeAdapter.now()),this.generateYearList(),this.initiated=!0},e.prototype.selectCalendarCell=function(e){this.selectYear(e.value)},e.prototype.selectYear=function(e){this.yearSelected.emit(this.dateTimeAdapter.createDate(e,0,1));var t=this.dateTimeAdapter.createDate(e,this.dateTimeAdapter.getMonth(this.pickerMoment),1),n=this.dateTimeAdapter.getNumDaysInMonth(t),i=this.dateTimeAdapter.createDate(e,this.dateTimeAdapter.getMonth(this.pickerMoment),Math.min(n,this.dateTimeAdapter.getDate(this.pickerMoment)),this.dateTimeAdapter.getHours(this.pickerMoment),this.dateTimeAdapter.getMinutes(this.pickerMoment),this.dateTimeAdapter.getSeconds(this.pickerMoment));this.change.emit(i)},e.prototype.prevYearList=function(e){this._pickerMoment=this.dateTimeAdapter.addCalendarYears(this.pickerMoment,-21),this.generateYearList(),e.preventDefault()},e.prototype.nextYearList=function(e){this._pickerMoment=this.dateTimeAdapter.addCalendarYears(this.pickerMoment,21),this.generateYearList(),e.preventDefault()},e.prototype.generateYearList=function(){this._years=[];for(var e=this.dateTimeAdapter.getYear(this._pickerMoment),t=e%21,n=0;n<7;n++){for(var i=[],r=0;r<3;r++){var o=e-t+(r+3*n),s=this.createYearCell(o);i.push(s)}this._years.push(i)}},e.prototype.previousEnabled=function(){return!this.minDate||(!this.minDate||!this.isSameYearList(this._pickerMoment,this.minDate))},e.prototype.nextEnabled=function(){return!this.maxDate||!this.isSameYearList(this._pickerMoment,this.maxDate)},e.prototype.handleCalendarKeydown=function(e){var t;switch(e.keyCode){case 37:t=this.dateTimeAdapter.addCalendarYears(this._pickerMoment,-1),this.pickerMomentChange.emit(t);break;case 39:t=this.dateTimeAdapter.addCalendarYears(this._pickerMoment,1),this.pickerMomentChange.emit(t);break;case 38:t=this.dateTimeAdapter.addCalendarYears(this._pickerMoment,-3),this.pickerMomentChange.emit(t);break;case 40:t=this.dateTimeAdapter.addCalendarYears(this._pickerMoment,3),this.pickerMomentChange.emit(t);break;case 36:t=this.dateTimeAdapter.addCalendarYears(this._pickerMoment,-this.dateTimeAdapter.getYear(this._pickerMoment)%21),this.pickerMomentChange.emit(t);break;case 35:t=this.dateTimeAdapter.addCalendarYears(this._pickerMoment,21-this.dateTimeAdapter.getYear(this._pickerMoment)%21-1),this.pickerMomentChange.emit(t);break;case 33:t=this.dateTimeAdapter.addCalendarYears(this.pickerMoment,e.altKey?-210:-21),this.pickerMomentChange.emit(t);break;case 34:t=this.dateTimeAdapter.addCalendarYears(this.pickerMoment,e.altKey?210:21),this.pickerMomentChange.emit(t);break;case 13:this.selectYear(this.dateTimeAdapter.getYear(this._pickerMoment)),this.keyboardEnter.emit();break;default:return}this.focusActiveCell(),e.preventDefault()},e.prototype.createYearCell=function(e){var t=this.dateTimeAdapter.createDate(e,0,1),n=this.dateTimeAdapter.getYearName(t),i="owl-dt-year-"+e;return new ar(e,e.toString(),n,this.isYearEnabled(e),!1,i)},e.prototype.setSelectedYears=function(){var e=this;this._selectedYears=[],this.isInSingleMode&&this.selected&&(this._selectedYears[0]=this.dateTimeAdapter.getYear(this.selected)),this.isInRangeMode&&this.selecteds&&(this._selectedYears=this.selecteds.map(function(t){return e.dateTimeAdapter.isValid(t)?e.dateTimeAdapter.getYear(t):null}))},e.prototype.isYearEnabled=function(e){if(void 0===e||null===e||this.maxDate&&e>this.dateTimeAdapter.getYear(this.maxDate)||this.minDate&&e<this.dateTimeAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(var t=this.dateTimeAdapter.createDate(e,0,1);this.dateTimeAdapter.getYear(t)==e;t=this.dateTimeAdapter.addCalendarDays(t,1))if(this.dateFilter(t))return!0;return!1},e.prototype.isSameYearList=function(e,t){return Math.floor(this.dateTimeAdapter.getYear(e)/21)===Math.floor(this.dateTimeAdapter.getYear(t)/21)},e.prototype.getValidDate=function(e){return this.dateTimeAdapter.isDateInstance(e)&&this.dateTimeAdapter.isValid(e)?e:null},e.prototype.focusActiveCell=function(){this.calendarBodyElm.focusActiveCell()},gr([t.Input(),br("design:type",String),br("design:paramtypes",[String])],e.prototype,"selectMode",null),gr([t.Input(),br("design:type",Object),br("design:paramtypes",[Object])],e.prototype,"selected",null),gr([t.Input(),br("design:type",Array),br("design:paramtypes",[Array])],e.prototype,"selecteds",null),gr([t.Input(),br("design:type",Object),br("design:paramtypes",[Object])],e.prototype,"pickerMoment",null),gr([t.Input(),br("design:type",Function),br("design:paramtypes",[Function])],e.prototype,"dateFilter",null),gr([t.Input(),br("design:type",Object),br("design:paramtypes",[Object])],e.prototype,"minDate",null),gr([t.Input(),br("design:type",Object),br("design:paramtypes",[Object])],e.prototype,"maxDate",null),gr([t.Output(),br("design:type",Object)],e.prototype,"change",void 0),gr([t.Output(),br("design:type",Object)],e.prototype,"yearSelected",void 0),gr([t.Output(),br("design:type",t.EventEmitter)],e.prototype,"pickerMomentChange",void 0),gr([t.Output(),br("design:type",t.EventEmitter)],e.prototype,"keyboardEnter",void 0),gr([t.ViewChild(cr),br("design:type",cr)],e.prototype,"calendarBodyElm",void 0),gr([t.HostBinding("class.owl-dt-calendar-view"),br("design:type",Boolean),br("design:paramtypes",[])],e.prototype,"owlDTCalendarView",null),gr([t.HostBinding("class.owl-dt-calendar-multi-year-view"),br("design:type",Boolean),br("design:paramtypes",[])],e.prototype,"owlDTCalendarMultiYearView",null),e=gr([t.Component({selector:"owl-date-time-multi-year-view",template:'<button class="owl-dt-control-button owl-dt-control-arrow-button" [disabled]="!previousEnabled()" [attr.aria-label]="prevButtonLabel" type="button" tabindex="0" (click)="prevYearList($event)"><span class="owl-dt-control-button-content" tabindex="-1">\x3c!-- <editor-fold desc="SVG Arrow Left"> --\x3e <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewBox="0 0 250.738 250.738" style="enable-background:new 0 0 250.738 250.738;" xml:space="preserve" width="100%" height="100%"><path style="fill-rule: evenodd; clip-rule: evenodd;" d="M96.633,125.369l95.053-94.533c7.101-7.055,7.101-18.492,0-25.546   c-7.1-7.054-18.613-7.054-25.714,0L58.989,111.689c-3.784,3.759-5.487,8.759-5.238,13.68c-0.249,4.922,1.454,9.921,5.238,13.681   l106.983,106.398c7.101,7.055,18.613,7.055,25.714,0c7.101-7.054,7.101-18.491,0-25.544L96.633,125.369z"/></svg>\x3c!-- </editor-fold> --\x3e</span></button><table class="owl-dt-calendar-table owl-dt-calendar-multi-year-table"><thead class="owl-dt-calendar-header"><tr><th colspan="3">{{tableHeader}}</th></tr></thead><tbody owl-date-time-calendar-body role="grid" [rows]="years" [numCols]="3" [cellRatio]="3 / 7" [activeCell]="activeCell" [todayValue]="todayYear" [selectedValues]="selectedYears" [selectMode]="selectMode" (keydown)="handleCalendarKeydown($event)" (select)="selectCalendarCell($event)"></tbody></table><button class="owl-dt-control-button owl-dt-control-arrow-button" [disabled]="!nextEnabled()" [attr.aria-label]="nextButtonLabel" type="button" tabindex="0" (click)="nextYearList($event)"><span class="owl-dt-control-button-content" tabindex="-1">\x3c!-- <editor-fold desc="SVG Arrow Right"> --\x3e <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 250.738 250.738" style="enable-background:new 0 0 250.738 250.738;" xml:space="preserve"><path style="fill-rule:evenodd;clip-rule:evenodd;" d="M191.75,111.689L84.766,5.291c-7.1-7.055-18.613-7.055-25.713,0\n                c-7.101,7.054-7.101,18.49,0,25.544l95.053,94.534l-95.053,94.533c-7.101,7.054-7.101,18.491,0,25.545\n                c7.1,7.054,18.613,7.054,25.713,0L191.75,139.05c3.784-3.759,5.487-8.759,5.238-13.681\n                C197.237,120.447,195.534,115.448,191.75,111.689z"/></svg>\x3c!-- </editor-fold> --\x3e</span></button>',styles:[""],preserveWhitespaces:!1,changeDetection:t.ChangeDetectionStrategy.OnPush}),vr(2,t.Optional()),br("design:paramtypes",[t.ChangeDetectorRef,Gn,ei])],e)}(),wr=function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},Or=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},kr=function(){function e(){this.showDivider=!1,this.step=1,this.valueChange=new t.EventEmitter,this.inputChange=new t.EventEmitter,this.inputStream=new P,this.inputStreamSub=_.EMPTY}return Object.defineProperty(e.prototype,"displayValue",{get:function(){return this.boxValue||this.value},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"owlDTTimerBoxClass",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;this.inputStreamSub=this.inputStream.pipe(Ae(500),Ve()).subscribe(function(t){if(t){var n=ft(t,0);e.updateValueViaInput(n)}})},e.prototype.ngOnDestroy=function(){this.inputStreamSub.unsubscribe()},e.prototype.upBtnClicked=function(){this.updateValue(this.value+this.step)},e.prototype.downBtnClicked=function(){this.updateValue(this.value-this.step)},e.prototype.handleInputChange=function(e){this.inputStream.next(e)},e.prototype.updateValue=function(e){this.valueChange.emit(e)},e.prototype.updateValueViaInput=function(e){e>this.max||e<this.min||this.inputChange.emit(e)},wr([t.Input(),Or("design:type",Object)],e.prototype,"showDivider",void 0),wr([t.Input(),Or("design:type",String)],e.prototype,"upBtnAriaLabel",void 0),wr([t.Input(),Or("design:type",Boolean)],e.prototype,"upBtnDisabled",void 0),wr([t.Input(),Or("design:type",String)],e.prototype,"downBtnAriaLabel",void 0),wr([t.Input(),Or("design:type",Boolean)],e.prototype,"downBtnDisabled",void 0),wr([t.Input(),Or("design:type",Number)],e.prototype,"boxValue",void 0),wr([t.Input(),Or("design:type",Number)],e.prototype,"value",void 0),wr([t.Input(),Or("design:type",Number)],e.prototype,"min",void 0),wr([t.Input(),Or("design:type",Number)],e.prototype,"max",void 0),wr([t.Input(),Or("design:type",Object)],e.prototype,"step",void 0),wr([t.Input(),Or("design:type",String)],e.prototype,"inputLabel",void 0),wr([t.Output(),Or("design:type",Object)],e.prototype,"valueChange",void 0),wr([t.Output(),Or("design:type",Object)],e.prototype,"inputChange",void 0),wr([t.HostBinding("class.owl-dt-timer-box"),Or("design:type",Boolean),Or("design:paramtypes",[])],e.prototype,"owlDTTimerBoxClass",null),e=wr([t.Component({exportAs:"owlDateTimeTimerBox",selector:"owl-date-time-timer-box",template:'<div *ngIf="showDivider" class="owl-dt-timer-divider" aria-hidden="true"></div><button class="owl-dt-control-button owl-dt-control-arrow-button" type="button" tabindex="-1" [disabled]="upBtnDisabled" [attr.aria-label]="upBtnAriaLabel" (click)="upBtnClicked()"><span class="owl-dt-control-button-content" tabindex="-1">\x3c!-- <editor-fold desc="SVG Arrow Up"> --\x3e <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewBox="0 0 451.847 451.846" style="enable-background:new 0 0 451.847 451.846;" xml:space="preserve" width="100%" height="100%"><path d="M248.292,106.406l194.281,194.29c12.365,12.359,12.365,32.391,0,44.744c-12.354,12.354-32.391,12.354-44.744,0\n                        L225.923,173.529L54.018,345.44c-12.36,12.354-32.395,12.354-44.748,0c-12.359-12.354-12.359-32.391,0-44.75L203.554,106.4\n                        c6.18-6.174,14.271-9.259,22.369-9.259C234.018,97.141,242.115,100.232,248.292,106.406z"/></svg>\x3c!-- </editor-fold> --\x3e</span></button><label class="owl-dt-timer-content"><input class="owl-dt-timer-input" maxlength="2" [value]="displayValue | numberFixedLen : 2" (input)="handleInputChange(valueInput.value)" #valueInput> <span class="owl-hidden-accessible">{{inputLabel}}</span></label><button class="owl-dt-control-button owl-dt-control-arrow-button" type="button" tabindex="-1" [disabled]="downBtnDisabled" [attr.aria-label]="downBtnAriaLabel" (click)="downBtnClicked()"><span class="owl-dt-control-button-content" tabindex="-1">\x3c!-- <editor-fold desc="SVG Arrow Down"> --\x3e <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewBox="0 0 451.847 451.846" style="enable-background:new 0 0 451.847 451.846;" xml:space="preserve" width="100%" height="100%"><path d="M225.923,354.706c-8.098,0-16.195-3.092-22.369-9.263L9.27,151.157c-12.359-12.359-12.359-32.397,0-44.751\n                        c12.354-12.354,32.388-12.354,44.748,0l171.905,171.915l171.906-171.909c12.359-12.354,32.391-12.354,44.744,0\n                        c12.365,12.354,12.365,32.392,0,44.751L248.292,345.449C242.115,351.621,234.018,354.706,225.923,354.706z"/></svg>\x3c!-- </editor-fold> --\x3e</span></button>',styles:[""],preserveWhitespaces:!1,changeDetection:t.ChangeDetectionStrategy.OnPush}),Or("design:paramtypes",[])],e)}(),Cr=function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},Tr=function(){function e(){}return e.prototype.transform=function(e,t){var n=Math.floor(e),i=Math.floor(t);if(null===e||isNaN(n)||isNaN(i))return e;for(var r=n.toString();r.length<i;)r="0"+r;return r},e=Cr([t.Pipe({name:"numberFixedLen"})],e)}(),Sr=(Xi=function(e,t){return(Xi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Xi(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Dr=function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},Ir=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Mr=function(e,t){return function(n,i){t(n,i,e)}},Er={provide:r.NG_VALUE_ACCESSOR,useExisting:t.forwardRef(function(){return xr}),multi:!0},xr=function(e){function n(n,i,r){var o=e.call(this,i,r)||this;return o.changeDetector=n,o.dateTimeAdapter=i,o.dateTimeFormats=r,o._pickerType="both",o._disabled=!1,o._selectMode="single",o._values=[],o.yearSelected=new t.EventEmitter,o.monthSelected=new t.EventEmitter,o._selecteds=[],o.onModelChange=function(){},o.onModelTouched=function(){},o}return Sr(n,e),Object.defineProperty(n.prototype,"pickerType",{get:function(){return this._pickerType},set:function(e){e!==this._pickerType&&(this._pickerType=e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"disabled",{get:function(){return!!this._disabled},set:function(e){this._disabled=dt(e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"selectMode",{get:function(){return this._selectMode},set:function(e){if("single"!==e&&"range"!==e&&"rangeFrom"!==e&&"rangeTo"!==e)throw Error("OwlDateTime Error: invalid selectMode value!");this._selectMode=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"startAt",{get:function(){return this._startAt?this._startAt:"single"===this.selectMode?this.value||null:"range"===this.selectMode||"rangeFrom"===this.selectMode?this.values[0]||null:"rangeTo"===this.selectMode?this.values[1]||null:null},set:function(e){this._startAt=this.getValidDate(this.dateTimeAdapter.deserialize(e))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dateTimeFilter",{get:function(){return this._dateTimeFilter},set:function(e){this._dateTimeFilter=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"minDateTime",{get:function(){return this._min||null},set:function(e){this._min=this.getValidDate(this.dateTimeAdapter.deserialize(e)),this.changeDetector.markForCheck()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"maxDateTime",{get:function(){return this._max||null},set:function(e){this._max=this.getValidDate(this.dateTimeAdapter.deserialize(e)),this.changeDetector.markForCheck()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"value",{get:function(){return this._value},set:function(e){e=this.dateTimeAdapter.deserialize(e),e=this.getValidDate(e),this._value=e,this.selected=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"values",{get:function(){return this._values},set:function(e){var t=this;e&&e.length>0?(e=e.map(function(e){return e=t.dateTimeAdapter.deserialize(e),(e=t.getValidDate(e))?t.dateTimeAdapter.clone(e):null}),this._values=e.slice(),this.selecteds=e.slice()):(this._values=[],this.selecteds=[])},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"selected",{get:function(){return this._selected},set:function(e){this._selected=e,this.changeDetector.markForCheck()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"selecteds",{get:function(){return this._selecteds},set:function(e){this._selecteds=e,this.changeDetector.markForCheck()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"opened",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pickerMode",{get:function(){return"inline"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isInSingleMode",{get:function(){return"single"===this._selectMode},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isInRangeMode",{get:function(){return"range"===this._selectMode||"rangeFrom"===this._selectMode||"rangeTo"===this._selectMode},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"owlDTInlineClass",{get:function(){return!0},enumerable:!0,configurable:!0}),n.prototype.ngOnInit=function(){this.container.picker=this},n.prototype.writeValue=function(e){this.isInSingleMode?(this.value=e,this.container.pickerMoment=e):(this.values=e,this.container.pickerMoment=this._values[this.container.activeSelectedIndex])},n.prototype.registerOnChange=function(e){this.onModelChange=e},n.prototype.registerOnTouched=function(e){this.onModelTouched=e},n.prototype.setDisabledState=function(e){this.disabled=e},n.prototype.select=function(e){this.disabled||(Array.isArray(e)?this.values=e.slice():this.value=e,this.onModelChange(e),this.onModelTouched())},n.prototype.selectYear=function(e){this.yearSelected.emit(e)},n.prototype.selectMonth=function(e){this.monthSelected.emit(e)},Dr([t.ViewChild(fi),Ir("design:type",fi)],n.prototype,"container",void 0),Dr([t.Input(),Ir("design:type",String),Ir("design:paramtypes",[String])],n.prototype,"pickerType",null),Dr([t.Input(),Ir("design:type",Boolean),Ir("design:paramtypes",[Boolean])],n.prototype,"disabled",null),Dr([t.Input(),Ir("design:type",String),Ir("design:paramtypes",[String])],n.prototype,"selectMode",null),Dr([t.Input(),Ir("design:type",Object),Ir("design:paramtypes",[Object])],n.prototype,"startAt",null),Dr([t.Input("owlDateTimeFilter"),Ir("design:type",Function),Ir("design:paramtypes",[Function])],n.prototype,"dateTimeFilter",null),Dr([t.Input("min"),Ir("design:type",Object),Ir("design:paramtypes",[Object])],n.prototype,"minDateTime",null),Dr([t.Input("max"),Ir("design:type",Object),Ir("design:paramtypes",[Object])],n.prototype,"maxDateTime",null),Dr([t.Input(),Ir("design:type",Object),Ir("design:paramtypes",[Object])],n.prototype,"value",null),Dr([t.Input(),Ir("design:type",Array),Ir("design:paramtypes",[Array])],n.prototype,"values",null),Dr([t.Output(),Ir("design:type",Object)],n.prototype,"yearSelected",void 0),Dr([t.Output(),Ir("design:type",Object)],n.prototype,"monthSelected",void 0),Dr([t.HostBinding("class.owl-dt-inline"),Ir("design:type",Boolean),Ir("design:paramtypes",[])],n.prototype,"owlDTInlineClass",null),n=Dr([t.Component({selector:"owl-date-time-inline",template:"<owl-date-time-container></owl-date-time-container>",styles:[""],changeDetection:t.ChangeDetectionStrategy.OnPush,preserveWhitespaces:!1,providers:[Er]}),Mr(1,t.Optional()),Mr(2,t.Optional()),Mr(2,t.Inject(ti)),Ir("design:paramtypes",[t.ChangeDetectorRef,ei,Object])],n)}(vi),Ar=function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},Pr=function(){function e(){}return e=Ar([t.NgModule({imports:[n.CommonModule,Kn,Ni,Ht],exports:[oi,li,Ji,rr,Ui,xr,_r,yr,hr],declarations:[Ji,rr,Ui,fi,_r,yr,hr,li,kr,oi,cr,Tr,xr],providers:[Gn,Ki],entryComponents:[fi]})],e)}(),jr=($i=function(e,t){return($i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}$i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Rr=function(){return(Rr=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)},Vr=function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},Fr=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Lr=function(e,t){return function(n,i){t(n,i,e)}},Br={long:["January","February","March","April","May","June","July","August","September","October","November","December"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"]},Nr={long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"]},Yr=Wr(31,function(e){return String(e+1)}),Hr="undefined"!=typeof Intl,zr=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function Wr(e,t){for(var n=Array(e),i=0;i<e;i++)n[i]=t(i);return n}var Zr=function(e){function n(t,n){var i=e.call(this)||this;return i.owlDateTimeLocale=t,e.prototype.setLocale.call(i,t),i.useUtcForDisplay=!n.TRIDENT,i._clampDate=n.TRIDENT||n.EDGE,i}return jr(n,e),n.prototype.getYear=function(e){return e.getFullYear()},n.prototype.getMonth=function(e){return e.getMonth()},n.prototype.getDay=function(e){return e.getDay()},n.prototype.getDate=function(e){return e.getDate()},n.prototype.getHours=function(e){return e.getHours()},n.prototype.getMinutes=function(e){return e.getMinutes()},n.prototype.getSeconds=function(e){return e.getSeconds()},n.prototype.getTime=function(e){return e.getTime()},n.prototype.getNumDaysInMonth=function(e){var t=this.createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0);return this.getDate(t)},n.prototype.differenceInCalendarDays=function(e,t){if(this.isValid(e)&&this.isValid(t)){var n=this.createDate(this.getYear(e),this.getMonth(e),this.getDate(e)),i=this.createDate(this.getYear(t),this.getMonth(t),this.getDate(t)),r=this.getTime(n)-n.getTimezoneOffset()*this.milliseondsInMinute,o=this.getTime(i)-i.getTimezoneOffset()*this.milliseondsInMinute;return Math.round((r-o)/this.millisecondsInDay)}return null},n.prototype.getYearName=function(e){if(Hr){var t=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this.stripDirectionalityCharacters(this._format(t,e))}return String(this.getYear(e))},n.prototype.getMonthNames=function(e){var t=this;if(Hr){var n=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return Wr(12,function(e){return t.stripDirectionalityCharacters(t._format(n,new Date(2017,e,1)))})}return Br[e]},n.prototype.getDayOfWeekNames=function(e){var t=this;if(Hr){var n=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return Wr(7,function(e){return t.stripDirectionalityCharacters(t._format(n,new Date(2017,0,e+1)))})}return Nr[e]},n.prototype.getDateNames=function(){var e=this;if(Hr){var t=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return Wr(31,function(n){return e.stripDirectionalityCharacters(e._format(t,new Date(2017,0,n+1)))})}return Yr},n.prototype.toIso8601=function(e){return e.toISOString()},n.prototype.isEqual=function(e,t){return!(!this.isValid(e)||!this.isValid(t))&&e.getTime()===t.getTime()},n.prototype.isSameDay=function(e,t){if(this.isValid(e)&&this.isValid(t)){var n=this.clone(e),i=this.clone(t);return n.setHours(0,0,0,0),i.setHours(0,0,0,0),n.getTime()===i.getTime()}return!1},n.prototype.isValid=function(e){return e&&!isNaN(e.getTime())},n.prototype.invalid=function(){return new Date(NaN)},n.prototype.isDateInstance=function(e){return e instanceof Date},n.prototype.addCalendarYears=function(e,t){return this.addCalendarMonths(e,12*t)},n.prototype.addCalendarMonths=function(e,t){var n=this.clone(e);t=Number(t);var i=n.getMonth()+t,r=new Date(0);r.setFullYear(n.getFullYear(),i,1),r.setHours(0,0,0,0);var o=this.getNumDaysInMonth(r);return n.setMonth(i,Math.min(o,n.getDate())),n},n.prototype.addCalendarDays=function(e,t){var n=this.clone(e);return t=Number(t),n.setDate(n.getDate()+t),n},n.prototype.setHours=function(e,t){var n=this.clone(e);return n.setHours(t),n},n.prototype.setMinutes=function(e,t){var n=this.clone(e);return n.setMinutes(t),n},n.prototype.setSeconds=function(e,t){var n=this.clone(e);return n.setSeconds(t),n},n.prototype.createDate=function(e,t,n,i,r,o){if(void 0===i&&(i=0),void 0===r&&(r=0),void 0===o&&(o=0),t<0||t>11)throw Error('Invalid month index "'+t+'". Month index has to be between 0 and 11.');if(n<1)throw Error('Invalid date "'+n+'". Date has to be greater than 0.');if(i<0||i>23)throw Error('Invalid hours "'+i+'". Hours has to be between 0 and 23.');if(r<0||r>59)throw Error('Invalid minutes "'+r+'". Minutes has to between 0 and 59.');if(o<0||o>59)throw Error('Invalid seconds "'+o+'". Seconds has to be between 0 and 59.');var s=this.createDateWithOverflow(e,t,n,i,r,o);if(s.getMonth()!==t)throw Error('Invalid date "'+n+'" for month with index "'+t+'".');return s},n.prototype.clone=function(e){return this.createDate(this.getYear(e),this.getMonth(e),this.getDate(e),this.getHours(e),this.getMinutes(e),this.getSeconds(e))},n.prototype.now=function(){return new Date},n.prototype.format=function(e,t){if(!this.isValid(e))throw Error("JSNativeDate: Cannot format invalid date.");if(Hr){this._clampDate&&(e.getFullYear()<1||e.getFullYear()>9999)&&(e=this.clone(e)).setFullYear(Math.max(1,Math.min(9999,e.getFullYear()))),t=Rr({},t,{timeZone:"utc"});var n=new Intl.DateTimeFormat(this.locale,t);return this.stripDirectionalityCharacters(this._format(n,e))}return this.stripDirectionalityCharacters(e.toDateString())},n.prototype.parse=function(e,t){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null},n.prototype.deserialize=function(t){if("string"==typeof t){if(!t)return null;if(zr.test(t)){var n=new Date(t);if(this.isValid(n))return n}}return e.prototype.deserialize.call(this,t)},n.prototype.createDateWithOverflow=function(e,t,n,i,r,o){void 0===i&&(i=0),void 0===r&&(r=0),void 0===o&&(o=0);var s=new Date(e,t,n,i,r,o);return e>=0&&e<100&&s.setFullYear(this.getYear(s)-1900),s},n.prototype.stripDirectionalityCharacters=function(e){return e.replace(/[\u200e\u200f]/g,"")},n.prototype._format=function(e,t){var n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.format(n)},n=Vr([t.Injectable(),Lr(0,t.Optional()),Lr(0,t.Inject(qn)),Fr("design:paramtypes",[String,at])],n)}(ei),Xr={parseInput:null,fullPickerInput:{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"},datePickerInput:{year:"numeric",month:"numeric",day:"numeric"},timePickerInput:{hour:"numeric",minute:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}},$r=function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},Kr=function(){function e(){}return e=$r([t.NgModule({imports:[ct],providers:[{provide:ei,useClass:Zr}]})],e)}(),Ur=function(){function e(){}return e=$r([t.NgModule({imports:[Kr],providers:[{provide:ti,useValue:Xr}]})],e)}();e.OwlDateTimeModule=Pr,e.OwlDateTimeIntl=Gn,e.OwlNativeDateTimeModule=Ur,e.OWL_DATE_TIME_LOCALE_PROVIDER=Qn,e.OWL_DATE_TIME_LOCALE=qn,e.DateTimeAdapter=ei,e.OWL_DATE_TIME_FORMATS=ti,e.OwlDateTimeInlineComponent=xr,e.OwlDateTimeComponent=Ui,Object.defineProperty(e,"__esModule",{value:!0})});

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGlja2VyLmJ1bmRsZS5qcyIsInNvdXJjZXMiOlsicGlja2VyLmJ1bmRsZS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZXNDb250ZW50IjpbIiFmdW5jdGlvbihlLHQpe1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgbW9kdWxlP3QoZXhwb3J0cyxyZXF1aXJlKFwiQGFuZ3VsYXIvY29yZVwiKSxyZXF1aXJlKFwiQGFuZ3VsYXIvY29tbW9uXCIpLHJlcXVpcmUoXCJAYW5ndWxhci9hbmltYXRpb25zXCIpLHJlcXVpcmUoXCJAYW5ndWxhci9mb3Jtc1wiKSk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXCJleHBvcnRzXCIsXCJAYW5ndWxhci9jb3JlXCIsXCJAYW5ndWxhci9jb21tb25cIixcIkBhbmd1bGFyL2FuaW1hdGlvbnNcIixcIkBhbmd1bGFyL2Zvcm1zXCJdLHQpOnQoZVtcIm5nLXBpY2stZGF0ZXRpbWVcIl09e30sZS52ZW5kb3IuX2FuZ3VsYXJfY29yZSxlLnZlbmRvci5fYW5ndWxhcl9jb21tb24sZS52ZW5kb3IuX2FuZ3VsYXJfYW5pbWF0aW9ucyxlLnZlbmRvci5fYW5ndWxhcl9mb3Jtcyl9KHRoaXMsZnVuY3Rpb24oZSx0LG4saSxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbz1mdW5jdGlvbihlLHQpe3JldHVybihvPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbihlLHQpe2UuX19wcm90b19fPXR9fHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgbiBpbiB0KXQuaGFzT3duUHJvcGVydHkobikmJihlW25dPXRbbl0pfSkoZSx0KX07ZnVuY3Rpb24gcyhlLHQpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPWV9byhlLHQpLGUucHJvdG90eXBlPW51bGw9PT10P09iamVjdC5jcmVhdGUodCk6KG4ucHJvdG90eXBlPXQucHJvdG90eXBlLG5ldyBuKX1mdW5jdGlvbiBhKGUpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIGV9dmFyIGM9ITEsbD17UHJvbWlzZTp2b2lkIDAsc2V0IHVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcoZSl7aWYoZSl7dmFyIHQ9bmV3IEVycm9yO3Quc3RhY2t9Yz1lfSxnZXQgdXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZygpe3JldHVybiBjfX07ZnVuY3Rpb24gdShlKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhyb3cgZX0pfXZhciBwPXtjbG9zZWQ6ITAsbmV4dDpmdW5jdGlvbihlKXt9LGVycm9yOmZ1bmN0aW9uKGUpe2lmKGwudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZyl0aHJvdyBlO3UoZSl9LGNvbXBsZXRlOmZ1bmN0aW9uKCl7fX0saD1BcnJheS5pc0FycmF5fHxmdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJudW1iZXJcIj09dHlwZW9mIGUubGVuZ3RofTtmdW5jdGlvbiBkKGUpe3JldHVybiBudWxsIT1lJiZcIm9iamVjdFwiPT10eXBlb2YgZX12YXIgZixtPXtlOnt9fTtmdW5jdGlvbiB5KCl7dHJ5e3JldHVybiBmLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1jYXRjaChlKXtyZXR1cm4gbS5lPWUsbX19ZnVuY3Rpb24gZyhlKXtyZXR1cm4gZj1lLHl9ZnVuY3Rpb24gYihlKXtyZXR1cm4gRXJyb3IuY2FsbCh0aGlzKSx0aGlzLm1lc3NhZ2U9ZT9lLmxlbmd0aCtcIiBlcnJvcnMgb2NjdXJyZWQgZHVyaW5nIHVuc3Vic2NyaXB0aW9uOlxcblwiK2UubWFwKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQrMStcIikgXCIrZS50b1N0cmluZygpfSkuam9pbihcIlxcbiAgXCIpOlwiXCIsdGhpcy5uYW1lPVwiVW5zdWJzY3JpcHRpb25FcnJvclwiLHRoaXMuZXJyb3JzPWUsdGhpc31iLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSk7dmFyIHY9YixfPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLmNsb3NlZD0hMSx0aGlzLl9wYXJlbnQ9bnVsbCx0aGlzLl9wYXJlbnRzPW51bGwsdGhpcy5fc3Vic2NyaXB0aW9ucz1udWxsLGUmJih0aGlzLl91bnN1YnNjcmliZT1lKX12YXIgdDtyZXR1cm4gZS5wcm90b3R5cGUudW5zdWJzY3JpYmU9ZnVuY3Rpb24oKXt2YXIgZSx0PSExO2lmKCF0aGlzLmNsb3NlZCl7dmFyIG49dGhpcy5fcGFyZW50LGk9dGhpcy5fcGFyZW50cyxyPXRoaXMuX3Vuc3Vic2NyaWJlLG89dGhpcy5fc3Vic2NyaXB0aW9uczt0aGlzLmNsb3NlZD0hMCx0aGlzLl9wYXJlbnQ9bnVsbCx0aGlzLl9wYXJlbnRzPW51bGwsdGhpcy5fc3Vic2NyaXB0aW9ucz1udWxsO2Zvcih2YXIgcz0tMSxjPWk/aS5sZW5ndGg6MDtuOyluLnJlbW92ZSh0aGlzKSxuPSsrczxjJiZpW3NdfHxudWxsO2lmKGEocikpZyhyKS5jYWxsKHRoaXMpPT09bSYmKHQ9ITAsZT1lfHwobS5lIGluc3RhbmNlb2Ygdj93KG0uZS5lcnJvcnMpOlttLmVdKSk7aWYoaChvKSlmb3Iocz0tMSxjPW8ubGVuZ3RoOysrczxjOyl7dmFyIGw9b1tzXTtpZihkKGwpKWlmKGcobC51bnN1YnNjcmliZSkuY2FsbChsKT09PW0pe3Q9ITAsZT1lfHxbXTt2YXIgdT1tLmU7dSBpbnN0YW5jZW9mIHY/ZT1lLmNvbmNhdCh3KHUuZXJyb3JzKSk6ZS5wdXNoKHUpfX1pZih0KXRocm93IG5ldyB2KGUpfX0sZS5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKHQpe2lmKCF0fHx0PT09ZS5FTVBUWSlyZXR1cm4gZS5FTVBUWTtpZih0PT09dGhpcylyZXR1cm4gdGhpczt2YXIgbj10O3N3aXRjaCh0eXBlb2YgdCl7Y2FzZVwiZnVuY3Rpb25cIjpuPW5ldyBlKHQpO2Nhc2VcIm9iamVjdFwiOmlmKG4uY2xvc2VkfHxcImZ1bmN0aW9uXCIhPXR5cGVvZiBuLnVuc3Vic2NyaWJlKXJldHVybiBuO2lmKHRoaXMuY2xvc2VkKXJldHVybiBuLnVuc3Vic2NyaWJlKCksbjtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBuLl9hZGRQYXJlbnQpe3ZhciBpPW47KG49bmV3IGUpLl9zdWJzY3JpcHRpb25zPVtpXX1icmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcihcInVucmVjb2duaXplZCB0ZWFyZG93biBcIit0K1wiIGFkZGVkIHRvIFN1YnNjcmlwdGlvbi5cIil9cmV0dXJuKHRoaXMuX3N1YnNjcmlwdGlvbnN8fCh0aGlzLl9zdWJzY3JpcHRpb25zPVtdKSkucHVzaChuKSxuLl9hZGRQYXJlbnQodGhpcyksbn0sZS5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX3N1YnNjcmlwdGlvbnM7aWYodCl7dmFyIG49dC5pbmRleE9mKGUpOy0xIT09biYmdC5zcGxpY2UobiwxKX19LGUucHJvdG90eXBlLl9hZGRQYXJlbnQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fcGFyZW50LG49dGhpcy5fcGFyZW50czt0JiZ0IT09ZT9uPy0xPT09bi5pbmRleE9mKGUpJiZuLnB1c2goZSk6dGhpcy5fcGFyZW50cz1bZV06dGhpcy5fcGFyZW50PWV9LGUuRU1QVFk9KCh0PW5ldyBlKS5jbG9zZWQ9ITAsdCksZX0oKTtmdW5jdGlvbiB3KGUpe3JldHVybiBlLnJlZHVjZShmdW5jdGlvbihlLHQpe3JldHVybiBlLmNvbmNhdCh0IGluc3RhbmNlb2Ygdj90LmVycm9yczp0KX0sW10pfXZhciBPPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbD9TeW1ib2woXCJyeFN1YnNjcmliZXJcIik6XCJAQHJ4U3Vic2NyaWJlcl9cIitNYXRoLnJhbmRvbSgpLGs9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChuLGkscil7dmFyIG89ZS5jYWxsKHRoaXMpfHx0aGlzO3N3aXRjaChvLnN5bmNFcnJvclZhbHVlPW51bGwsby5zeW5jRXJyb3JUaHJvd249ITEsby5zeW5jRXJyb3JUaHJvd2FibGU9ITEsby5pc1N0b3BwZWQ9ITEsby5fcGFyZW50U3Vic2NyaXB0aW9uPW51bGwsYXJndW1lbnRzLmxlbmd0aCl7Y2FzZSAwOm8uZGVzdGluYXRpb249cDticmVhaztjYXNlIDE6aWYoIW4pe28uZGVzdGluYXRpb249cDticmVha31pZihcIm9iamVjdFwiPT10eXBlb2Ygbil7biBpbnN0YW5jZW9mIHQ/KG8uc3luY0Vycm9yVGhyb3dhYmxlPW4uc3luY0Vycm9yVGhyb3dhYmxlLG8uZGVzdGluYXRpb249bixuLmFkZChvKSk6KG8uc3luY0Vycm9yVGhyb3dhYmxlPSEwLG8uZGVzdGluYXRpb249bmV3IEMobyxuKSk7YnJlYWt9ZGVmYXVsdDpvLnN5bmNFcnJvclRocm93YWJsZT0hMCxvLmRlc3RpbmF0aW9uPW5ldyBDKG8sbixpLHIpfXJldHVybiBvfXJldHVybiBzKHQsZSksdC5wcm90b3R5cGVbT109ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sdC5jcmVhdGU9ZnVuY3Rpb24oZSxuLGkpe3ZhciByPW5ldyB0KGUsbixpKTtyZXR1cm4gci5zeW5jRXJyb3JUaHJvd2FibGU9ITEscn0sdC5wcm90b3R5cGUubmV4dD1mdW5jdGlvbihlKXt0aGlzLmlzU3RvcHBlZHx8dGhpcy5fbmV4dChlKX0sdC5wcm90b3R5cGUuZXJyb3I9ZnVuY3Rpb24oZSl7dGhpcy5pc1N0b3BwZWR8fCh0aGlzLmlzU3RvcHBlZD0hMCx0aGlzLl9lcnJvcihlKSl9LHQucHJvdG90eXBlLmNvbXBsZXRlPWZ1bmN0aW9uKCl7dGhpcy5pc1N0b3BwZWR8fCh0aGlzLmlzU3RvcHBlZD0hMCx0aGlzLl9jb21wbGV0ZSgpKX0sdC5wcm90b3R5cGUudW5zdWJzY3JpYmU9ZnVuY3Rpb24oKXt0aGlzLmNsb3NlZHx8KHRoaXMuaXNTdG9wcGVkPSEwLGUucHJvdG90eXBlLnVuc3Vic2NyaWJlLmNhbGwodGhpcykpfSx0LnByb3RvdHlwZS5fbmV4dD1mdW5jdGlvbihlKXt0aGlzLmRlc3RpbmF0aW9uLm5leHQoZSl9LHQucHJvdG90eXBlLl9lcnJvcj1mdW5jdGlvbihlKXt0aGlzLmRlc3RpbmF0aW9uLmVycm9yKGUpLHRoaXMudW5zdWJzY3JpYmUoKX0sdC5wcm90b3R5cGUuX2NvbXBsZXRlPWZ1bmN0aW9uKCl7dGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpLHRoaXMudW5zdWJzY3JpYmUoKX0sdC5wcm90b3R5cGUuX3Vuc3Vic2NyaWJlQW5kUmVjeWNsZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMuX3BhcmVudCx0PXRoaXMuX3BhcmVudHM7cmV0dXJuIHRoaXMuX3BhcmVudD1udWxsLHRoaXMuX3BhcmVudHM9bnVsbCx0aGlzLnVuc3Vic2NyaWJlKCksdGhpcy5jbG9zZWQ9ITEsdGhpcy5pc1N0b3BwZWQ9ITEsdGhpcy5fcGFyZW50PWUsdGhpcy5fcGFyZW50cz10LHRoaXMuX3BhcmVudFN1YnNjcmlwdGlvbj1udWxsLHRoaXN9LHR9KF8pLEM9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LG4saSxyKXt2YXIgbyxzPWUuY2FsbCh0aGlzKXx8dGhpcztzLl9wYXJlbnRTdWJzY3JpYmVyPXQ7dmFyIGM9cztyZXR1cm4gYShuKT9vPW46biYmKG89bi5uZXh0LGk9bi5lcnJvcixyPW4uY29tcGxldGUsbiE9PXAmJihhKChjPU9iamVjdC5jcmVhdGUobikpLnVuc3Vic2NyaWJlKSYmcy5hZGQoYy51bnN1YnNjcmliZS5iaW5kKGMpKSxjLnVuc3Vic2NyaWJlPXMudW5zdWJzY3JpYmUuYmluZChzKSkpLHMuX2NvbnRleHQ9YyxzLl9uZXh0PW8scy5fZXJyb3I9aSxzLl9jb21wbGV0ZT1yLHN9cmV0dXJuIHModCxlKSx0LnByb3RvdHlwZS5uZXh0PWZ1bmN0aW9uKGUpe2lmKCF0aGlzLmlzU3RvcHBlZCYmdGhpcy5fbmV4dCl7dmFyIHQ9dGhpcy5fcGFyZW50U3Vic2NyaWJlcjtsLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcmJnQuc3luY0Vycm9yVGhyb3dhYmxlP3RoaXMuX190cnlPclNldEVycm9yKHQsdGhpcy5fbmV4dCxlKSYmdGhpcy51bnN1YnNjcmliZSgpOnRoaXMuX190cnlPclVuc3ViKHRoaXMuX25leHQsZSl9fSx0LnByb3RvdHlwZS5lcnJvcj1mdW5jdGlvbihlKXtpZighdGhpcy5pc1N0b3BwZWQpe3ZhciB0PXRoaXMuX3BhcmVudFN1YnNjcmliZXIsbj1sLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmc7aWYodGhpcy5fZXJyb3IpbiYmdC5zeW5jRXJyb3JUaHJvd2FibGU/KHRoaXMuX190cnlPclNldEVycm9yKHQsdGhpcy5fZXJyb3IsZSksdGhpcy51bnN1YnNjcmliZSgpKToodGhpcy5fX3RyeU9yVW5zdWIodGhpcy5fZXJyb3IsZSksdGhpcy51bnN1YnNjcmliZSgpKTtlbHNlIGlmKHQuc3luY0Vycm9yVGhyb3dhYmxlKW4/KHQuc3luY0Vycm9yVmFsdWU9ZSx0LnN5bmNFcnJvclRocm93bj0hMCk6dShlKSx0aGlzLnVuc3Vic2NyaWJlKCk7ZWxzZXtpZih0aGlzLnVuc3Vic2NyaWJlKCksbil0aHJvdyBlO3UoZSl9fX0sdC5wcm90b3R5cGUuY29tcGxldGU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2lmKCF0aGlzLmlzU3RvcHBlZCl7dmFyIHQ9dGhpcy5fcGFyZW50U3Vic2NyaWJlcjtpZih0aGlzLl9jb21wbGV0ZSl7dmFyIG49ZnVuY3Rpb24oKXtyZXR1cm4gZS5fY29tcGxldGUuY2FsbChlLl9jb250ZXh0KX07bC51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nJiZ0LnN5bmNFcnJvclRocm93YWJsZT8odGhpcy5fX3RyeU9yU2V0RXJyb3IodCxuKSx0aGlzLnVuc3Vic2NyaWJlKCkpOih0aGlzLl9fdHJ5T3JVbnN1YihuKSx0aGlzLnVuc3Vic2NyaWJlKCkpfWVsc2UgdGhpcy51bnN1YnNjcmliZSgpfX0sdC5wcm90b3R5cGUuX190cnlPclVuc3ViPWZ1bmN0aW9uKGUsdCl7dHJ5e2UuY2FsbCh0aGlzLl9jb250ZXh0LHQpfWNhdGNoKGUpe2lmKHRoaXMudW5zdWJzY3JpYmUoKSxsLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcpdGhyb3cgZTt1KGUpfX0sdC5wcm90b3R5cGUuX190cnlPclNldEVycm9yPWZ1bmN0aW9uKGUsdCxuKXtpZighbC51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKXRocm93IG5ldyBFcnJvcihcImJhZCBjYWxsXCIpO3RyeXt0LmNhbGwodGhpcy5fY29udGV4dCxuKX1jYXRjaCh0KXtyZXR1cm4gbC51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nPyhlLnN5bmNFcnJvclZhbHVlPXQsZS5zeW5jRXJyb3JUaHJvd249ITAsITApOih1KHQpLCEwKX1yZXR1cm4hMX0sdC5wcm90b3R5cGUuX3Vuc3Vic2NyaWJlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fcGFyZW50U3Vic2NyaWJlcjt0aGlzLl9jb250ZXh0PW51bGwsdGhpcy5fcGFyZW50U3Vic2NyaWJlcj1udWxsLGUudW5zdWJzY3JpYmUoKX0sdH0oayk7dmFyIFQ9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZTeW1ib2wub2JzZXJ2YWJsZXx8XCJAQG9ic2VydmFibGVcIjtmdW5jdGlvbiBTKCl7fXZhciBEPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLl9pc1NjYWxhcj0hMSxlJiYodGhpcy5fc3Vic2NyaWJlPWUpfXJldHVybiBlLnByb3RvdHlwZS5saWZ0PWZ1bmN0aW9uKHQpe3ZhciBuPW5ldyBlO3JldHVybiBuLnNvdXJjZT10aGlzLG4ub3BlcmF0b3I9dCxufSxlLnByb3RvdHlwZS5zdWJzY3JpYmU9ZnVuY3Rpb24oZSx0LG4pe3ZhciBpPXRoaXMub3BlcmF0b3Iscj1mdW5jdGlvbihlLHQsbil7aWYoZSl7aWYoZSBpbnN0YW5jZW9mIGspcmV0dXJuIGU7aWYoZVtPXSlyZXR1cm4gZVtPXSgpfXJldHVybiBlfHx0fHxuP25ldyBrKGUsdCxuKTpuZXcgayhwKX0oZSx0LG4pO2lmKGk/aS5jYWxsKHIsdGhpcy5zb3VyY2UpOnIuYWRkKHRoaXMuc291cmNlfHxsLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcmJiFyLnN5bmNFcnJvclRocm93YWJsZT90aGlzLl9zdWJzY3JpYmUocik6dGhpcy5fdHJ5U3Vic2NyaWJlKHIpKSxsLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcmJnIuc3luY0Vycm9yVGhyb3dhYmxlJiYoci5zeW5jRXJyb3JUaHJvd2FibGU9ITEsci5zeW5jRXJyb3JUaHJvd24pKXRocm93IHIuc3luY0Vycm9yVmFsdWU7cmV0dXJuIHJ9LGUucHJvdG90eXBlLl90cnlTdWJzY3JpYmU9ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiB0aGlzLl9zdWJzY3JpYmUoZSl9Y2F0Y2godCl7bC51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nJiYoZS5zeW5jRXJyb3JUaHJvd249ITAsZS5zeW5jRXJyb3JWYWx1ZT10KSwhZnVuY3Rpb24oZSl7Zm9yKDtlOyl7dmFyIHQ9ZSxuPXQuY2xvc2VkLGk9dC5kZXN0aW5hdGlvbixyPXQuaXNTdG9wcGVkO2lmKG58fHIpcmV0dXJuITE7ZT1pJiZpIGluc3RhbmNlb2Ygaz9pOm51bGx9cmV0dXJuITB9KGUpP2NvbnNvbGUud2Fybih0KTplLmVycm9yKHQpfX0sZS5wcm90b3R5cGUuZm9yRWFjaD1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXM7cmV0dXJuIG5ldyh0PUkodCkpKGZ1bmN0aW9uKHQsaSl7dmFyIHI7cj1uLnN1YnNjcmliZShmdW5jdGlvbih0KXt0cnl7ZSh0KX1jYXRjaChlKXtpKGUpLHImJnIudW5zdWJzY3JpYmUoKX19LGksdCl9KX0sZS5wcm90b3R5cGUuX3N1YnNjcmliZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLnNvdXJjZTtyZXR1cm4gdCYmdC5zdWJzY3JpYmUoZSl9LGUucHJvdG90eXBlW1RdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LGUucHJvdG90eXBlLnBpcGU9ZnVuY3Rpb24oKXtmb3IodmFyIGUsdD1bXSxuPTA7bjxhcmd1bWVudHMubGVuZ3RoO24rKyl0W25dPWFyZ3VtZW50c1tuXTtyZXR1cm4gMD09PXQubGVuZ3RoP3RoaXM6KChlPXQpPzE9PT1lLmxlbmd0aD9lWzBdOmZ1bmN0aW9uKHQpe3JldHVybiBlLnJlZHVjZShmdW5jdGlvbihlLHQpe3JldHVybiB0KGUpfSx0KX06UykodGhpcyl9LGUucHJvdG90eXBlLnRvUHJvbWlzZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBuZXcoZT1JKGUpKShmdW5jdGlvbihlLG4pe3ZhciBpO3Quc3Vic2NyaWJlKGZ1bmN0aW9uKGUpe3JldHVybiBpPWV9LGZ1bmN0aW9uKGUpe3JldHVybiBuKGUpfSxmdW5jdGlvbigpe3JldHVybiBlKGkpfSl9KX0sZS5jcmVhdGU9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBlKHQpfSxlfSgpO2Z1bmN0aW9uIEkoZSl7aWYoZXx8KGU9bC5Qcm9taXNlfHxQcm9taXNlKSwhZSl0aHJvdyBuZXcgRXJyb3IoXCJubyBQcm9taXNlIGltcGwgZm91bmRcIik7cmV0dXJuIGV9ZnVuY3Rpb24gTSgpe3JldHVybiBFcnJvci5jYWxsKHRoaXMpLHRoaXMubWVzc2FnZT1cIm9iamVjdCB1bnN1YnNjcmliZWRcIix0aGlzLm5hbWU9XCJPYmplY3RVbnN1YnNjcmliZWRFcnJvclwiLHRoaXN9TS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpO3ZhciBFPU0seD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQsbil7dmFyIGk9ZS5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBpLnN1YmplY3Q9dCxpLnN1YnNjcmliZXI9bixpLmNsb3NlZD0hMSxpfXJldHVybiBzKHQsZSksdC5wcm90b3R5cGUudW5zdWJzY3JpYmU9ZnVuY3Rpb24oKXtpZighdGhpcy5jbG9zZWQpe3RoaXMuY2xvc2VkPSEwO3ZhciBlPXRoaXMuc3ViamVjdCx0PWUub2JzZXJ2ZXJzO2lmKHRoaXMuc3ViamVjdD1udWxsLHQmJjAhPT10Lmxlbmd0aCYmIWUuaXNTdG9wcGVkJiYhZS5jbG9zZWQpe3ZhciBuPXQuaW5kZXhPZih0aGlzLnN1YnNjcmliZXIpOy0xIT09biYmdC5zcGxpY2UobiwxKX19fSx0fShfKSxBPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCl7dmFyIG49ZS5jYWxsKHRoaXMsdCl8fHRoaXM7cmV0dXJuIG4uZGVzdGluYXRpb249dCxufXJldHVybiBzKHQsZSksdH0oayksUD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7dmFyIHQ9ZS5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiB0Lm9ic2VydmVycz1bXSx0LmNsb3NlZD0hMSx0LmlzU3RvcHBlZD0hMSx0Lmhhc0Vycm9yPSExLHQudGhyb3duRXJyb3I9bnVsbCx0fXJldHVybiBzKHQsZSksdC5wcm90b3R5cGVbT109ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEEodGhpcyl9LHQucHJvdG90eXBlLmxpZnQ9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IGoodGhpcyx0aGlzKTtyZXR1cm4gdC5vcGVyYXRvcj1lLHR9LHQucHJvdG90eXBlLm5leHQ9ZnVuY3Rpb24oZSl7aWYodGhpcy5jbG9zZWQpdGhyb3cgbmV3IEU7aWYoIXRoaXMuaXNTdG9wcGVkKWZvcih2YXIgdD10aGlzLm9ic2VydmVycyxuPXQubGVuZ3RoLGk9dC5zbGljZSgpLHI9MDtyPG47cisrKWlbcl0ubmV4dChlKX0sdC5wcm90b3R5cGUuZXJyb3I9ZnVuY3Rpb24oZSl7aWYodGhpcy5jbG9zZWQpdGhyb3cgbmV3IEU7dGhpcy5oYXNFcnJvcj0hMCx0aGlzLnRocm93bkVycm9yPWUsdGhpcy5pc1N0b3BwZWQ9ITA7Zm9yKHZhciB0PXRoaXMub2JzZXJ2ZXJzLG49dC5sZW5ndGgsaT10LnNsaWNlKCkscj0wO3I8bjtyKyspaVtyXS5lcnJvcihlKTt0aGlzLm9ic2VydmVycy5sZW5ndGg9MH0sdC5wcm90b3R5cGUuY29tcGxldGU9ZnVuY3Rpb24oKXtpZih0aGlzLmNsb3NlZCl0aHJvdyBuZXcgRTt0aGlzLmlzU3RvcHBlZD0hMDtmb3IodmFyIGU9dGhpcy5vYnNlcnZlcnMsdD1lLmxlbmd0aCxuPWUuc2xpY2UoKSxpPTA7aTx0O2krKyluW2ldLmNvbXBsZXRlKCk7dGhpcy5vYnNlcnZlcnMubGVuZ3RoPTB9LHQucHJvdG90eXBlLnVuc3Vic2NyaWJlPWZ1bmN0aW9uKCl7dGhpcy5pc1N0b3BwZWQ9ITAsdGhpcy5jbG9zZWQ9ITAsdGhpcy5vYnNlcnZlcnM9bnVsbH0sdC5wcm90b3R5cGUuX3RyeVN1YnNjcmliZT1mdW5jdGlvbih0KXtpZih0aGlzLmNsb3NlZCl0aHJvdyBuZXcgRTtyZXR1cm4gZS5wcm90b3R5cGUuX3RyeVN1YnNjcmliZS5jYWxsKHRoaXMsdCl9LHQucHJvdG90eXBlLl9zdWJzY3JpYmU9ZnVuY3Rpb24oZSl7aWYodGhpcy5jbG9zZWQpdGhyb3cgbmV3IEU7cmV0dXJuIHRoaXMuaGFzRXJyb3I/KGUuZXJyb3IodGhpcy50aHJvd25FcnJvciksXy5FTVBUWSk6dGhpcy5pc1N0b3BwZWQ/KGUuY29tcGxldGUoKSxfLkVNUFRZKToodGhpcy5vYnNlcnZlcnMucHVzaChlKSxuZXcgeCh0aGlzLGUpKX0sdC5wcm90b3R5cGUuYXNPYnNlcnZhYmxlPWZ1bmN0aW9uKCl7dmFyIGU9bmV3IEQ7cmV0dXJuIGUuc291cmNlPXRoaXMsZX0sdC5jcmVhdGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3IGooZSx0KX0sdH0oRCksaj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQsbil7dmFyIGk9ZS5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBpLmRlc3RpbmF0aW9uPXQsaS5zb3VyY2U9bixpfXJldHVybiBzKHQsZSksdC5wcm90b3R5cGUubmV4dD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmRlc3RpbmF0aW9uO3QmJnQubmV4dCYmdC5uZXh0KGUpfSx0LnByb3RvdHlwZS5lcnJvcj1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmRlc3RpbmF0aW9uO3QmJnQuZXJyb3ImJnRoaXMuZGVzdGluYXRpb24uZXJyb3IoZSl9LHQucHJvdG90eXBlLmNvbXBsZXRlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5kZXN0aW5hdGlvbjtlJiZlLmNvbXBsZXRlJiZ0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCl9LHQucHJvdG90eXBlLl9zdWJzY3JpYmU9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuc291cmNlP3RoaXMuc291cmNlLnN1YnNjcmliZShlKTpfLkVNUFRZfSx0fShQKTt2YXIgUj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQsbil7dmFyIGk9ZS5jYWxsKHRoaXMsdCxuKXx8dGhpcztyZXR1cm4gaS5zY2hlZHVsZXI9dCxpLndvcms9bixpLnBlbmRpbmc9ITEsaX1yZXR1cm4gcyh0LGUpLHQucHJvdG90eXBlLnNjaGVkdWxlPWZ1bmN0aW9uKGUsdCl7aWYodm9pZCAwPT09dCYmKHQ9MCksdGhpcy5jbG9zZWQpcmV0dXJuIHRoaXM7dGhpcy5zdGF0ZT1lO3ZhciBuPXRoaXMuaWQsaT10aGlzLnNjaGVkdWxlcjtyZXR1cm4gbnVsbCE9biYmKHRoaXMuaWQ9dGhpcy5yZWN5Y2xlQXN5bmNJZChpLG4sdCkpLHRoaXMucGVuZGluZz0hMCx0aGlzLmRlbGF5PXQsdGhpcy5pZD10aGlzLmlkfHx0aGlzLnJlcXVlc3RBc3luY0lkKGksdGhpcy5pZCx0KSx0aGlzfSx0LnByb3RvdHlwZS5yZXF1ZXN0QXN5bmNJZD1mdW5jdGlvbihlLHQsbil7cmV0dXJuIHZvaWQgMD09PW4mJihuPTApLHNldEludGVydmFsKGUuZmx1c2guYmluZChlLHRoaXMpLG4pfSx0LnByb3RvdHlwZS5yZWN5Y2xlQXN5bmNJZD1mdW5jdGlvbihlLHQsbil7aWYodm9pZCAwPT09biYmKG49MCksbnVsbCE9PW4mJnRoaXMuZGVsYXk9PT1uJiYhMT09PXRoaXMucGVuZGluZylyZXR1cm4gdDtjbGVhckludGVydmFsKHQpfSx0LnByb3RvdHlwZS5leGVjdXRlPWZ1bmN0aW9uKGUsdCl7aWYodGhpcy5jbG9zZWQpcmV0dXJuIG5ldyBFcnJvcihcImV4ZWN1dGluZyBhIGNhbmNlbGxlZCBhY3Rpb25cIik7dGhpcy5wZW5kaW5nPSExO3ZhciBuPXRoaXMuX2V4ZWN1dGUoZSx0KTtpZihuKXJldHVybiBuOyExPT09dGhpcy5wZW5kaW5nJiZudWxsIT10aGlzLmlkJiYodGhpcy5pZD10aGlzLnJlY3ljbGVBc3luY0lkKHRoaXMuc2NoZWR1bGVyLHRoaXMuaWQsbnVsbCkpfSx0LnByb3RvdHlwZS5fZXhlY3V0ZT1mdW5jdGlvbihlLHQpe3ZhciBuPSExLGk9dm9pZCAwO3RyeXt0aGlzLndvcmsoZSl9Y2F0Y2goZSl7bj0hMCxpPSEhZSYmZXx8bmV3IEVycm9yKGUpfWlmKG4pcmV0dXJuIHRoaXMudW5zdWJzY3JpYmUoKSxpfSx0LnByb3RvdHlwZS5fdW5zdWJzY3JpYmU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmlkLHQ9dGhpcy5zY2hlZHVsZXIsbj10LmFjdGlvbnMsaT1uLmluZGV4T2YodGhpcyk7dGhpcy53b3JrPW51bGwsdGhpcy5zdGF0ZT1udWxsLHRoaXMucGVuZGluZz0hMSx0aGlzLnNjaGVkdWxlcj1udWxsLC0xIT09aSYmbi5zcGxpY2UoaSwxKSxudWxsIT1lJiYodGhpcy5pZD10aGlzLnJlY3ljbGVBc3luY0lkKHQsZSxudWxsKSksdGhpcy5kZWxheT1udWxsfSx0fShmdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQsbil7cmV0dXJuIGUuY2FsbCh0aGlzKXx8dGhpc31yZXR1cm4gcyh0LGUpLHQucHJvdG90eXBlLnNjaGVkdWxlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHZvaWQgMD09PXQmJih0PTApLHRoaXN9LHR9KF8pKSxWPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCxuKXt2YXIgaT1lLmNhbGwodGhpcyx0LG4pfHx0aGlzO3JldHVybiBpLnNjaGVkdWxlcj10LGkud29yaz1uLGl9cmV0dXJuIHModCxlKSx0LnByb3RvdHlwZS5zY2hlZHVsZT1mdW5jdGlvbih0LG4pe3JldHVybiB2b2lkIDA9PT1uJiYobj0wKSxuPjA/ZS5wcm90b3R5cGUuc2NoZWR1bGUuY2FsbCh0aGlzLHQsbik6KHRoaXMuZGVsYXk9bix0aGlzLnN0YXRlPXQsdGhpcy5zY2hlZHVsZXIuZmx1c2godGhpcyksdGhpcyl9LHQucHJvdG90eXBlLmV4ZWN1dGU9ZnVuY3Rpb24odCxuKXtyZXR1cm4gbj4wfHx0aGlzLmNsb3NlZD9lLnByb3RvdHlwZS5leGVjdXRlLmNhbGwodGhpcyx0LG4pOnRoaXMuX2V4ZWN1dGUodCxuKX0sdC5wcm90b3R5cGUucmVxdWVzdEFzeW5jSWQ9ZnVuY3Rpb24odCxuLGkpe3JldHVybiB2b2lkIDA9PT1pJiYoaT0wKSxudWxsIT09aSYmaT4wfHxudWxsPT09aSYmdGhpcy5kZWxheT4wP2UucHJvdG90eXBlLnJlcXVlc3RBc3luY0lkLmNhbGwodGhpcyx0LG4saSk6dC5mbHVzaCh0aGlzKX0sdH0oUiksRj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxuKXt2b2lkIDA9PT1uJiYobj1lLm5vdyksdGhpcy5TY2hlZHVsZXJBY3Rpb249dCx0aGlzLm5vdz1ufXJldHVybiBlLnByb3RvdHlwZS5zY2hlZHVsZT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIHZvaWQgMD09PXQmJih0PTApLG5ldyB0aGlzLlNjaGVkdWxlckFjdGlvbih0aGlzLGUpLnNjaGVkdWxlKG4sdCl9LGUubm93PWZ1bmN0aW9uKCl7cmV0dXJuIERhdGUubm93KCl9LGV9KCksTD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KG4saSl7dm9pZCAwPT09aSYmKGk9Ri5ub3cpO3ZhciByPWUuY2FsbCh0aGlzLG4sZnVuY3Rpb24oKXtyZXR1cm4gdC5kZWxlZ2F0ZSYmdC5kZWxlZ2F0ZSE9PXI/dC5kZWxlZ2F0ZS5ub3coKTppKCl9KXx8dGhpcztyZXR1cm4gci5hY3Rpb25zPVtdLHIuYWN0aXZlPSExLHIuc2NoZWR1bGVkPXZvaWQgMCxyfXJldHVybiBzKHQsZSksdC5wcm90b3R5cGUuc2NoZWR1bGU9ZnVuY3Rpb24obixpLHIpe3JldHVybiB2b2lkIDA9PT1pJiYoaT0wKSx0LmRlbGVnYXRlJiZ0LmRlbGVnYXRlIT09dGhpcz90LmRlbGVnYXRlLnNjaGVkdWxlKG4saSxyKTplLnByb3RvdHlwZS5zY2hlZHVsZS5jYWxsKHRoaXMsbixpLHIpfSx0LnByb3RvdHlwZS5mbHVzaD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmFjdGlvbnM7aWYodGhpcy5hY3RpdmUpdC5wdXNoKGUpO2Vsc2V7dmFyIG47dGhpcy5hY3RpdmU9ITA7ZG97aWYobj1lLmV4ZWN1dGUoZS5zdGF0ZSxlLmRlbGF5KSlicmVha313aGlsZShlPXQuc2hpZnQoKSk7aWYodGhpcy5hY3RpdmU9ITEsbil7Zm9yKDtlPXQuc2hpZnQoKTspZS51bnN1YnNjcmliZSgpO3Rocm93IG59fX0sdH0oRiksQj1uZXcoZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIHModCxlKSx0fShMKSkoViksTj1uZXcgRChmdW5jdGlvbihlKXtyZXR1cm4gZS5jb21wbGV0ZSgpfSk7ZnVuY3Rpb24gWShlKXtyZXR1cm4gZT8odD1lLG5ldyBEKGZ1bmN0aW9uKGUpe3JldHVybiB0LnNjaGVkdWxlKGZ1bmN0aW9uKCl7cmV0dXJuIGUuY29tcGxldGUoKX0pfSkpOk47dmFyIHR9ZnVuY3Rpb24gSChlKXtyZXR1cm4gZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgZS5zY2hlZHVsZX12YXIgej1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7Zm9yKHZhciBuPTAsaT1lLmxlbmd0aDtuPGkmJiF0LmNsb3NlZDtuKyspdC5uZXh0KGVbbl0pO3QuY2xvc2VkfHx0LmNvbXBsZXRlKCl9fTtmdW5jdGlvbiBXKGUsdCl7cmV0dXJuIG5ldyBEKHQ/ZnVuY3Rpb24obil7dmFyIGk9bmV3IF8scj0wO3JldHVybiBpLmFkZCh0LnNjaGVkdWxlKGZ1bmN0aW9uKCl7ciE9PWUubGVuZ3RoPyhuLm5leHQoZVtyKytdKSxuLmNsb3NlZHx8aS5hZGQodGhpcy5zY2hlZHVsZSgpKSk6bi5jb21wbGV0ZSgpfSkpLGl9OnooZSkpfWZ1bmN0aW9uIFooZSl7dmFyIHQ9bmV3IEQoZnVuY3Rpb24odCl7dC5uZXh0KGUpLHQuY29tcGxldGUoKX0pO3JldHVybiB0Ll9pc1NjYWxhcj0hMCx0LnZhbHVlPWUsdH1mdW5jdGlvbiBYKCl7Zm9yKHZhciBlPVtdLHQ9MDt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKWVbdF09YXJndW1lbnRzW3RdO3ZhciBuPWVbZS5sZW5ndGgtMV07c3dpdGNoKEgobik/ZS5wb3AoKTpuPXZvaWQgMCxlLmxlbmd0aCl7Y2FzZSAwOnJldHVybiBZKG4pO2Nhc2UgMTpyZXR1cm4gbj9XKGUsbik6WihlWzBdKTtkZWZhdWx0OnJldHVybiBXKGUsbil9fWZ1bmN0aW9uICQoZSl7dmFyIHQ9ZS5lcnJvcjtlLnN1YnNjcmliZXIuZXJyb3IodCl9dmFyIEs9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxuKXt0aGlzLmtpbmQ9ZSx0aGlzLnZhbHVlPXQsdGhpcy5lcnJvcj1uLHRoaXMuaGFzVmFsdWU9XCJOXCI9PT1lfXJldHVybiBlLnByb3RvdHlwZS5vYnNlcnZlPWZ1bmN0aW9uKGUpe3N3aXRjaCh0aGlzLmtpbmQpe2Nhc2VcIk5cIjpyZXR1cm4gZS5uZXh0JiZlLm5leHQodGhpcy52YWx1ZSk7Y2FzZVwiRVwiOnJldHVybiBlLmVycm9yJiZlLmVycm9yKHRoaXMuZXJyb3IpO2Nhc2VcIkNcIjpyZXR1cm4gZS5jb21wbGV0ZSYmZS5jb21wbGV0ZSgpfX0sZS5wcm90b3R5cGUuZG89ZnVuY3Rpb24oZSx0LG4pe3N3aXRjaCh0aGlzLmtpbmQpe2Nhc2VcIk5cIjpyZXR1cm4gZSYmZSh0aGlzLnZhbHVlKTtjYXNlXCJFXCI6cmV0dXJuIHQmJnQodGhpcy5lcnJvcik7Y2FzZVwiQ1wiOnJldHVybiBuJiZuKCl9fSxlLnByb3RvdHlwZS5hY2NlcHQ9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLm5leHQ/dGhpcy5vYnNlcnZlKGUpOnRoaXMuZG8oZSx0LG4pfSxlLnByb3RvdHlwZS50b09ic2VydmFibGU9ZnVuY3Rpb24oKXt2YXIgZSx0O3N3aXRjaCh0aGlzLmtpbmQpe2Nhc2VcIk5cIjpyZXR1cm4gWCh0aGlzLnZhbHVlKTtjYXNlXCJFXCI6cmV0dXJuIGU9dGhpcy5lcnJvcixuZXcgRCh0P2Z1bmN0aW9uKG4pe3JldHVybiB0LnNjaGVkdWxlKCQsMCx7ZXJyb3I6ZSxzdWJzY3JpYmVyOm59KX06ZnVuY3Rpb24odCl7cmV0dXJuIHQuZXJyb3IoZSl9KTtjYXNlXCJDXCI6cmV0dXJuIFkoKX10aHJvdyBuZXcgRXJyb3IoXCJ1bmV4cGVjdGVkIG5vdGlmaWNhdGlvbiBraW5kIHZhbHVlXCIpfSxlLmNyZWF0ZU5leHQ9ZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMCE9PXQ/bmV3IGUoXCJOXCIsdCk6ZS51bmRlZmluZWRWYWx1ZU5vdGlmaWNhdGlvbn0sZS5jcmVhdGVFcnJvcj1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IGUoXCJFXCIsdm9pZCAwLHQpfSxlLmNyZWF0ZUNvbXBsZXRlPWZ1bmN0aW9uKCl7cmV0dXJuIGUuY29tcGxldGVOb3RpZmljYXRpb259LGUuY29tcGxldGVOb3RpZmljYXRpb249bmV3IGUoXCJDXCIpLGUudW5kZWZpbmVkVmFsdWVOb3RpZmljYXRpb249bmV3IGUoXCJOXCIsdm9pZCAwKSxlfSgpLFU9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LG4saSl7dm9pZCAwPT09aSYmKGk9MCk7dmFyIHI9ZS5jYWxsKHRoaXMsdCl8fHRoaXM7cmV0dXJuIHIuc2NoZWR1bGVyPW4sci5kZWxheT1pLHJ9cmV0dXJuIHModCxlKSx0LmRpc3BhdGNoPWZ1bmN0aW9uKGUpe3ZhciB0PWUubm90aWZpY2F0aW9uLG49ZS5kZXN0aW5hdGlvbjt0Lm9ic2VydmUobiksdGhpcy51bnN1YnNjcmliZSgpfSx0LnByb3RvdHlwZS5zY2hlZHVsZU1lc3NhZ2U9ZnVuY3Rpb24oZSl7dGhpcy5kZXN0aW5hdGlvbi5hZGQodGhpcy5zY2hlZHVsZXIuc2NoZWR1bGUodC5kaXNwYXRjaCx0aGlzLmRlbGF5LG5ldyBHKGUsdGhpcy5kZXN0aW5hdGlvbikpKX0sdC5wcm90b3R5cGUuX25leHQ9ZnVuY3Rpb24oZSl7dGhpcy5zY2hlZHVsZU1lc3NhZ2UoSy5jcmVhdGVOZXh0KGUpKX0sdC5wcm90b3R5cGUuX2Vycm9yPWZ1bmN0aW9uKGUpe3RoaXMuc2NoZWR1bGVNZXNzYWdlKEsuY3JlYXRlRXJyb3IoZSkpLHRoaXMudW5zdWJzY3JpYmUoKX0sdC5wcm90b3R5cGUuX2NvbXBsZXRlPWZ1bmN0aW9uKCl7dGhpcy5zY2hlZHVsZU1lc3NhZ2UoSy5jcmVhdGVDb21wbGV0ZSgpKSx0aGlzLnVuc3Vic2NyaWJlKCl9LHR9KGspLEc9ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oZSx0KXt0aGlzLm5vdGlmaWNhdGlvbj1lLHRoaXMuZGVzdGluYXRpb249dH19KCkscT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQsbixpKXt2b2lkIDA9PT10JiYodD1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkpLHZvaWQgMD09PW4mJihuPU51bWJlci5QT1NJVElWRV9JTkZJTklUWSk7dmFyIHI9ZS5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiByLnNjaGVkdWxlcj1pLHIuX2V2ZW50cz1bXSxyLl9pbmZpbml0ZVRpbWVXaW5kb3c9ITEsci5fYnVmZmVyU2l6ZT10PDE/MTp0LHIuX3dpbmRvd1RpbWU9bjwxPzE6bixuPT09TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZPyhyLl9pbmZpbml0ZVRpbWVXaW5kb3c9ITAsci5uZXh0PXIubmV4dEluZmluaXRlVGltZVdpbmRvdyk6ci5uZXh0PXIubmV4dFRpbWVXaW5kb3cscn1yZXR1cm4gcyh0LGUpLHQucHJvdG90eXBlLm5leHRJbmZpbml0ZVRpbWVXaW5kb3c9ZnVuY3Rpb24odCl7dmFyIG49dGhpcy5fZXZlbnRzO24ucHVzaCh0KSxuLmxlbmd0aD50aGlzLl9idWZmZXJTaXplJiZuLnNoaWZ0KCksZS5wcm90b3R5cGUubmV4dC5jYWxsKHRoaXMsdCl9LHQucHJvdG90eXBlLm5leHRUaW1lV2luZG93PWZ1bmN0aW9uKHQpe3RoaXMuX2V2ZW50cy5wdXNoKG5ldyBKKHRoaXMuX2dldE5vdygpLHQpKSx0aGlzLl90cmltQnVmZmVyVGhlbkdldEV2ZW50cygpLGUucHJvdG90eXBlLm5leHQuY2FsbCh0aGlzLHQpfSx0LnByb3RvdHlwZS5fc3Vic2NyaWJlPWZ1bmN0aW9uKGUpe3ZhciB0LG49dGhpcy5faW5maW5pdGVUaW1lV2luZG93LGk9bj90aGlzLl9ldmVudHM6dGhpcy5fdHJpbUJ1ZmZlclRoZW5HZXRFdmVudHMoKSxyPXRoaXMuc2NoZWR1bGVyLG89aS5sZW5ndGg7aWYodGhpcy5jbG9zZWQpdGhyb3cgbmV3IEU7aWYodGhpcy5pc1N0b3BwZWR8fHRoaXMuaGFzRXJyb3I/dD1fLkVNUFRZOih0aGlzLm9ic2VydmVycy5wdXNoKGUpLHQ9bmV3IHgodGhpcyxlKSksciYmZS5hZGQoZT1uZXcgVShlLHIpKSxuKWZvcih2YXIgcz0wO3M8byYmIWUuY2xvc2VkO3MrKyllLm5leHQoaVtzXSk7ZWxzZSBmb3Iocz0wO3M8byYmIWUuY2xvc2VkO3MrKyllLm5leHQoaVtzXS52YWx1ZSk7cmV0dXJuIHRoaXMuaGFzRXJyb3I/ZS5lcnJvcih0aGlzLnRocm93bkVycm9yKTp0aGlzLmlzU3RvcHBlZCYmZS5jb21wbGV0ZSgpLHR9LHQucHJvdG90eXBlLl9nZXROb3c9ZnVuY3Rpb24oKXtyZXR1cm4odGhpcy5zY2hlZHVsZXJ8fEIpLm5vdygpfSx0LnByb3RvdHlwZS5fdHJpbUJ1ZmZlclRoZW5HZXRFdmVudHM9ZnVuY3Rpb24oKXtmb3IodmFyIGU9dGhpcy5fZ2V0Tm93KCksdD10aGlzLl9idWZmZXJTaXplLG49dGhpcy5fd2luZG93VGltZSxpPXRoaXMuX2V2ZW50cyxyPWkubGVuZ3RoLG89MDtvPHImJiEoZS1pW29dLnRpbWU8bik7KW8rKztyZXR1cm4gcj50JiYobz1NYXRoLm1heChvLHItdCkpLG8+MCYmaS5zcGxpY2UoMCxvKSxpfSx0fShQKSxKPWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7dGhpcy50aW1lPWUsdGhpcy52YWx1ZT10fX0oKTt2YXIgUT1uZXcgTChSKSxlZT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQsbil7dmFyIGk9ZS5jYWxsKHRoaXMsdCxuKXx8dGhpcztyZXR1cm4gaS5zY2hlZHVsZXI9dCxpLndvcms9bixpfXJldHVybiBzKHQsZSksdC5wcm90b3R5cGUucmVxdWVzdEFzeW5jSWQ9ZnVuY3Rpb24odCxuLGkpe3JldHVybiB2b2lkIDA9PT1pJiYoaT0wKSxudWxsIT09aSYmaT4wP2UucHJvdG90eXBlLnJlcXVlc3RBc3luY0lkLmNhbGwodGhpcyx0LG4saSk6KHQuYWN0aW9ucy5wdXNoKHRoaXMpLHQuc2NoZWR1bGVkfHwodC5zY2hlZHVsZWQ9cmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uKCl7cmV0dXJuIHQuZmx1c2gobnVsbCl9KSkpfSx0LnByb3RvdHlwZS5yZWN5Y2xlQXN5bmNJZD1mdW5jdGlvbih0LG4saSl7aWYodm9pZCAwPT09aSYmKGk9MCksbnVsbCE9PWkmJmk+MHx8bnVsbD09PWkmJnRoaXMuZGVsYXk+MClyZXR1cm4gZS5wcm90b3R5cGUucmVjeWNsZUFzeW5jSWQuY2FsbCh0aGlzLHQsbixpKTswPT09dC5hY3Rpb25zLmxlbmd0aCYmKGNhbmNlbEFuaW1hdGlvbkZyYW1lKG4pLHQuc2NoZWR1bGVkPXZvaWQgMCl9LHR9KFIpLHRlPW5ldyhmdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gcyh0LGUpLHQucHJvdG90eXBlLmZsdXNoPWZ1bmN0aW9uKGUpe3RoaXMuYWN0aXZlPSEwLHRoaXMuc2NoZWR1bGVkPXZvaWQgMDt2YXIgdCxuPXRoaXMuYWN0aW9ucyxpPS0xLHI9bi5sZW5ndGg7ZT1lfHxuLnNoaWZ0KCk7ZG97aWYodD1lLmV4ZWN1dGUoZS5zdGF0ZSxlLmRlbGF5KSlicmVha313aGlsZSgrK2k8ciYmKGU9bi5zaGlmdCgpKSk7aWYodGhpcy5hY3RpdmU9ITEsdCl7Zm9yKDsrK2k8ciYmKGU9bi5zaGlmdCgpKTspZS51bnN1YnNjcmliZSgpO3Rocm93IHR9fSx0fShMKSkoZWUpO2Z1bmN0aW9uIG5lKGUpe3JldHVybiBlfWZ1bmN0aW9uIGllKCl7cmV0dXJuIEVycm9yLmNhbGwodGhpcyksdGhpcy5tZXNzYWdlPVwiYXJndW1lbnQgb3V0IG9mIHJhbmdlXCIsdGhpcy5uYW1lPVwiQXJndW1lbnRPdXRPZlJhbmdlRXJyb3JcIix0aGlzfWllLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSk7dmFyIHJlPWllO2Z1bmN0aW9uIG9lKCl7cmV0dXJuIEVycm9yLmNhbGwodGhpcyksdGhpcy5tZXNzYWdlPVwibm8gZWxlbWVudHMgaW4gc2VxdWVuY2VcIix0aGlzLm5hbWU9XCJFbXB0eUVycm9yXCIsdGhpc31vZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpO2Z1bmN0aW9uIHNlKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKG4pe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcihcImFyZ3VtZW50IGlzIG5vdCBhIGZ1bmN0aW9uLiBBcmUgeW91IGxvb2tpbmcgZm9yIGBtYXBUbygpYD9cIik7cmV0dXJuIG4ubGlmdChuZXcgYWUoZSx0KSl9fXZhciBhZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXt0aGlzLnByb2plY3Q9ZSx0aGlzLnRoaXNBcmc9dH1yZXR1cm4gZS5wcm90b3R5cGUuY2FsbD1mdW5jdGlvbihlLHQpe3JldHVybiB0LnN1YnNjcmliZShuZXcgY2UoZSx0aGlzLnByb2plY3QsdGhpcy50aGlzQXJnKSl9LGV9KCksY2U9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LG4saSl7dmFyIHI9ZS5jYWxsKHRoaXMsdCl8fHRoaXM7cmV0dXJuIHIucHJvamVjdD1uLHIuY291bnQ9MCxyLnRoaXNBcmc9aXx8cixyfXJldHVybiBzKHQsZSksdC5wcm90b3R5cGUuX25leHQ9ZnVuY3Rpb24oZSl7dmFyIHQ7dHJ5e3Q9dGhpcy5wcm9qZWN0LmNhbGwodGhpcy50aGlzQXJnLGUsdGhpcy5jb3VudCsrKX1jYXRjaChlKXtyZXR1cm4gdm9pZCB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKGUpfXRoaXMuZGVzdGluYXRpb24ubmV4dCh0KX0sdH0oayksbGU9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIHModCxlKSx0LnByb3RvdHlwZS5ub3RpZnlOZXh0PWZ1bmN0aW9uKGUsdCxuLGkscil7dGhpcy5kZXN0aW5hdGlvbi5uZXh0KHQpfSx0LnByb3RvdHlwZS5ub3RpZnlFcnJvcj1mdW5jdGlvbihlLHQpe3RoaXMuZGVzdGluYXRpb24uZXJyb3IoZSl9LHQucHJvdG90eXBlLm5vdGlmeUNvbXBsZXRlPWZ1bmN0aW9uKGUpe3RoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKX0sdH0oayksdWU9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LG4saSl7dmFyIHI9ZS5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiByLnBhcmVudD10LHIub3V0ZXJWYWx1ZT1uLHIub3V0ZXJJbmRleD1pLHIuaW5kZXg9MCxyfXJldHVybiBzKHQsZSksdC5wcm90b3R5cGUuX25leHQ9ZnVuY3Rpb24oZSl7dGhpcy5wYXJlbnQubm90aWZ5TmV4dCh0aGlzLm91dGVyVmFsdWUsZSx0aGlzLm91dGVySW5kZXgsdGhpcy5pbmRleCsrLHRoaXMpfSx0LnByb3RvdHlwZS5fZXJyb3I9ZnVuY3Rpb24oZSl7dGhpcy5wYXJlbnQubm90aWZ5RXJyb3IoZSx0aGlzKSx0aGlzLnVuc3Vic2NyaWJlKCl9LHQucHJvdG90eXBlLl9jb21wbGV0ZT1mdW5jdGlvbigpe3RoaXMucGFyZW50Lm5vdGlmeUNvbXBsZXRlKHRoaXMpLHRoaXMudW5zdWJzY3JpYmUoKX0sdH0oaykscGU9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBlLnRoZW4oZnVuY3Rpb24oZSl7dC5jbG9zZWR8fCh0Lm5leHQoZSksdC5jb21wbGV0ZSgpKX0sZnVuY3Rpb24oZSl7cmV0dXJuIHQuZXJyb3IoZSl9KS50aGVuKG51bGwsdSksdH19O3ZhciBoZT1mdW5jdGlvbigpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmU3ltYm9sLml0ZXJhdG9yP1N5bWJvbC5pdGVyYXRvcjpcIkBAaXRlcmF0b3JcIn0oKSxkZT1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7Zm9yKHZhciBuPWVbaGVdKCk7Oyl7dmFyIGk9bi5uZXh0KCk7aWYoaS5kb25lKXt0LmNvbXBsZXRlKCk7YnJlYWt9aWYodC5uZXh0KGkudmFsdWUpLHQuY2xvc2VkKWJyZWFrfXJldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIG4ucmV0dXJuJiZ0LmFkZChmdW5jdGlvbigpe24ucmV0dXJuJiZuLnJldHVybigpfSksdH19LGZlPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXt2YXIgbj1lW1RdKCk7aWYoXCJmdW5jdGlvblwiIT10eXBlb2Ygbi5zdWJzY3JpYmUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByb3ZpZGVkIG9iamVjdCBkb2VzIG5vdCBjb3JyZWN0bHkgaW1wbGVtZW50IFN5bWJvbC5vYnNlcnZhYmxlXCIpO3JldHVybiBuLnN1YnNjcmliZSh0KX19LG1lPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZcIm51bWJlclwiPT10eXBlb2YgZS5sZW5ndGgmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGV9O2Z1bmN0aW9uIHllKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBlLnN1YnNjcmliZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgZS50aGVufXZhciBnZT1mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgRClyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGUuX2lzU2NhbGFyPyh0Lm5leHQoZS52YWx1ZSksdm9pZCB0LmNvbXBsZXRlKCkpOmUuc3Vic2NyaWJlKHQpfTtpZihlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlW1RdKXJldHVybiBmZShlKTtpZihtZShlKSlyZXR1cm4geihlKTtpZih5ZShlKSlyZXR1cm4gcGUoZSk7aWYoZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgZVtoZV0pcmV0dXJuIGRlKGUpO3ZhciB0PWQoZSk/XCJhbiBpbnZhbGlkIG9iamVjdFwiOlwiJ1wiK2UrXCInXCI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIllvdSBwcm92aWRlZCBcIit0K1wiIHdoZXJlIGEgc3RyZWFtIHdhcyBleHBlY3RlZC4gWW91IGNhbiBwcm92aWRlIGFuIE9ic2VydmFibGUsIFByb21pc2UsIEFycmF5LCBvciBJdGVyYWJsZS5cIil9O2Z1bmN0aW9uIGJlKGUsdCxuLGkscil7aWYodm9pZCAwPT09ciYmKHI9bmV3IHVlKGUsbixpKSksIXIuY2xvc2VkKXJldHVybiBnZSh0KShyKX1mdW5jdGlvbiB2ZShlLHQpe2lmKCF0KXJldHVybiBlIGluc3RhbmNlb2YgRD9lOm5ldyBEKGdlKGUpKTtpZihudWxsIT1lKXtpZigoYT1lKSYmXCJmdW5jdGlvblwiPT10eXBlb2YgYVtUXSlyZXR1cm4gbz1lLG5ldyBEKChzPXQpP2Z1bmN0aW9uKGUpe3ZhciB0PW5ldyBfO3JldHVybiB0LmFkZChzLnNjaGVkdWxlKGZ1bmN0aW9uKCl7dmFyIG49b1tUXSgpO3QuYWRkKG4uc3Vic2NyaWJlKHtuZXh0OmZ1bmN0aW9uKG4pe3QuYWRkKHMuc2NoZWR1bGUoZnVuY3Rpb24oKXtyZXR1cm4gZS5uZXh0KG4pfSkpfSxlcnJvcjpmdW5jdGlvbihuKXt0LmFkZChzLnNjaGVkdWxlKGZ1bmN0aW9uKCl7cmV0dXJuIGUuZXJyb3Iobil9KSl9LGNvbXBsZXRlOmZ1bmN0aW9uKCl7dC5hZGQocy5zY2hlZHVsZShmdW5jdGlvbigpe3JldHVybiBlLmNvbXBsZXRlKCl9KSl9fSkpfSkpLHR9OmZlKG8pKTtpZih5ZShlKSlyZXR1cm4gaT1lLG5ldyBEKChyPXQpP2Z1bmN0aW9uKGUpe3ZhciB0PW5ldyBfO3JldHVybiB0LmFkZChyLnNjaGVkdWxlKGZ1bmN0aW9uKCl7cmV0dXJuIGkudGhlbihmdW5jdGlvbihuKXt0LmFkZChyLnNjaGVkdWxlKGZ1bmN0aW9uKCl7ZS5uZXh0KG4pLHQuYWRkKHIuc2NoZWR1bGUoZnVuY3Rpb24oKXtyZXR1cm4gZS5jb21wbGV0ZSgpfSkpfSkpfSxmdW5jdGlvbihuKXt0LmFkZChyLnNjaGVkdWxlKGZ1bmN0aW9uKCl7cmV0dXJuIGUuZXJyb3Iobil9KSl9KX0pKSx0fTpwZShpKSk7aWYobWUoZSkpcmV0dXJuIFcoZSx0KTtpZigobj1lKSYmXCJmdW5jdGlvblwiPT10eXBlb2YgbltoZV18fFwic3RyaW5nXCI9PXR5cGVvZiBlKXJldHVybiBmdW5jdGlvbihlLHQpe2lmKCFlKXRocm93IG5ldyBFcnJvcihcIkl0ZXJhYmxlIGNhbm5vdCBiZSBudWxsXCIpO3JldHVybiBuZXcgRCh0P2Z1bmN0aW9uKG4pe3ZhciBpLHI9bmV3IF87cmV0dXJuIHIuYWRkKGZ1bmN0aW9uKCl7aSYmXCJmdW5jdGlvblwiPT10eXBlb2YgaS5yZXR1cm4mJmkucmV0dXJuKCl9KSxyLmFkZCh0LnNjaGVkdWxlKGZ1bmN0aW9uKCl7aT1lW2hlXSgpLHIuYWRkKHQuc2NoZWR1bGUoZnVuY3Rpb24oKXtpZighbi5jbG9zZWQpe3ZhciBlLHQ7dHJ5e3ZhciByPWkubmV4dCgpO2U9ci52YWx1ZSx0PXIuZG9uZX1jYXRjaChlKXtyZXR1cm4gdm9pZCBuLmVycm9yKGUpfXQ/bi5jb21wbGV0ZSgpOihuLm5leHQoZSksdGhpcy5zY2hlZHVsZSgpKX19KSl9KSkscn06ZGUoZSkpfShlLHQpfXZhciBuLGkscixvLHMsYTt0aHJvdyBuZXcgVHlwZUVycm9yKChudWxsIT09ZSYmdHlwZW9mIGV8fGUpK1wiIGlzIG5vdCBvYnNlcnZhYmxlXCIpfXZhciBfZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXt2b2lkIDA9PT10JiYodD1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkpLHRoaXMucHJvamVjdD1lLHRoaXMuY29uY3VycmVudD10fXJldHVybiBlLnByb3RvdHlwZS5jYWxsPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQuc3Vic2NyaWJlKG5ldyB3ZShlLHRoaXMucHJvamVjdCx0aGlzLmNvbmN1cnJlbnQpKX0sZX0oKSx3ZT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQsbixpKXt2b2lkIDA9PT1pJiYoaT1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkpO3ZhciByPWUuY2FsbCh0aGlzLHQpfHx0aGlzO3JldHVybiByLnByb2plY3Q9bixyLmNvbmN1cnJlbnQ9aSxyLmhhc0NvbXBsZXRlZD0hMSxyLmJ1ZmZlcj1bXSxyLmFjdGl2ZT0wLHIuaW5kZXg9MCxyfXJldHVybiBzKHQsZSksdC5wcm90b3R5cGUuX25leHQ9ZnVuY3Rpb24oZSl7dGhpcy5hY3RpdmU8dGhpcy5jb25jdXJyZW50P3RoaXMuX3RyeU5leHQoZSk6dGhpcy5idWZmZXIucHVzaChlKX0sdC5wcm90b3R5cGUuX3RyeU5leHQ9ZnVuY3Rpb24oZSl7dmFyIHQsbj10aGlzLmluZGV4Kys7dHJ5e3Q9dGhpcy5wcm9qZWN0KGUsbil9Y2F0Y2goZSl7cmV0dXJuIHZvaWQgdGhpcy5kZXN0aW5hdGlvbi5lcnJvcihlKX10aGlzLmFjdGl2ZSsrLHRoaXMuX2lubmVyU3ViKHQsZSxuKX0sdC5wcm90b3R5cGUuX2lubmVyU3ViPWZ1bmN0aW9uKGUsdCxuKXt2YXIgaT1uZXcgdWUodGhpcyx2b2lkIDAsdm9pZCAwKTt0aGlzLmRlc3RpbmF0aW9uLmFkZChpKSxiZSh0aGlzLGUsdCxuLGkpfSx0LnByb3RvdHlwZS5fY29tcGxldGU9ZnVuY3Rpb24oKXt0aGlzLmhhc0NvbXBsZXRlZD0hMCwwPT09dGhpcy5hY3RpdmUmJjA9PT10aGlzLmJ1ZmZlci5sZW5ndGgmJnRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKSx0aGlzLnVuc3Vic2NyaWJlKCl9LHQucHJvdG90eXBlLm5vdGlmeU5leHQ9ZnVuY3Rpb24oZSx0LG4saSxyKXt0aGlzLmRlc3RpbmF0aW9uLm5leHQodCl9LHQucHJvdG90eXBlLm5vdGlmeUNvbXBsZXRlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuYnVmZmVyO3RoaXMucmVtb3ZlKGUpLHRoaXMuYWN0aXZlLS0sdC5sZW5ndGg+MD90aGlzLl9uZXh0KHQuc2hpZnQoKSk6MD09PXRoaXMuYWN0aXZlJiZ0aGlzLmhhc0NvbXBsZXRlZCYmdGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpfSx0fShsZSk7ZnVuY3Rpb24gT2UoZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPU51bWJlci5QT1NJVElWRV9JTkZJTklUWSksZnVuY3Rpb24gZSh0LG4saSl7cmV0dXJuIHZvaWQgMD09PWkmJihpPU51bWJlci5QT1NJVElWRV9JTkZJTklUWSksXCJmdW5jdGlvblwiPT10eXBlb2Ygbj9mdW5jdGlvbihyKXtyZXR1cm4gci5waXBlKGUoZnVuY3Rpb24oZSxpKXtyZXR1cm4gdmUodChlLGkpKS5waXBlKHNlKGZ1bmN0aW9uKHQscil7cmV0dXJuIG4oZSx0LGkscil9KSl9LGkpKX06KFwibnVtYmVyXCI9PXR5cGVvZiBuJiYoaT1uKSxmdW5jdGlvbihlKXtyZXR1cm4gZS5saWZ0KG5ldyBfZSh0LGkpKX0pfShuZSxlKX1mdW5jdGlvbiBrZSgpe2Zvcih2YXIgZT1bXSx0PTA7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyllW3RdPWFyZ3VtZW50c1t0XTtyZXR1cm4gMT09PWUubGVuZ3RofHwyPT09ZS5sZW5ndGgmJkgoZVsxXSk/dmUoZVswXSk6T2UoMSkoWC5hcHBseSh2b2lkIDAsZSkpfWZ1bmN0aW9uIENlKGUsdCxuLGkpe3JldHVybiBhKG4pJiYoaT1uLG49dm9pZCAwKSxpP0NlKGUsdCxuKS5waXBlKHNlKGZ1bmN0aW9uKGUpe3JldHVybiBoKGUpP2kuYXBwbHkodm9pZCAwLGUpOmkoZSl9KSk6bmV3IEQoZnVuY3Rpb24oaSl7IWZ1bmN0aW9uIGUodCxuLGkscixvKXt2YXIgcztpZihmPXQsZiYmXCJmdW5jdGlvblwiPT10eXBlb2YgZi5hZGRFdmVudExpc3RlbmVyJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBmLnJlbW92ZUV2ZW50TGlzdGVuZXIpe3ZhciBhPXQ7dC5hZGRFdmVudExpc3RlbmVyKG4saSxvKSxzPWZ1bmN0aW9uKCl7cmV0dXJuIGEucmVtb3ZlRXZlbnRMaXN0ZW5lcihuLGksbyl9fWVsc2UgaWYoZD10LGQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGQub24mJlwiZnVuY3Rpb25cIj09dHlwZW9mIGQub2ZmKXt2YXIgYz10O3Qub24obixpKSxzPWZ1bmN0aW9uKCl7cmV0dXJuIGMub2ZmKG4saSl9fWVsc2UgaWYoaD10LGgmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGguYWRkTGlzdGVuZXImJlwiZnVuY3Rpb25cIj09dHlwZW9mIGgucmVtb3ZlTGlzdGVuZXIpe3ZhciBsPXQ7dC5hZGRMaXN0ZW5lcihuLGkpLHM9ZnVuY3Rpb24oKXtyZXR1cm4gbC5yZW1vdmVMaXN0ZW5lcihuLGkpfX1lbHNle2lmKCF0fHwhdC5sZW5ndGgpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgZXZlbnQgdGFyZ2V0XCIpO2Zvcih2YXIgdT0wLHA9dC5sZW5ndGg7dTxwO3UrKyllKHRbdV0sbixpLHIsbyl9dmFyIGg7dmFyIGQ7dmFyIGY7ci5hZGQocyl9KGUsdCxmdW5jdGlvbihlKXthcmd1bWVudHMubGVuZ3RoPjE/aS5uZXh0KEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cykpOmkubmV4dChlKX0saSxuKX0pfWZ1bmN0aW9uIFRlKGUpe3JldHVybiFoKGUpJiZlLXBhcnNlRmxvYXQoZSkrMT49MH1mdW5jdGlvbiBTZSgpe2Zvcih2YXIgZT1bXSx0PTA7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyllW3RdPWFyZ3VtZW50c1t0XTt2YXIgbj1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksaT1udWxsLHI9ZVtlLmxlbmd0aC0xXTtyZXR1cm4gSChyKT8oaT1lLnBvcCgpLGUubGVuZ3RoPjEmJlwibnVtYmVyXCI9PXR5cGVvZiBlW2UubGVuZ3RoLTFdJiYobj1lLnBvcCgpKSk6XCJudW1iZXJcIj09dHlwZW9mIHImJihuPWUucG9wKCkpLG51bGw9PT1pJiYxPT09ZS5sZW5ndGgmJmVbMF1pbnN0YW5jZW9mIEQ/ZVswXTpPZShuKShXKGUsaSkpfWZ1bmN0aW9uIERlKGUpe3ZhciB0PWUuaW5kZXgsbj1lLnBlcmlvZCxpPWUuc3Vic2NyaWJlcjtpZihpLm5leHQodCksIWkuY2xvc2VkKXtpZigtMT09PW4pcmV0dXJuIGkuY29tcGxldGUoKTtlLmluZGV4PXQrMSx0aGlzLnNjaGVkdWxlKGUsbil9fXZhciBJZT0yNzt2YXIgTWU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMuZHVyYXRpb25TZWxlY3Rvcj1lfXJldHVybiBlLnByb3RvdHlwZS5jYWxsPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQuc3Vic2NyaWJlKG5ldyBFZShlLHRoaXMuZHVyYXRpb25TZWxlY3RvcikpfSxlfSgpLEVlPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCxuKXt2YXIgaT1lLmNhbGwodGhpcyx0KXx8dGhpcztyZXR1cm4gaS5kdXJhdGlvblNlbGVjdG9yPW4saS5oYXNWYWx1ZT0hMSxpfXJldHVybiBzKHQsZSksdC5wcm90b3R5cGUuX25leHQ9ZnVuY3Rpb24oZSl7aWYodGhpcy52YWx1ZT1lLHRoaXMuaGFzVmFsdWU9ITAsIXRoaXMudGhyb3R0bGVkKXt2YXIgdD1nKHRoaXMuZHVyYXRpb25TZWxlY3RvcikoZSk7aWYodD09PW0pdGhpcy5kZXN0aW5hdGlvbi5lcnJvcihtLmUpO2Vsc2V7dmFyIG49YmUodGhpcyx0KTshbnx8bi5jbG9zZWQ/dGhpcy5jbGVhclRocm90dGxlKCk6dGhpcy5hZGQodGhpcy50aHJvdHRsZWQ9bil9fX0sdC5wcm90b3R5cGUuY2xlYXJUaHJvdHRsZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMudmFsdWUsdD10aGlzLmhhc1ZhbHVlLG49dGhpcy50aHJvdHRsZWQ7biYmKHRoaXMucmVtb3ZlKG4pLHRoaXMudGhyb3R0bGVkPW51bGwsbi51bnN1YnNjcmliZSgpKSx0JiYodGhpcy52YWx1ZT1udWxsLHRoaXMuaGFzVmFsdWU9ITEsdGhpcy5kZXN0aW5hdGlvbi5uZXh0KGUpKX0sdC5wcm90b3R5cGUubm90aWZ5TmV4dD1mdW5jdGlvbihlLHQsbixpKXt0aGlzLmNsZWFyVGhyb3R0bGUoKX0sdC5wcm90b3R5cGUubm90aWZ5Q29tcGxldGU9ZnVuY3Rpb24oKXt0aGlzLmNsZWFyVGhyb3R0bGUoKX0sdH0obGUpO2Z1bmN0aW9uIHhlKGUsdCl7cmV0dXJuIHZvaWQgMD09PXQmJih0PVEpLG49ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oZSx0LG4pe3ZvaWQgMD09PWUmJihlPTApO3ZhciBpPS0xO3JldHVybiBUZSh0KT9pPU51bWJlcih0KTwxPzE6TnVtYmVyKHQpOkgodCkmJihuPXQpLEgobil8fChuPVEpLG5ldyBEKGZ1bmN0aW9uKHQpe3ZhciByPVRlKGUpP2U6K2Utbi5ub3coKTtyZXR1cm4gbi5zY2hlZHVsZShEZSxyLHtpbmRleDowLHBlcmlvZDppLHN1YnNjcmliZXI6dH0pfSl9KGUsdCl9LGZ1bmN0aW9uKGUpe3JldHVybiBlLmxpZnQobmV3IE1lKG4pKX07dmFyIG59ZnVuY3Rpb24gQWUoZSx0KXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9USksZnVuY3Rpb24obil7cmV0dXJuIG4ubGlmdChuZXcgUGUoZSx0KSl9fXZhciBQZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXt0aGlzLmR1ZVRpbWU9ZSx0aGlzLnNjaGVkdWxlcj10fXJldHVybiBlLnByb3RvdHlwZS5jYWxsPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQuc3Vic2NyaWJlKG5ldyBqZShlLHRoaXMuZHVlVGltZSx0aGlzLnNjaGVkdWxlcikpfSxlfSgpLGplPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCxuLGkpe3ZhciByPWUuY2FsbCh0aGlzLHQpfHx0aGlzO3JldHVybiByLmR1ZVRpbWU9bixyLnNjaGVkdWxlcj1pLHIuZGVib3VuY2VkU3Vic2NyaXB0aW9uPW51bGwsci5sYXN0VmFsdWU9bnVsbCxyLmhhc1ZhbHVlPSExLHJ9cmV0dXJuIHModCxlKSx0LnByb3RvdHlwZS5fbmV4dD1mdW5jdGlvbihlKXt0aGlzLmNsZWFyRGVib3VuY2UoKSx0aGlzLmxhc3RWYWx1ZT1lLHRoaXMuaGFzVmFsdWU9ITAsdGhpcy5hZGQodGhpcy5kZWJvdW5jZWRTdWJzY3JpcHRpb249dGhpcy5zY2hlZHVsZXIuc2NoZWR1bGUoUmUsdGhpcy5kdWVUaW1lLHRoaXMpKX0sdC5wcm90b3R5cGUuX2NvbXBsZXRlPWZ1bmN0aW9uKCl7dGhpcy5kZWJvdW5jZWROZXh0KCksdGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpfSx0LnByb3RvdHlwZS5kZWJvdW5jZWROZXh0PWZ1bmN0aW9uKCl7aWYodGhpcy5jbGVhckRlYm91bmNlKCksdGhpcy5oYXNWYWx1ZSl7dmFyIGU9dGhpcy5sYXN0VmFsdWU7dGhpcy5sYXN0VmFsdWU9bnVsbCx0aGlzLmhhc1ZhbHVlPSExLHRoaXMuZGVzdGluYXRpb24ubmV4dChlKX19LHQucHJvdG90eXBlLmNsZWFyRGVib3VuY2U9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmRlYm91bmNlZFN1YnNjcmlwdGlvbjtudWxsIT09ZSYmKHRoaXMucmVtb3ZlKGUpLGUudW5zdWJzY3JpYmUoKSx0aGlzLmRlYm91bmNlZFN1YnNjcmlwdGlvbj1udWxsKX0sdH0oayk7ZnVuY3Rpb24gUmUoZSl7ZS5kZWJvdW5jZWROZXh0KCl9ZnVuY3Rpb24gVmUoZSx0KXtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIG4ubGlmdChuZXcgRmUoZSx0KSl9fXZhciBGZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXt0aGlzLmNvbXBhcmU9ZSx0aGlzLmtleVNlbGVjdG9yPXR9cmV0dXJuIGUucHJvdG90eXBlLmNhbGw9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC5zdWJzY3JpYmUobmV3IExlKGUsdGhpcy5jb21wYXJlLHRoaXMua2V5U2VsZWN0b3IpKX0sZX0oKSxMZT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQsbixpKXt2YXIgcj1lLmNhbGwodGhpcyx0KXx8dGhpcztyZXR1cm4gci5rZXlTZWxlY3Rvcj1pLHIuaGFzS2V5PSExLFwiZnVuY3Rpb25cIj09dHlwZW9mIG4mJihyLmNvbXBhcmU9bikscn1yZXR1cm4gcyh0LGUpLHQucHJvdG90eXBlLmNvbXBhcmU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT09PXR9LHQucHJvdG90eXBlLl9uZXh0PWZ1bmN0aW9uKGUpe3ZhciB0PWU7aWYodGhpcy5rZXlTZWxlY3RvciYmKHQ9Zyh0aGlzLmtleVNlbGVjdG9yKShlKSk9PT1tKXJldHVybiB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKG0uZSk7dmFyIG49ITE7aWYodGhpcy5oYXNLZXkpe2lmKChuPWcodGhpcy5jb21wYXJlKSh0aGlzLmtleSx0KSk9PT1tKXJldHVybiB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKG0uZSl9ZWxzZSB0aGlzLmhhc0tleT0hMDshMT09PUJvb2xlYW4obikmJih0aGlzLmtleT10LHRoaXMuZGVzdGluYXRpb24ubmV4dChlKSl9LHR9KGspO2Z1bmN0aW9uIEJlKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiBuLmxpZnQobmV3IE5lKGUsdCkpfX12YXIgTmU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7dGhpcy5wcmVkaWNhdGU9ZSx0aGlzLnRoaXNBcmc9dH1yZXR1cm4gZS5wcm90b3R5cGUuY2FsbD1mdW5jdGlvbihlLHQpe3JldHVybiB0LnN1YnNjcmliZShuZXcgWWUoZSx0aGlzLnByZWRpY2F0ZSx0aGlzLnRoaXNBcmcpKX0sZX0oKSxZZT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQsbixpKXt2YXIgcj1lLmNhbGwodGhpcyx0KXx8dGhpcztyZXR1cm4gci5wcmVkaWNhdGU9bixyLnRoaXNBcmc9aSxyLmNvdW50PTAscn1yZXR1cm4gcyh0LGUpLHQucHJvdG90eXBlLl9uZXh0PWZ1bmN0aW9uKGUpe3ZhciB0O3RyeXt0PXRoaXMucHJlZGljYXRlLmNhbGwodGhpcy50aGlzQXJnLGUsdGhpcy5jb3VudCsrKX1jYXRjaChlKXtyZXR1cm4gdm9pZCB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKGUpfXQmJnRoaXMuZGVzdGluYXRpb24ubmV4dChlKX0sdH0oayk7dmFyIEhlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQsbil7dGhpcy5uZXh0T3JPYnNlcnZlcj1lLHRoaXMuZXJyb3I9dCx0aGlzLmNvbXBsZXRlPW59cmV0dXJuIGUucHJvdG90eXBlLmNhbGw9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC5zdWJzY3JpYmUobmV3IHplKGUsdGhpcy5uZXh0T3JPYnNlcnZlcix0aGlzLmVycm9yLHRoaXMuY29tcGxldGUpKX0sZX0oKSx6ZT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQsbixpLHIpe3ZhciBvPWUuY2FsbCh0aGlzLHQpfHx0aGlzO3JldHVybiBvLl90YXBOZXh0PVMsby5fdGFwRXJyb3I9UyxvLl90YXBDb21wbGV0ZT1TLG8uX3RhcEVycm9yPWl8fFMsby5fdGFwQ29tcGxldGU9cnx8UyxhKG4pPyhvLl9jb250ZXh0PW8sby5fdGFwTmV4dD1uKTpuJiYoby5fY29udGV4dD1uLG8uX3RhcE5leHQ9bi5uZXh0fHxTLG8uX3RhcEVycm9yPW4uZXJyb3J8fFMsby5fdGFwQ29tcGxldGU9bi5jb21wbGV0ZXx8Uyksb31yZXR1cm4gcyh0LGUpLHQucHJvdG90eXBlLl9uZXh0PWZ1bmN0aW9uKGUpe3RyeXt0aGlzLl90YXBOZXh0LmNhbGwodGhpcy5fY29udGV4dCxlKX1jYXRjaChlKXtyZXR1cm4gdm9pZCB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKGUpfXRoaXMuZGVzdGluYXRpb24ubmV4dChlKX0sdC5wcm90b3R5cGUuX2Vycm9yPWZ1bmN0aW9uKGUpe3RyeXt0aGlzLl90YXBFcnJvci5jYWxsKHRoaXMuX2NvbnRleHQsZSl9Y2F0Y2goZSl7cmV0dXJuIHZvaWQgdGhpcy5kZXN0aW5hdGlvbi5lcnJvcihlKX10aGlzLmRlc3RpbmF0aW9uLmVycm9yKGUpfSx0LnByb3RvdHlwZS5fY29tcGxldGU9ZnVuY3Rpb24oKXt0cnl7dGhpcy5fdGFwQ29tcGxldGUuY2FsbCh0aGlzLl9jb250ZXh0KX1jYXRjaChlKXtyZXR1cm4gdm9pZCB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKGUpfXJldHVybiB0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCl9LHR9KGspO2Z1bmN0aW9uIFdlKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gMD09PWU/WSgpOnQubGlmdChuZXcgWmUoZSkpfX12YXIgWmU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe2lmKHRoaXMudG90YWw9ZSx0aGlzLnRvdGFsPDApdGhyb3cgbmV3IHJlfXJldHVybiBlLnByb3RvdHlwZS5jYWxsPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQuc3Vic2NyaWJlKG5ldyBYZShlLHRoaXMudG90YWwpKX0sZX0oKSxYZT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQsbil7dmFyIGk9ZS5jYWxsKHRoaXMsdCl8fHRoaXM7cmV0dXJuIGkudG90YWw9bixpLmNvdW50PTAsaX1yZXR1cm4gcyh0LGUpLHQucHJvdG90eXBlLl9uZXh0PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMudG90YWwsbj0rK3RoaXMuY291bnQ7bjw9dCYmKHRoaXMuZGVzdGluYXRpb24ubmV4dChlKSxuPT09dCYmKHRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKSx0aGlzLnVuc3Vic2NyaWJlKCkpKX0sdH0oayk7dmFyICRlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZS5wcm90b3R5cGUuY2FsbD1mdW5jdGlvbihlLHQpe3JldHVybiB0LnN1YnNjcmliZShuZXcgS2UoZSkpfSxlfSgpLEtlPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCl7dmFyIG49ZS5jYWxsKHRoaXMsdCl8fHRoaXM7cmV0dXJuIG4uaGFzUHJldj0hMSxufXJldHVybiBzKHQsZSksdC5wcm90b3R5cGUuX25leHQ9ZnVuY3Rpb24oZSl7dGhpcy5oYXNQcmV2P3RoaXMuZGVzdGluYXRpb24ubmV4dChbdGhpcy5wcmV2LGVdKTp0aGlzLmhhc1ByZXY9ITAsdGhpcy5wcmV2PWV9LHR9KGspO2Z1bmN0aW9uIFVlKGUsdCxuKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKSx2b2lkIDA9PT10JiYodD1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkpLGZ1bmN0aW9uKGkpe3JldHVybiBpLmxpZnQoKHI9ZSxvPXQscz1uLGw9MCx1PSExLHA9ITEsZnVuY3Rpb24oZSl7bCsrLGEmJiF1fHwodT0hMSxhPW5ldyBxKHIsbyxzKSxjPWUuc3Vic2NyaWJlKHtuZXh0OmZ1bmN0aW9uKGUpe2EubmV4dChlKX0sZXJyb3I6ZnVuY3Rpb24oZSl7dT0hMCxhLmVycm9yKGUpfSxjb21wbGV0ZTpmdW5jdGlvbigpe3A9ITAsYS5jb21wbGV0ZSgpfX0pKTt2YXIgdD1hLnN1YnNjcmliZSh0aGlzKTtyZXR1cm4gZnVuY3Rpb24oKXtsLS0sdC51bnN1YnNjcmliZSgpLGMmJjA9PT1sJiZwJiZjLnVuc3Vic2NyaWJlKCl9fSkpO3ZhciByLG8scyxhLGMsbCx1LHB9fWZ1bmN0aW9uIEdlKCl7Zm9yKHZhciBlPVtdLHQ9MDt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKWVbdF09YXJndW1lbnRzW3RdO3JldHVybiBmdW5jdGlvbih0KXt2YXIgbj1lW2UubGVuZ3RoLTFdO0gobik/ZS5wb3AoKTpuPW51bGw7dmFyIGk9ZS5sZW5ndGg7cmV0dXJuIGtlKDEhPT1pfHxuP2k+MD9XKGUsbik6WShuKTpaKGVbMF0pLHQpfX12YXIgcWU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMucHJvamVjdD1lfXJldHVybiBlLnByb3RvdHlwZS5jYWxsPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQuc3Vic2NyaWJlKG5ldyBKZShlLHRoaXMucHJvamVjdCkpfSxlfSgpLEplPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCxuKXt2YXIgaT1lLmNhbGwodGhpcyx0KXx8dGhpcztyZXR1cm4gaS5wcm9qZWN0PW4saS5pbmRleD0wLGl9cmV0dXJuIHModCxlKSx0LnByb3RvdHlwZS5fbmV4dD1mdW5jdGlvbihlKXt2YXIgdCxuPXRoaXMuaW5kZXgrKzt0cnl7dD10aGlzLnByb2plY3QoZSxuKX1jYXRjaChlKXtyZXR1cm4gdm9pZCB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKGUpfXRoaXMuX2lubmVyU3ViKHQsZSxuKX0sdC5wcm90b3R5cGUuX2lubmVyU3ViPWZ1bmN0aW9uKGUsdCxuKXt2YXIgaT10aGlzLmlubmVyU3Vic2NyaXB0aW9uO2kmJmkudW5zdWJzY3JpYmUoKTt2YXIgcj1uZXcgdWUodGhpcyx2b2lkIDAsdm9pZCAwKTt0aGlzLmRlc3RpbmF0aW9uLmFkZChyKSx0aGlzLmlubmVyU3Vic2NyaXB0aW9uPWJlKHRoaXMsZSx0LG4scil9LHQucHJvdG90eXBlLl9jb21wbGV0ZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuaW5uZXJTdWJzY3JpcHRpb247dCYmIXQuY2xvc2VkfHxlLnByb3RvdHlwZS5fY29tcGxldGUuY2FsbCh0aGlzKSx0aGlzLnVuc3Vic2NyaWJlKCl9LHQucHJvdG90eXBlLl91bnN1YnNjcmliZT1mdW5jdGlvbigpe3RoaXMuaW5uZXJTdWJzY3JpcHRpb249bnVsbH0sdC5wcm90b3R5cGUubm90aWZ5Q29tcGxldGU9ZnVuY3Rpb24odCl7dGhpcy5kZXN0aW5hdGlvbi5yZW1vdmUodCksdGhpcy5pbm5lclN1YnNjcmlwdGlvbj1udWxsLHRoaXMuaXNTdG9wcGVkJiZlLnByb3RvdHlwZS5fY29tcGxldGUuY2FsbCh0aGlzKX0sdC5wcm90b3R5cGUubm90aWZ5TmV4dD1mdW5jdGlvbihlLHQsbixpLHIpe3RoaXMuZGVzdGluYXRpb24ubmV4dCh0KX0sdH0obGUpO2Z1bmN0aW9uIFFlKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gdC5saWZ0KG5ldyBldChlKSl9fXZhciBldD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dGhpcy5ub3RpZmllcj1lfXJldHVybiBlLnByb3RvdHlwZS5jYWxsPWZ1bmN0aW9uKGUsdCl7dmFyIG49bmV3IHR0KGUpLGk9YmUobix0aGlzLm5vdGlmaWVyKTtyZXR1cm4gaSYmIW4uc2VlblZhbHVlPyhuLmFkZChpKSx0LnN1YnNjcmliZShuKSk6bn0sZX0oKSx0dD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQpe3ZhciBuPWUuY2FsbCh0aGlzLHQpfHx0aGlzO3JldHVybiBuLnNlZW5WYWx1ZT0hMSxufXJldHVybiBzKHQsZSksdC5wcm90b3R5cGUubm90aWZ5TmV4dD1mdW5jdGlvbihlLHQsbixpLHIpe3RoaXMuc2VlblZhbHVlPSEwLHRoaXMuY29tcGxldGUoKX0sdC5wcm90b3R5cGUubm90aWZ5Q29tcGxldGU9ZnVuY3Rpb24oKXt9LHR9KGxlKTt2YXIgbnQ9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dH18fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShuKSYmKGVbbl09dFtuXSl9O2Z1bmN0aW9uIGl0KGUsdCl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9ZX1udChlLHQpLGUucHJvdG90eXBlPW51bGw9PT10P09iamVjdC5jcmVhdGUodCk6KG4ucHJvdG90eXBlPXQucHJvdG90eXBlLG5ldyBuKX12YXIgcnQsb3Q9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG49MSxpPWFyZ3VtZW50cy5sZW5ndGg7bjxpO24rKyl7dD1hcmd1bWVudHNbbl07Zm9yKHZhciByIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikmJihlW3JdPXRbcl0pfXJldHVybiBlfSxzdD1cInVuZGVmaW5lZFwiIT10eXBlb2YgSW50bCYmSW50bC52OEJyZWFrSXRlcmF0b3IsYXQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMuX3BsYXRmb3JtSWQ9ZSx0aGlzLmlzQnJvd3Nlcj10aGlzLl9wbGF0Zm9ybUlkP24uaXNQbGF0Zm9ybUJyb3dzZXIodGhpcy5fcGxhdGZvcm1JZCk6XCJvYmplY3RcIj09dHlwZW9mIGRvY3VtZW50JiYhIWRvY3VtZW50LHRoaXMuRURHRT10aGlzLmlzQnJvd3NlciYmLyhlZGdlKS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCksdGhpcy5UUklERU5UPXRoaXMuaXNCcm93c2VyJiYvKG1zaWV8dHJpZGVudCkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLHRoaXMuQkxJTks9dGhpcy5pc0Jyb3dzZXImJiEoIXdpbmRvdy5jaHJvbWUmJiFzdCkmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBDU1MmJiF0aGlzLkVER0UmJiF0aGlzLlRSSURFTlQsdGhpcy5XRUJLSVQ9dGhpcy5pc0Jyb3dzZXImJi9BcHBsZVdlYktpdC9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkmJiF0aGlzLkJMSU5LJiYhdGhpcy5FREdFJiYhdGhpcy5UUklERU5ULHRoaXMuSU9TPXRoaXMuaXNCcm93c2VyJiYvaVBhZHxpUGhvbmV8aVBvZC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSYmIShcIk1TU3RyZWFtXCJpbiB3aW5kb3cpLHRoaXMuRklSRUZPWD10aGlzLmlzQnJvd3NlciYmLyhmaXJlZm94fG1pbmVmaWVsZCkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLHRoaXMuQU5EUk9JRD10aGlzLmlzQnJvd3NlciYmL2FuZHJvaWQvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpJiYhdGhpcy5UUklERU5ULHRoaXMuU0FGQVJJPXRoaXMuaXNCcm93c2VyJiYvc2FmYXJpL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSYmdGhpcy5XRUJLSVR9cmV0dXJuIGUuZGVjb3JhdG9ycz1be3R5cGU6dC5JbmplY3RhYmxlLGFyZ3M6W3twcm92aWRlZEluOlwicm9vdFwifV19XSxlLmN0b3JQYXJhbWV0ZXJzPWZ1bmN0aW9uKCl7cmV0dXJuW3t0eXBlOk9iamVjdCxkZWNvcmF0b3JzOlt7dHlwZTp0Lk9wdGlvbmFsfSx7dHlwZTp0LkluamVjdCxhcmdzOlt0LlBMQVRGT1JNX0lEXX1dfV19LGUubmdJbmplY3RhYmxlRGVmPXQuZGVmaW5lSW5qZWN0YWJsZSh7ZmFjdG9yeTpmdW5jdGlvbigpe3JldHVybiBuZXcgZSh0LmluamVjdCh0LlBMQVRGT1JNX0lELDgpKX0sdG9rZW46ZSxwcm92aWRlZEluOlwicm9vdFwifSksZX0oKSxjdD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGUuZGVjb3JhdG9ycz1be3R5cGU6dC5OZ01vZHVsZX1dLGV9KCk7ZnVuY3Rpb24gbHQoKXtpZihudWxsPT1ydCYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyl0cnl7d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJ0ZXN0XCIsbnVsbCxPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sXCJwYXNzaXZlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBydD0hMH19KSl9ZmluYWxseXtydD1ydHx8ITF9cmV0dXJuIHJ0fXZhciB1dCxwdD17Tk9STUFMOjAsTkVHQVRFRDoxLElOVkVSVEVEOjJ9O2Z1bmN0aW9uIGh0KCl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGRvY3VtZW50fHwhZG9jdW1lbnQpcmV0dXJuIHB0Lk5PUk1BTDtpZighdXQpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdD1lLnN0eWxlO2UuZGlyPVwicnRsXCIsdC5oZWlnaHQ9XCIxcHhcIix0LndpZHRoPVwiMXB4XCIsdC5vdmVyZmxvdz1cImF1dG9cIix0LnZpc2liaWxpdHk9XCJoaWRkZW5cIix0LnBvaW50ZXJFdmVudHM9XCJub25lXCIsdC5wb3NpdGlvbj1cImFic29sdXRlXCI7dmFyIG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxpPW4uc3R5bGU7aS53aWR0aD1cIjJweFwiLGkuaGVpZ2h0PVwiMXB4XCIsZS5hcHBlbmRDaGlsZChuKSxkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGUpLHV0PXB0Lk5PUk1BTCwwPT09ZS5zY3JvbGxMZWZ0JiYoZS5zY3JvbGxMZWZ0PTEsdXQ9MD09PWUuc2Nyb2xsTGVmdD9wdC5ORUdBVEVEOnB0LklOVkVSVEVEKSxlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZSl9cmV0dXJuIHV0fWZ1bmN0aW9uIGR0KGUpe3JldHVybiBudWxsIT1lJiZcIlwiK2UhPVwiZmFsc2VcIn1mdW5jdGlvbiBmdChlLHQpe3JldHVybiB2b2lkIDA9PT10JiYodD0wKSxuPWUsaXNOYU4ocGFyc2VGbG9hdChuKSl8fGlzTmFOKE51bWJlcihuKSk/dDpOdW1iZXIoZSk7dmFyIG59ZnVuY3Rpb24gbXQoZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSk/ZTpbZV19ZnVuY3Rpb24geXQoZSl7cmV0dXJuIG51bGw9PWU/XCJcIjpcInN0cmluZ1wiPT10eXBlb2YgZT9lOmUrXCJweFwifXB0W3B0Lk5PUk1BTF09XCJOT1JNQUxcIixwdFtwdC5ORUdBVEVEXT1cIk5FR0FURURcIixwdFtwdC5JTlZFUlRFRF09XCJJTlZFUlRFRFwiO3ZhciBndD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGUucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm5cInVuZGVmaW5lZFwiPT10eXBlb2YgTXV0YXRpb25PYnNlcnZlcj9udWxsOm5ldyBNdXRhdGlvbk9ic2VydmVyKGUpfSxlLmRlY29yYXRvcnM9W3t0eXBlOnQuSW5qZWN0YWJsZSxhcmdzOlt7cHJvdmlkZWRJbjpcInJvb3RcIn1dfV0sZS5uZ0luamVjdGFibGVEZWY9dC5kZWZpbmVJbmplY3RhYmxlKHtmYWN0b3J5OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBlfSx0b2tlbjplLHByb3ZpZGVkSW46XCJyb290XCJ9KSxlfSgpLGJ0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLl9tdXRhdGlvbk9ic2VydmVyRmFjdG9yeT1lLHRoaXMuX29ic2VydmVkRWxlbWVudHM9bmV3IE1hcH1yZXR1cm4gZS5wcm90b3R5cGUubmdPbkRlc3Ryb3k9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuX29ic2VydmVkRWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbih0LG4pe3JldHVybiBlLl9jbGVhbnVwT2JzZXJ2ZXIobil9KX0sZS5wcm90b3R5cGUub2JzZXJ2ZT1mdW5jdGlvbihlKXt2YXIgbj10aGlzLGk9ZSBpbnN0YW5jZW9mIHQuRWxlbWVudFJlZj9lLm5hdGl2ZUVsZW1lbnQ6ZTtyZXR1cm4gRC5jcmVhdGUoZnVuY3Rpb24oZSl7dmFyIHQ9bi5fb2JzZXJ2ZUVsZW1lbnQoaSkuc3Vic2NyaWJlKGUpO3JldHVybiBmdW5jdGlvbigpe3QudW5zdWJzY3JpYmUoKSxuLl91bm9ic2VydmVFbGVtZW50KGkpfX0pfSxlLnByb3RvdHlwZS5fb2JzZXJ2ZUVsZW1lbnQ9ZnVuY3Rpb24oZSl7aWYodGhpcy5fb2JzZXJ2ZWRFbGVtZW50cy5oYXMoZSkpdGhpcy5fb2JzZXJ2ZWRFbGVtZW50cy5nZXQoZSkuY291bnQrKztlbHNle3ZhciB0PW5ldyBQLG49dGhpcy5fbXV0YXRpb25PYnNlcnZlckZhY3RvcnkuY3JlYXRlKGZ1bmN0aW9uKGUpe3JldHVybiB0Lm5leHQoZSl9KTtuJiZuLm9ic2VydmUoZSx7Y2hhcmFjdGVyRGF0YTohMCxjaGlsZExpc3Q6ITAsc3VidHJlZTohMH0pLHRoaXMuX29ic2VydmVkRWxlbWVudHMuc2V0KGUse29ic2VydmVyOm4sc3RyZWFtOnQsY291bnQ6MX0pfXJldHVybiB0aGlzLl9vYnNlcnZlZEVsZW1lbnRzLmdldChlKS5zdHJlYW19LGUucHJvdG90eXBlLl91bm9ic2VydmVFbGVtZW50PWZ1bmN0aW9uKGUpe3RoaXMuX29ic2VydmVkRWxlbWVudHMuaGFzKGUpJiYodGhpcy5fb2JzZXJ2ZWRFbGVtZW50cy5nZXQoZSkuY291bnQtLSx0aGlzLl9vYnNlcnZlZEVsZW1lbnRzLmdldChlKS5jb3VudHx8dGhpcy5fY2xlYW51cE9ic2VydmVyKGUpKX0sZS5wcm90b3R5cGUuX2NsZWFudXBPYnNlcnZlcj1mdW5jdGlvbihlKXtpZih0aGlzLl9vYnNlcnZlZEVsZW1lbnRzLmhhcyhlKSl7dmFyIHQ9dGhpcy5fb2JzZXJ2ZWRFbGVtZW50cy5nZXQoZSksbj10Lm9ic2VydmVyLGk9dC5zdHJlYW07biYmbi5kaXNjb25uZWN0KCksaS5jb21wbGV0ZSgpLHRoaXMuX29ic2VydmVkRWxlbWVudHMuZGVsZXRlKGUpfX0sZS5kZWNvcmF0b3JzPVt7dHlwZTp0LkluamVjdGFibGUsYXJnczpbe3Byb3ZpZGVkSW46XCJyb290XCJ9XX1dLGUuY3RvclBhcmFtZXRlcnM9ZnVuY3Rpb24oKXtyZXR1cm5be3R5cGU6Z3R9XX0sZS5uZ0luamVjdGFibGVEZWY9dC5kZWZpbmVJbmplY3RhYmxlKHtmYWN0b3J5OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBlKHQuaW5qZWN0KGd0KSl9LHRva2VuOmUscHJvdmlkZWRJbjpcInJvb3RcIn0pLGV9KCksdnQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsbixpKXt0aGlzLl9jb250ZW50T2JzZXJ2ZXI9ZSx0aGlzLl9lbGVtZW50UmVmPW4sdGhpcy5fbmdab25lPWksdGhpcy5ldmVudD1uZXcgdC5FdmVudEVtaXR0ZXIsdGhpcy5fZGlzYWJsZWQ9ITEsdGhpcy5fY3VycmVudFN1YnNjcmlwdGlvbj1udWxsfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJkaXNhYmxlZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGlzYWJsZWR9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9kaXNhYmxlZD1kdChlKSx0aGlzLl9kaXNhYmxlZD90aGlzLl91bnN1YnNjcmliZSgpOnRoaXMuX3N1YnNjcmliZSgpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImRlYm91bmNlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kZWJvdW5jZX0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2RlYm91bmNlPWZ0KGUpLHRoaXMuX3N1YnNjcmliZSgpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLm5nQWZ0ZXJDb250ZW50SW5pdD1mdW5jdGlvbigpe3RoaXMuX2N1cnJlbnRTdWJzY3JpcHRpb258fHRoaXMuZGlzYWJsZWR8fHRoaXMuX3N1YnNjcmliZSgpfSxlLnByb3RvdHlwZS5uZ09uRGVzdHJveT1mdW5jdGlvbigpe3RoaXMuX3Vuc3Vic2NyaWJlKCl9LGUucHJvdG90eXBlLl9zdWJzY3JpYmU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuX3Vuc3Vic2NyaWJlKCk7dmFyIHQ9dGhpcy5fY29udGVudE9ic2VydmVyLm9ic2VydmUodGhpcy5fZWxlbWVudFJlZik7dGhpcy5fbmdab25lLnJ1bk91dHNpZGVBbmd1bGFyKGZ1bmN0aW9uKCl7ZS5fY3VycmVudFN1YnNjcmlwdGlvbj0oZS5kZWJvdW5jZT90LnBpcGUoQWUoZS5kZWJvdW5jZSkpOnQpLnN1YnNjcmliZShlLmV2ZW50KX0pfSxlLnByb3RvdHlwZS5fdW5zdWJzY3JpYmU9ZnVuY3Rpb24oKXt0aGlzLl9jdXJyZW50U3Vic2NyaXB0aW9uJiZ0aGlzLl9jdXJyZW50U3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCl9LGUuZGVjb3JhdG9ycz1be3R5cGU6dC5EaXJlY3RpdmUsYXJnczpbe3NlbGVjdG9yOlwiW2Nka09ic2VydmVDb250ZW50XVwiLGV4cG9ydEFzOlwiY2RrT2JzZXJ2ZUNvbnRlbnRcIn1dfV0sZS5jdG9yUGFyYW1ldGVycz1mdW5jdGlvbigpe3JldHVyblt7dHlwZTpidH0se3R5cGU6dC5FbGVtZW50UmVmfSx7dHlwZTp0Lk5nWm9uZX1dfSxlLnByb3BEZWNvcmF0b3JzPXtldmVudDpbe3R5cGU6dC5PdXRwdXQsYXJnczpbXCJjZGtPYnNlcnZlQ29udGVudFwiXX1dLGRpc2FibGVkOlt7dHlwZTp0LklucHV0LGFyZ3M6W1wiY2RrT2JzZXJ2ZUNvbnRlbnREaXNhYmxlZFwiXX1dLGRlYm91bmNlOlt7dHlwZTp0LklucHV0fV19LGV9KCksX3Q9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlLmRlY29yYXRvcnM9W3t0eXBlOnQuTmdNb2R1bGUsYXJnczpbe2V4cG9ydHM6W3Z0XSxkZWNsYXJhdGlvbnM6W3Z0XSxwcm92aWRlcnM6W2d0XX1dfV0sZX0oKSx3dD1cIiBcIjtmdW5jdGlvbiBPdChlLHQpe3JldHVybihlLmdldEF0dHJpYnV0ZSh0KXx8XCJcIikubWF0Y2goL1xcUysvZyl8fFtdfXZhciBrdD1cImNkay1kZXNjcmliZWRieS1tZXNzYWdlLWNvbnRhaW5lclwiLEN0PVwiY2RrLWRlc2NyaWJlZGJ5LW1lc3NhZ2VcIixUdD1cImNkay1kZXNjcmliZWRieS1ob3N0XCIsU3Q9MCxEdD1uZXcgTWFwLEl0PW51bGwsTXQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMuX2RvY3VtZW50PWV9cmV0dXJuIGUucHJvdG90eXBlLmRlc2NyaWJlPWZ1bmN0aW9uKGUsdCl7dGhpcy5fY2FuQmVEZXNjcmliZWQoZSx0KSYmKER0Lmhhcyh0KXx8dGhpcy5fY3JlYXRlTWVzc2FnZUVsZW1lbnQodCksdGhpcy5faXNFbGVtZW50RGVzY3JpYmVkQnlNZXNzYWdlKGUsdCl8fHRoaXMuX2FkZE1lc3NhZ2VSZWZlcmVuY2UoZSx0KSl9LGUucHJvdG90eXBlLnJlbW92ZURlc2NyaXB0aW9uPWZ1bmN0aW9uKGUsdCl7aWYodGhpcy5fY2FuQmVEZXNjcmliZWQoZSx0KSl7dGhpcy5faXNFbGVtZW50RGVzY3JpYmVkQnlNZXNzYWdlKGUsdCkmJnRoaXMuX3JlbW92ZU1lc3NhZ2VSZWZlcmVuY2UoZSx0KTt2YXIgbj1EdC5nZXQodCk7biYmMD09PW4ucmVmZXJlbmNlQ291bnQmJnRoaXMuX2RlbGV0ZU1lc3NhZ2VFbGVtZW50KHQpLEl0JiYwPT09SXQuY2hpbGROb2Rlcy5sZW5ndGgmJnRoaXMuX2RlbGV0ZU1lc3NhZ2VzQ29udGFpbmVyKCl9fSxlLnByb3RvdHlwZS5uZ09uRGVzdHJveT1mdW5jdGlvbigpe2Zvcih2YXIgZT10aGlzLl9kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiW1wiK1R0K1wiXVwiKSx0PTA7dDxlLmxlbmd0aDt0KyspdGhpcy5fcmVtb3ZlQ2RrRGVzY3JpYmVkQnlSZWZlcmVuY2VJZHMoZVt0XSksZVt0XS5yZW1vdmVBdHRyaWJ1dGUoVHQpO0l0JiZ0aGlzLl9kZWxldGVNZXNzYWdlc0NvbnRhaW5lcigpLER0LmNsZWFyKCl9LGUucHJvdG90eXBlLl9jcmVhdGVNZXNzYWdlRWxlbWVudD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3Quc2V0QXR0cmlidXRlKFwiaWRcIixDdCtcIi1cIitTdCsrKSx0LmFwcGVuZENoaWxkKHRoaXMuX2RvY3VtZW50LmNyZWF0ZVRleHROb2RlKGUpKSx0aGlzLl9jcmVhdGVNZXNzYWdlc0NvbnRhaW5lcigpLEl0LmFwcGVuZENoaWxkKHQpLER0LnNldChlLHttZXNzYWdlRWxlbWVudDp0LHJlZmVyZW5jZUNvdW50OjB9KX0sZS5wcm90b3R5cGUuX2RlbGV0ZU1lc3NhZ2VFbGVtZW50PWZ1bmN0aW9uKGUpe3ZhciB0PUR0LmdldChlKSxuPXQmJnQubWVzc2FnZUVsZW1lbnQ7SXQmJm4mJkl0LnJlbW92ZUNoaWxkKG4pLER0LmRlbGV0ZShlKX0sZS5wcm90b3R5cGUuX2NyZWF0ZU1lc3NhZ2VzQ29udGFpbmVyPWZ1bmN0aW9uKCl7aWYoIUl0KXt2YXIgZT10aGlzLl9kb2N1bWVudC5nZXRFbGVtZW50QnlJZChrdCk7ZSYmZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGUpLChJdD10aGlzLl9kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKS5pZD1rdCxJdC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiLFwidHJ1ZVwiKSxJdC5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLHRoaXMuX2RvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoSXQpfX0sZS5wcm90b3R5cGUuX2RlbGV0ZU1lc3NhZ2VzQ29udGFpbmVyPWZ1bmN0aW9uKCl7SXQmJkl0LnBhcmVudE5vZGUmJihJdC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKEl0KSxJdD1udWxsKX0sZS5wcm90b3R5cGUuX3JlbW92ZUNka0Rlc2NyaWJlZEJ5UmVmZXJlbmNlSWRzPWZ1bmN0aW9uKGUpe3ZhciB0PU90KGUsXCJhcmlhLWRlc2NyaWJlZGJ5XCIpLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gMCE9ZS5pbmRleE9mKEN0KX0pO2Uuc2V0QXR0cmlidXRlKFwiYXJpYS1kZXNjcmliZWRieVwiLHQuam9pbihcIiBcIikpfSxlLnByb3RvdHlwZS5fYWRkTWVzc2FnZVJlZmVyZW5jZT1mdW5jdGlvbihlLHQpe3ZhciBuLGkscixvLHM9RHQuZ2V0KHQpO249ZSxpPVwiYXJpYS1kZXNjcmliZWRieVwiLHI9cy5tZXNzYWdlRWxlbWVudC5pZCwobz1PdChuLGkpKS5zb21lKGZ1bmN0aW9uKGUpe3JldHVybiBlLnRyaW0oKT09ci50cmltKCl9KXx8KG8ucHVzaChyLnRyaW0oKSksbi5zZXRBdHRyaWJ1dGUoaSxvLmpvaW4od3QpKSksZS5zZXRBdHRyaWJ1dGUoVHQsXCJcIikscy5yZWZlcmVuY2VDb3VudCsrfSxlLnByb3RvdHlwZS5fcmVtb3ZlTWVzc2FnZVJlZmVyZW5jZT1mdW5jdGlvbihlLHQpe3ZhciBuLGkscixvLHM9RHQuZ2V0KHQpO3MucmVmZXJlbmNlQ291bnQtLSxuPWUsaT1cImFyaWEtZGVzY3JpYmVkYnlcIixyPXMubWVzc2FnZUVsZW1lbnQuaWQsbz1PdChuLGkpLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZSE9ci50cmltKCl9KSxuLnNldEF0dHJpYnV0ZShpLG8uam9pbih3dCkpLGUucmVtb3ZlQXR0cmlidXRlKFR0KX0sZS5wcm90b3R5cGUuX2lzRWxlbWVudERlc2NyaWJlZEJ5TWVzc2FnZT1mdW5jdGlvbihlLHQpe3ZhciBuPU90KGUsXCJhcmlhLWRlc2NyaWJlZGJ5XCIpLGk9RHQuZ2V0KHQpLHI9aSYmaS5tZXNzYWdlRWxlbWVudC5pZDtyZXR1cm4hIXImJi0xIT1uLmluZGV4T2Yocil9LGUucHJvdG90eXBlLl9jYW5CZURlc2NyaWJlZD1mdW5jdGlvbihlLHQpe3JldHVybiBlLm5vZGVUeXBlPT09dGhpcy5fZG9jdW1lbnQuRUxFTUVOVF9OT0RFJiZudWxsIT10JiYhIShcIlwiK3QpLnRyaW0oKX0sZS5kZWNvcmF0b3JzPVt7dHlwZTp0LkluamVjdGFibGUsYXJnczpbe3Byb3ZpZGVkSW46XCJyb290XCJ9XX1dLGUuY3RvclBhcmFtZXRlcnM9ZnVuY3Rpb24oKXtyZXR1cm5be3R5cGU6dm9pZCAwLGRlY29yYXRvcnM6W3t0eXBlOnQuSW5qZWN0LGFyZ3M6W24uRE9DVU1FTlRdfV19XX0sZS5uZ0luamVjdGFibGVEZWY9dC5kZWZpbmVJbmplY3RhYmxlKHtmYWN0b3J5OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBlKHQuaW5qZWN0KG4uRE9DVU1FTlQpKX0sdG9rZW46ZSxwcm92aWRlZEluOlwicm9vdFwifSksZX0oKTtuZXcgdC5PcHRpb25hbCxuZXcgdC5Ta2lwU2VsZixuLkRPQ1VNRU5UO3ZhciBFdD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dmFyIG49dGhpczt0aGlzLl9pdGVtcz1lLHRoaXMuX2FjdGl2ZUl0ZW1JbmRleD0tMSx0aGlzLl93cmFwPSExLHRoaXMuX2xldHRlcktleVN0cmVhbT1uZXcgUCx0aGlzLl90eXBlYWhlYWRTdWJzY3JpcHRpb249Xy5FTVBUWSx0aGlzLl92ZXJ0aWNhbD0hMCx0aGlzLl9za2lwUHJlZGljYXRlRm49ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZGlzYWJsZWR9LHRoaXMuX3ByZXNzZWRMZXR0ZXJzPVtdLHRoaXMudGFiT3V0PW5ldyBQLHRoaXMuY2hhbmdlPW5ldyBQLGUgaW5zdGFuY2VvZiB0LlF1ZXJ5TGlzdCYmZS5jaGFuZ2VzLnN1YnNjcmliZShmdW5jdGlvbihlKXtpZihuLl9hY3RpdmVJdGVtKXt2YXIgdD1lLnRvQXJyYXkoKS5pbmRleE9mKG4uX2FjdGl2ZUl0ZW0pO3Q+LTEmJnQhPT1uLl9hY3RpdmVJdGVtSW5kZXgmJihuLl9hY3RpdmVJdGVtSW5kZXg9dCl9fSl9cmV0dXJuIGUucHJvdG90eXBlLnNraXBQcmVkaWNhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3NraXBQcmVkaWNhdGVGbj1lLHRoaXN9LGUucHJvdG90eXBlLndpdGhXcmFwPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT0hMCksdGhpcy5fd3JhcD1lLHRoaXN9LGUucHJvdG90eXBlLndpdGhWZXJ0aWNhbE9yaWVudGF0aW9uPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT0hMCksdGhpcy5fdmVydGljYWw9ZSx0aGlzfSxlLnByb3RvdHlwZS53aXRoSG9yaXpvbnRhbE9yaWVudGF0aW9uPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9ob3Jpem9udGFsPWUsdGhpc30sZS5wcm90b3R5cGUud2l0aFR5cGVBaGVhZD1mdW5jdGlvbihlKXt2YXIgdCxuLGkscj10aGlzO2lmKHZvaWQgMD09PWUmJihlPTIwMCksdGhpcy5faXRlbXMubGVuZ3RoJiZ0aGlzLl9pdGVtcy5zb21lKGZ1bmN0aW9uKGUpe3JldHVyblwiZnVuY3Rpb25cIiE9dHlwZW9mIGUuZ2V0TGFiZWx9KSl0aHJvdyBFcnJvcihcIkxpc3RLZXlNYW5hZ2VyIGl0ZW1zIGluIHR5cGVhaGVhZCBtb2RlIG11c3QgaW1wbGVtZW50IHRoZSBgZ2V0TGFiZWxgIG1ldGhvZC5cIik7cmV0dXJuIHRoaXMuX3R5cGVhaGVhZFN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpLHRoaXMuX3R5cGVhaGVhZFN1YnNjcmlwdGlvbj10aGlzLl9sZXR0ZXJLZXlTdHJlYW0ucGlwZSgodD1mdW5jdGlvbihlKXtyZXR1cm4gci5fcHJlc3NlZExldHRlcnMucHVzaChlKX0sZnVuY3Rpb24oZSl7cmV0dXJuIGUubGlmdChuZXcgSGUodCxuLGkpKX0pLEFlKGUpLEJlKGZ1bmN0aW9uKCl7cmV0dXJuIHIuX3ByZXNzZWRMZXR0ZXJzLmxlbmd0aD4wfSksc2UoZnVuY3Rpb24oKXtyZXR1cm4gci5fcHJlc3NlZExldHRlcnMuam9pbihcIlwiKX0pKS5zdWJzY3JpYmUoZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXIuX2dldEl0ZW1zQXJyYXkoKSxuPTE7bjx0Lmxlbmd0aCsxO24rKyl7dmFyIGk9KHIuX2FjdGl2ZUl0ZW1JbmRleCtuKSV0Lmxlbmd0aCxvPXRbaV07aWYoIXIuX3NraXBQcmVkaWNhdGVGbihvKSYmMD09PW8uZ2V0TGFiZWwoKS50b1VwcGVyQ2FzZSgpLnRyaW0oKS5pbmRleE9mKGUpKXtyLnNldEFjdGl2ZUl0ZW0oaSk7YnJlYWt9fXIuX3ByZXNzZWRMZXR0ZXJzPVtdfSksdGhpc30sZS5wcm90b3R5cGUuc2V0QWN0aXZlSXRlbT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9hY3RpdmVJdGVtSW5kZXg7dGhpcy51cGRhdGVBY3RpdmVJdGVtKGUpLHRoaXMuX2FjdGl2ZUl0ZW1JbmRleCE9PXQmJnRoaXMuY2hhbmdlLm5leHQodGhpcy5fYWN0aXZlSXRlbUluZGV4KX0sZS5wcm90b3R5cGUub25LZXlkb3duPWZ1bmN0aW9uKGUpe3ZhciB0PWUua2V5Q29kZTtzd2l0Y2godCl7Y2FzZSA5OnJldHVybiB2b2lkIHRoaXMudGFiT3V0Lm5leHQoKTtjYXNlIDQwOmlmKHRoaXMuX3ZlcnRpY2FsKXt0aGlzLnNldE5leHRJdGVtQWN0aXZlKCk7YnJlYWt9cmV0dXJuO2Nhc2UgMzg6aWYodGhpcy5fdmVydGljYWwpe3RoaXMuc2V0UHJldmlvdXNJdGVtQWN0aXZlKCk7YnJlYWt9cmV0dXJuO2Nhc2UgMzk6aWYoXCJsdHJcIj09PXRoaXMuX2hvcml6b250YWwpe3RoaXMuc2V0TmV4dEl0ZW1BY3RpdmUoKTticmVha31pZihcInJ0bFwiPT09dGhpcy5faG9yaXpvbnRhbCl7dGhpcy5zZXRQcmV2aW91c0l0ZW1BY3RpdmUoKTticmVha31yZXR1cm47Y2FzZSAzNzppZihcImx0clwiPT09dGhpcy5faG9yaXpvbnRhbCl7dGhpcy5zZXRQcmV2aW91c0l0ZW1BY3RpdmUoKTticmVha31pZihcInJ0bFwiPT09dGhpcy5faG9yaXpvbnRhbCl7dGhpcy5zZXROZXh0SXRlbUFjdGl2ZSgpO2JyZWFrfXJldHVybjtkZWZhdWx0OnJldHVybiB2b2lkKGUua2V5JiYxPT09ZS5rZXkubGVuZ3RoP3RoaXMuX2xldHRlcktleVN0cmVhbS5uZXh0KGUua2V5LnRvTG9jYWxlVXBwZXJDYXNlKCkpOih0Pj02NSYmdDw9OTB8fHQ+PTQ4JiZ0PD01NykmJnRoaXMuX2xldHRlcktleVN0cmVhbS5uZXh0KFN0cmluZy5mcm9tQ2hhckNvZGUodCkpKX10aGlzLl9wcmVzc2VkTGV0dGVycz1bXSxlLnByZXZlbnREZWZhdWx0KCl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImFjdGl2ZUl0ZW1JbmRleFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYWN0aXZlSXRlbUluZGV4fSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImFjdGl2ZUl0ZW1cIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZUl0ZW19LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuc2V0Rmlyc3RJdGVtQWN0aXZlPWZ1bmN0aW9uKCl7dGhpcy5fc2V0QWN0aXZlSXRlbUJ5SW5kZXgoMCwxKX0sZS5wcm90b3R5cGUuc2V0TGFzdEl0ZW1BY3RpdmU9ZnVuY3Rpb24oKXt0aGlzLl9zZXRBY3RpdmVJdGVtQnlJbmRleCh0aGlzLl9pdGVtcy5sZW5ndGgtMSwtMSl9LGUucHJvdG90eXBlLnNldE5leHRJdGVtQWN0aXZlPWZ1bmN0aW9uKCl7dGhpcy5fYWN0aXZlSXRlbUluZGV4PDA/dGhpcy5zZXRGaXJzdEl0ZW1BY3RpdmUoKTp0aGlzLl9zZXRBY3RpdmVJdGVtQnlEZWx0YSgxKX0sZS5wcm90b3R5cGUuc2V0UHJldmlvdXNJdGVtQWN0aXZlPWZ1bmN0aW9uKCl7dGhpcy5fYWN0aXZlSXRlbUluZGV4PDAmJnRoaXMuX3dyYXA/dGhpcy5zZXRMYXN0SXRlbUFjdGl2ZSgpOnRoaXMuX3NldEFjdGl2ZUl0ZW1CeURlbHRhKC0xKX0sZS5wcm90b3R5cGUudXBkYXRlQWN0aXZlSXRlbT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9nZXRJdGVtc0FycmF5KCksbj1cIm51bWJlclwiPT10eXBlb2YgZT9lOnQuaW5kZXhPZihlKTt0aGlzLl9hY3RpdmVJdGVtSW5kZXg9bix0aGlzLl9hY3RpdmVJdGVtPXRbbl19LGUucHJvdG90eXBlLnVwZGF0ZUFjdGl2ZUl0ZW1JbmRleD1mdW5jdGlvbihlKXt0aGlzLnVwZGF0ZUFjdGl2ZUl0ZW0oZSl9LGUucHJvdG90eXBlLl9zZXRBY3RpdmVJdGVtQnlEZWx0YT1mdW5jdGlvbihlKXt0aGlzLl93cmFwP3RoaXMuX3NldEFjdGl2ZUluV3JhcE1vZGUoZSk6dGhpcy5fc2V0QWN0aXZlSW5EZWZhdWx0TW9kZShlKX0sZS5wcm90b3R5cGUuX3NldEFjdGl2ZUluV3JhcE1vZGU9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMuX2dldEl0ZW1zQXJyYXkoKSxuPTE7bjw9dC5sZW5ndGg7bisrKXt2YXIgaT0odGhpcy5fYWN0aXZlSXRlbUluZGV4K2Uqbit0Lmxlbmd0aCkldC5sZW5ndGgscj10W2ldO2lmKCF0aGlzLl9za2lwUHJlZGljYXRlRm4ocikpcmV0dXJuIHZvaWQgdGhpcy5zZXRBY3RpdmVJdGVtKGkpfX0sZS5wcm90b3R5cGUuX3NldEFjdGl2ZUluRGVmYXVsdE1vZGU9ZnVuY3Rpb24oZSl7dGhpcy5fc2V0QWN0aXZlSXRlbUJ5SW5kZXgodGhpcy5fYWN0aXZlSXRlbUluZGV4K2UsZSl9LGUucHJvdG90eXBlLl9zZXRBY3RpdmVJdGVtQnlJbmRleD1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuX2dldEl0ZW1zQXJyYXkoKTtpZihuW2VdKXtmb3IoO3RoaXMuX3NraXBQcmVkaWNhdGVGbihuW2VdKTspaWYoIW5bZSs9dF0pcmV0dXJuO3RoaXMuc2V0QWN0aXZlSXRlbShlKX19LGUucHJvdG90eXBlLl9nZXRJdGVtc0FycmF5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2l0ZW1zIGluc3RhbmNlb2YgdC5RdWVyeUxpc3Q/dGhpcy5faXRlbXMudG9BcnJheSgpOnRoaXMuX2l0ZW1zfSxlfSgpLHh0PShmdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31pdCh0LGUpLHQucHJvdG90eXBlLnNldEFjdGl2ZUl0ZW09ZnVuY3Rpb24odCl7dGhpcy5hY3RpdmVJdGVtJiZ0aGlzLmFjdGl2ZUl0ZW0uc2V0SW5hY3RpdmVTdHlsZXMoKSxlLnByb3RvdHlwZS5zZXRBY3RpdmVJdGVtLmNhbGwodGhpcyx0KSx0aGlzLmFjdGl2ZUl0ZW0mJnRoaXMuYWN0aXZlSXRlbS5zZXRBY3RpdmVTdHlsZXMoKX19KEV0KSxmdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7dmFyIHQ9bnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiB0Ll9vcmlnaW49XCJwcm9ncmFtXCIsdH1pdCh0LGUpLHQucHJvdG90eXBlLnNldEZvY3VzT3JpZ2luPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9vcmlnaW49ZSx0aGlzfSx0LnByb3RvdHlwZS5zZXRBY3RpdmVJdGVtPWZ1bmN0aW9uKHQpe2UucHJvdG90eXBlLnNldEFjdGl2ZUl0ZW0uY2FsbCh0aGlzLHQpLHRoaXMuYWN0aXZlSXRlbSYmdGhpcy5hY3RpdmVJdGVtLmZvY3VzKHRoaXMuX29yaWdpbil9fShFdCksZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMuX3BsYXRmb3JtPWV9cmV0dXJuIGUucHJvdG90eXBlLmlzRGlzYWJsZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuaGFzQXR0cmlidXRlKFwiZGlzYWJsZWRcIil9LGUucHJvdG90eXBlLmlzVmlzaWJsZT1mdW5jdGlvbihlKXtyZXR1cm4hISgodD1lKS5vZmZzZXRXaWR0aHx8dC5vZmZzZXRIZWlnaHR8fFwiZnVuY3Rpb25cIj09dHlwZW9mIHQuZ2V0Q2xpZW50UmVjdHMmJnQuZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGgpJiZcInZpc2libGVcIj09PWdldENvbXB1dGVkU3R5bGUoZSkudmlzaWJpbGl0eTt2YXIgdH0sZS5wcm90b3R5cGUuaXNUYWJiYWJsZT1mdW5jdGlvbihlKXtpZighdGhpcy5fcGxhdGZvcm0uaXNCcm93c2VyKXJldHVybiExO3ZhciB0LG49ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiBlLmZyYW1lRWxlbWVudH1jYXRjaChlKXtyZXR1cm4gbnVsbH19KCh0PWUpLm93bmVyRG9jdW1lbnQmJnQub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlld3x8d2luZG93KTtpZihuKXt2YXIgaT1uJiZuLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7aWYoLTE9PT1QdChuKSlyZXR1cm4hMTtpZigodGhpcy5fcGxhdGZvcm0uQkxJTkt8fHRoaXMuX3BsYXRmb3JtLldFQktJVCkmJlwib2JqZWN0XCI9PT1pKXJldHVybiExO2lmKCh0aGlzLl9wbGF0Zm9ybS5CTElOS3x8dGhpcy5fcGxhdGZvcm0uV0VCS0lUKSYmIXRoaXMuaXNWaXNpYmxlKG4pKXJldHVybiExfXZhciByLG8scyxhPWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxjPVB0KGUpO2lmKGUuaGFzQXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpKXJldHVybi0xIT09YztpZihcImlmcmFtZVwiPT09YSlyZXR1cm4hMTtpZihcImF1ZGlvXCI9PT1hKXtpZighZS5oYXNBdHRyaWJ1dGUoXCJjb250cm9sc1wiKSlyZXR1cm4hMTtpZih0aGlzLl9wbGF0Zm9ybS5CTElOSylyZXR1cm4hMH1pZihcInZpZGVvXCI9PT1hKXtpZighZS5oYXNBdHRyaWJ1dGUoXCJjb250cm9sc1wiKSYmdGhpcy5fcGxhdGZvcm0uVFJJREVOVClyZXR1cm4hMTtpZih0aGlzLl9wbGF0Zm9ybS5CTElOS3x8dGhpcy5fcGxhdGZvcm0uRklSRUZPWClyZXR1cm4hMH1yZXR1cm4oXCJvYmplY3RcIiE9PWF8fCF0aGlzLl9wbGF0Zm9ybS5CTElOSyYmIXRoaXMuX3BsYXRmb3JtLldFQktJVCkmJigoIXRoaXMuX3BsYXRmb3JtLldFQktJVHx8IXRoaXMuX3BsYXRmb3JtLklPU3x8KG89KHI9ZSkubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxcInRleHRcIj09PShzPVwiaW5wdXRcIj09PW8mJnIudHlwZSl8fFwicGFzc3dvcmRcIj09PXN8fFwic2VsZWN0XCI9PT1vfHxcInRleHRhcmVhXCI9PT1vKSkmJmUudGFiSW5kZXg+PTApfSxlLnByb3RvdHlwZS5pc0ZvY3VzYWJsZT1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYodD1lLG49dCxcImlucHV0XCI9PW4ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmXCJoaWRkZW5cIj09dC50eXBlKXJldHVybiExO3ZhciB0LG47cmV0dXJuIG89ZSxzPW8ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxcImlucHV0XCI9PT1zfHxcInNlbGVjdFwiPT09c3x8XCJidXR0b25cIj09PXN8fFwidGV4dGFyZWFcIj09PXN8fChpPWUscj1pLFwiYVwiPT1yLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkmJmkuaGFzQXR0cmlidXRlKFwiaHJlZlwiKSl8fGUuaGFzQXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpfHxBdChlKTt2YXIgaSxyO3ZhciBvLHN9KGUpJiYhdGhpcy5pc0Rpc2FibGVkKGUpJiZ0aGlzLmlzVmlzaWJsZShlKX0sZS5kZWNvcmF0b3JzPVt7dHlwZTp0LkluamVjdGFibGUsYXJnczpbe3Byb3ZpZGVkSW46XCJyb290XCJ9XX1dLGUuY3RvclBhcmFtZXRlcnM9ZnVuY3Rpb24oKXtyZXR1cm5be3R5cGU6YXR9XX0sZS5uZ0luamVjdGFibGVEZWY9dC5kZWZpbmVJbmplY3RhYmxlKHtmYWN0b3J5OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBlKHQuaW5qZWN0KGF0KSl9LHRva2VuOmUscHJvdmlkZWRJbjpcInJvb3RcIn0pLGV9KCkpO2Z1bmN0aW9uIEF0KGUpe2lmKCFlLmhhc0F0dHJpYnV0ZShcInRhYmluZGV4XCIpfHx2b2lkIDA9PT1lLnRhYkluZGV4KXJldHVybiExO3ZhciB0PWUuZ2V0QXR0cmlidXRlKFwidGFiaW5kZXhcIik7cmV0dXJuXCItMzI3NjhcIiE9dCYmISghdHx8aXNOYU4ocGFyc2VJbnQodCwxMCkpKX1mdW5jdGlvbiBQdChlKXtpZighQXQoZSkpcmV0dXJuIG51bGw7dmFyIHQ9cGFyc2VJbnQoZS5nZXRBdHRyaWJ1dGUoXCJ0YWJpbmRleFwiKXx8XCJcIiwxMCk7cmV0dXJuIGlzTmFOKHQpPy0xOnR9dmFyIGp0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQsbixpLHIpe3ZvaWQgMD09PXImJihyPSExKSx0aGlzLl9lbGVtZW50PWUsdGhpcy5fY2hlY2tlcj10LHRoaXMuX25nWm9uZT1uLHRoaXMuX2RvY3VtZW50PWksdGhpcy5faGFzQXR0YWNoZWQ9ITEsdGhpcy5fZW5hYmxlZD0hMCxyfHx0aGlzLmF0dGFjaEFuY2hvcnMoKX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiZW5hYmxlZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZW5hYmxlZH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2VuYWJsZWQ9ZSx0aGlzLl9zdGFydEFuY2hvciYmdGhpcy5fZW5kQW5jaG9yJiYodGhpcy5fdG9nZ2xlQW5jaG9yVGFiSW5kZXgoZSx0aGlzLl9zdGFydEFuY2hvciksdGhpcy5fdG9nZ2xlQW5jaG9yVGFiSW5kZXgoZSx0aGlzLl9lbmRBbmNob3IpKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5fc3RhcnRBbmNob3ImJnRoaXMuX3N0YXJ0QW5jaG9yLnBhcmVudE5vZGUmJnRoaXMuX3N0YXJ0QW5jaG9yLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5fc3RhcnRBbmNob3IpLHRoaXMuX2VuZEFuY2hvciYmdGhpcy5fZW5kQW5jaG9yLnBhcmVudE5vZGUmJnRoaXMuX2VuZEFuY2hvci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuX2VuZEFuY2hvciksdGhpcy5fc3RhcnRBbmNob3I9dGhpcy5fZW5kQW5jaG9yPW51bGx9LGUucHJvdG90eXBlLmF0dGFjaEFuY2hvcnM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiEhdGhpcy5faGFzQXR0YWNoZWR8fCh0aGlzLl9uZ1pvbmUucnVuT3V0c2lkZUFuZ3VsYXIoZnVuY3Rpb24oKXtlLl9zdGFydEFuY2hvcnx8KGUuX3N0YXJ0QW5jaG9yPWUuX2NyZWF0ZUFuY2hvcigpLGUuX3N0YXJ0QW5jaG9yLmFkZEV2ZW50TGlzdGVuZXIoXCJmb2N1c1wiLGZ1bmN0aW9uKCl7cmV0dXJuIGUuZm9jdXNMYXN0VGFiYmFibGVFbGVtZW50KCl9KSksZS5fZW5kQW5jaG9yfHwoZS5fZW5kQW5jaG9yPWUuX2NyZWF0ZUFuY2hvcigpLGUuX2VuZEFuY2hvci5hZGRFdmVudExpc3RlbmVyKFwiZm9jdXNcIixmdW5jdGlvbigpe3JldHVybiBlLmZvY3VzRmlyc3RUYWJiYWJsZUVsZW1lbnQoKX0pKX0pLHRoaXMuX2VsZW1lbnQucGFyZW50Tm9kZSYmKHRoaXMuX2VsZW1lbnQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGhpcy5fc3RhcnRBbmNob3IsdGhpcy5fZWxlbWVudCksdGhpcy5fZWxlbWVudC5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0aGlzLl9lbmRBbmNob3IsdGhpcy5fZWxlbWVudC5uZXh0U2libGluZyksdGhpcy5faGFzQXR0YWNoZWQ9ITApLHRoaXMuX2hhc0F0dGFjaGVkKX0sZS5wcm90b3R5cGUuZm9jdXNJbml0aWFsRWxlbWVudFdoZW5SZWFkeT1mdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHQpe2UuX2V4ZWN1dGVPblN0YWJsZShmdW5jdGlvbigpe3JldHVybiB0KGUuZm9jdXNJbml0aWFsRWxlbWVudCgpKX0pfSl9LGUucHJvdG90eXBlLmZvY3VzRmlyc3RUYWJiYWJsZUVsZW1lbnRXaGVuUmVhZHk9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbih0KXtlLl9leGVjdXRlT25TdGFibGUoZnVuY3Rpb24oKXtyZXR1cm4gdChlLmZvY3VzRmlyc3RUYWJiYWJsZUVsZW1lbnQoKSl9KX0pfSxlLnByb3RvdHlwZS5mb2N1c0xhc3RUYWJiYWJsZUVsZW1lbnRXaGVuUmVhZHk9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbih0KXtlLl9leGVjdXRlT25TdGFibGUoZnVuY3Rpb24oKXtyZXR1cm4gdChlLmZvY3VzTGFzdFRhYmJhYmxlRWxlbWVudCgpKX0pfSl9LGUucHJvdG90eXBlLl9nZXRSZWdpb25Cb3VuZGFyeT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiW2Nkay1mb2N1cy1yZWdpb24tXCIrZStcIl0sIFtjZGtGb2N1c1JlZ2lvblwiK2UrXCJdLCBbY2RrLWZvY3VzLVwiK2UrXCJdXCIpLG49MDtuPHQubGVuZ3RoO24rKyl0W25dLmhhc0F0dHJpYnV0ZShcImNkay1mb2N1cy1cIitlKT9jb25zb2xlLndhcm4oXCJGb3VuZCB1c2Ugb2YgZGVwcmVjYXRlZCBhdHRyaWJ1dGUgJ2Nkay1mb2N1cy1cIitlK1wiJywgdXNlICdjZGtGb2N1c1JlZ2lvblwiK2UrXCInIGluc3RlYWQuIFRoZSBkZXByZWNhdGVkIGF0dHJpYnV0ZSB3aWxsIGJlIHJlbW92ZWQgaW4gOC4wLjAuXCIsdFtuXSk6dFtuXS5oYXNBdHRyaWJ1dGUoXCJjZGstZm9jdXMtcmVnaW9uLVwiK2UpJiZjb25zb2xlLndhcm4oXCJGb3VuZCB1c2Ugb2YgZGVwcmVjYXRlZCBhdHRyaWJ1dGUgJ2Nkay1mb2N1cy1yZWdpb24tXCIrZStcIicsIHVzZSAnY2RrRm9jdXNSZWdpb25cIitlK1wiJyBpbnN0ZWFkLiBUaGUgZGVwcmVjYXRlZCBhdHRyaWJ1dGUgd2lsbCBiZSByZW1vdmVkIGluIDguMC4wLlwiLHRbbl0pO3JldHVyblwic3RhcnRcIj09ZT90Lmxlbmd0aD90WzBdOnRoaXMuX2dldEZpcnN0VGFiYmFibGVFbGVtZW50KHRoaXMuX2VsZW1lbnQpOnQubGVuZ3RoP3RbdC5sZW5ndGgtMV06dGhpcy5fZ2V0TGFzdFRhYmJhYmxlRWxlbWVudCh0aGlzLl9lbGVtZW50KX0sZS5wcm90b3R5cGUuZm9jdXNJbml0aWFsRWxlbWVudD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIltjZGstZm9jdXMtaW5pdGlhbF0sIFtjZGtGb2N1c0luaXRpYWxdXCIpO3JldHVybiBlPyhlLmhhc0F0dHJpYnV0ZShcImNkay1mb2N1cy1pbml0aWFsXCIpJiZjb25zb2xlLndhcm4oXCJGb3VuZCB1c2Ugb2YgZGVwcmVjYXRlZCBhdHRyaWJ1dGUgJ2Nkay1mb2N1cy1pbml0aWFsJywgdXNlICdjZGtGb2N1c0luaXRpYWwnIGluc3RlYWQuIFRoZSBkZXByZWNhdGVkIGF0dHJpYnV0ZSB3aWxsIGJlIHJlbW92ZWQgaW4gOC4wLjBcIixlKSxlLmZvY3VzKCksITApOnRoaXMuZm9jdXNGaXJzdFRhYmJhYmxlRWxlbWVudCgpfSxlLnByb3RvdHlwZS5mb2N1c0ZpcnN0VGFiYmFibGVFbGVtZW50PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fZ2V0UmVnaW9uQm91bmRhcnkoXCJzdGFydFwiKTtyZXR1cm4gZSYmZS5mb2N1cygpLCEhZX0sZS5wcm90b3R5cGUuZm9jdXNMYXN0VGFiYmFibGVFbGVtZW50PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fZ2V0UmVnaW9uQm91bmRhcnkoXCJlbmRcIik7cmV0dXJuIGUmJmUuZm9jdXMoKSwhIWV9LGUucHJvdG90eXBlLmhhc0F0dGFjaGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2hhc0F0dGFjaGVkfSxlLnByb3RvdHlwZS5fZ2V0Rmlyc3RUYWJiYWJsZUVsZW1lbnQ9ZnVuY3Rpb24oZSl7aWYodGhpcy5fY2hlY2tlci5pc0ZvY3VzYWJsZShlKSYmdGhpcy5fY2hlY2tlci5pc1RhYmJhYmxlKGUpKXJldHVybiBlO2Zvcih2YXIgdD1lLmNoaWxkcmVufHxlLmNoaWxkTm9kZXMsbj0wO248dC5sZW5ndGg7bisrKXt2YXIgaT10W25dLm5vZGVUeXBlPT09dGhpcy5fZG9jdW1lbnQuRUxFTUVOVF9OT0RFP3RoaXMuX2dldEZpcnN0VGFiYmFibGVFbGVtZW50KHRbbl0pOm51bGw7aWYoaSlyZXR1cm4gaX1yZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUuX2dldExhc3RUYWJiYWJsZUVsZW1lbnQ9ZnVuY3Rpb24oZSl7aWYodGhpcy5fY2hlY2tlci5pc0ZvY3VzYWJsZShlKSYmdGhpcy5fY2hlY2tlci5pc1RhYmJhYmxlKGUpKXJldHVybiBlO2Zvcih2YXIgdD1lLmNoaWxkcmVufHxlLmNoaWxkTm9kZXMsbj10Lmxlbmd0aC0xO24+PTA7bi0tKXt2YXIgaT10W25dLm5vZGVUeXBlPT09dGhpcy5fZG9jdW1lbnQuRUxFTUVOVF9OT0RFP3RoaXMuX2dldExhc3RUYWJiYWJsZUVsZW1lbnQodFtuXSk6bnVsbDtpZihpKXJldHVybiBpfXJldHVybiBudWxsfSxlLnByb3RvdHlwZS5fY3JlYXRlQW5jaG9yPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtyZXR1cm4gdGhpcy5fdG9nZ2xlQW5jaG9yVGFiSW5kZXgodGhpcy5fZW5hYmxlZCxlKSxlLmNsYXNzTGlzdC5hZGQoXCJjZGstdmlzdWFsbHktaGlkZGVuXCIpLGUuY2xhc3NMaXN0LmFkZChcImNkay1mb2N1cy10cmFwLWFuY2hvclwiKSxlfSxlLnByb3RvdHlwZS5fdG9nZ2xlQW5jaG9yVGFiSW5kZXg9ZnVuY3Rpb24oZSx0KXtlP3Quc2V0QXR0cmlidXRlKFwidGFiaW5kZXhcIixcIjBcIik6dC5yZW1vdmVBdHRyaWJ1dGUoXCJ0YWJpbmRleFwiKX0sZS5wcm90b3R5cGUuX2V4ZWN1dGVPblN0YWJsZT1mdW5jdGlvbihlKXt0aGlzLl9uZ1pvbmUuaXNTdGFibGU/ZSgpOnRoaXMuX25nWm9uZS5vblN0YWJsZS5hc09ic2VydmFibGUoKS5waXBlKFdlKDEpKS5zdWJzY3JpYmUoZSl9LGV9KCksUnQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxuKXt0aGlzLl9jaGVja2VyPWUsdGhpcy5fbmdab25lPXQsdGhpcy5fZG9jdW1lbnQ9bn1yZXR1cm4gZS5wcm90b3R5cGUuY3JlYXRlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHZvaWQgMD09PXQmJih0PSExKSxuZXcganQoZSx0aGlzLl9jaGVja2VyLHRoaXMuX25nWm9uZSx0aGlzLl9kb2N1bWVudCx0KX0sZS5kZWNvcmF0b3JzPVt7dHlwZTp0LkluamVjdGFibGUsYXJnczpbe3Byb3ZpZGVkSW46XCJyb290XCJ9XX1dLGUuY3RvclBhcmFtZXRlcnM9ZnVuY3Rpb24oKXtyZXR1cm5be3R5cGU6eHR9LHt0eXBlOnQuTmdab25lfSx7dHlwZTp2b2lkIDAsZGVjb3JhdG9yczpbe3R5cGU6dC5JbmplY3QsYXJnczpbbi5ET0NVTUVOVF19XX1dfSxlLm5nSW5qZWN0YWJsZURlZj10LmRlZmluZUluamVjdGFibGUoe2ZhY3Rvcnk6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGUodC5pbmplY3QoeHQpLHQuaW5qZWN0KHQuTmdab25lKSx0LmluamVjdChuLkRPQ1VNRU5UKSl9LHRva2VuOmUscHJvdmlkZWRJbjpcInJvb3RcIn0pLGV9KCksVnQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxuKXt0aGlzLl9lbGVtZW50UmVmPWUsdGhpcy5fZm9jdXNUcmFwRmFjdG9yeT10LHRoaXMuX3ByZXZpb3VzbHlGb2N1c2VkRWxlbWVudD1udWxsLHRoaXMuX2RvY3VtZW50PW4sdGhpcy5mb2N1c1RyYXA9dGhpcy5fZm9jdXNUcmFwRmFjdG9yeS5jcmVhdGUodGhpcy5fZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50LCEwKX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiZW5hYmxlZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mb2N1c1RyYXAuZW5hYmxlZH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuZm9jdXNUcmFwLmVuYWJsZWQ9ZHQoZSl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiYXV0b0NhcHR1cmVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2F1dG9DYXB0dXJlfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fYXV0b0NhcHR1cmU9ZHQoZSl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUubmdPbkRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmZvY3VzVHJhcC5kZXN0cm95KCksdGhpcy5fcHJldmlvdXNseUZvY3VzZWRFbGVtZW50JiYodGhpcy5fcHJldmlvdXNseUZvY3VzZWRFbGVtZW50LmZvY3VzKCksdGhpcy5fcHJldmlvdXNseUZvY3VzZWRFbGVtZW50PW51bGwpfSxlLnByb3RvdHlwZS5uZ0FmdGVyQ29udGVudEluaXQ9ZnVuY3Rpb24oKXt0aGlzLmZvY3VzVHJhcC5hdHRhY2hBbmNob3JzKCksdGhpcy5hdXRvQ2FwdHVyZSYmKHRoaXMuX3ByZXZpb3VzbHlGb2N1c2VkRWxlbWVudD10aGlzLl9kb2N1bWVudC5hY3RpdmVFbGVtZW50LHRoaXMuZm9jdXNUcmFwLmZvY3VzSW5pdGlhbEVsZW1lbnRXaGVuUmVhZHkoKSl9LGUucHJvdG90eXBlLm5nRG9DaGVjaz1mdW5jdGlvbigpe3RoaXMuZm9jdXNUcmFwLmhhc0F0dGFjaGVkKCl8fHRoaXMuZm9jdXNUcmFwLmF0dGFjaEFuY2hvcnMoKX0sZS5kZWNvcmF0b3JzPVt7dHlwZTp0LkRpcmVjdGl2ZSxhcmdzOlt7c2VsZWN0b3I6XCJbY2RrVHJhcEZvY3VzXVwiLGV4cG9ydEFzOlwiY2RrVHJhcEZvY3VzXCJ9XX1dLGUuY3RvclBhcmFtZXRlcnM9ZnVuY3Rpb24oKXtyZXR1cm5be3R5cGU6dC5FbGVtZW50UmVmfSx7dHlwZTpSdH0se3R5cGU6dm9pZCAwLGRlY29yYXRvcnM6W3t0eXBlOnQuSW5qZWN0LGFyZ3M6W24uRE9DVU1FTlRdfV19XX0sZS5wcm9wRGVjb3JhdG9ycz17ZW5hYmxlZDpbe3R5cGU6dC5JbnB1dCxhcmdzOltcImNka1RyYXBGb2N1c1wiXX1dLGF1dG9DYXB0dXJlOlt7dHlwZTp0LklucHV0LGFyZ3M6W1wiY2RrVHJhcEZvY3VzQXV0b0NhcHR1cmVcIl19XX0sZX0oKSxGdD1uZXcgdC5JbmplY3Rpb25Ub2tlbihcImxpdmVBbm5vdW5jZXJFbGVtZW50XCIse3Byb3ZpZGVkSW46XCJyb290XCIsZmFjdG9yeTpmdW5jdGlvbigpe3JldHVybiBudWxsfX0pO3ZhciBMdD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0LG4pe3RoaXMuX25nWm9uZT10LHRoaXMuX2RvY3VtZW50PW4sdGhpcy5fbGl2ZUVsZW1lbnQ9ZXx8dGhpcy5fY3JlYXRlTGl2ZUVsZW1lbnQoKX1yZXR1cm4gZS5wcm90b3R5cGUuYW5ub3VuY2U9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzO3JldHVybiB2b2lkIDA9PT10JiYodD1cInBvbGl0ZVwiKSx0aGlzLl9saXZlRWxlbWVudC50ZXh0Q29udGVudD1cIlwiLHRoaXMuX2xpdmVFbGVtZW50LnNldEF0dHJpYnV0ZShcImFyaWEtbGl2ZVwiLHQpLHRoaXMuX25nWm9uZS5ydW5PdXRzaWRlQW5ndWxhcihmdW5jdGlvbigpe3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbih0KXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bi5fbGl2ZUVsZW1lbnQudGV4dENvbnRlbnQ9ZSx0KCl9LDEwMCl9KX0pfSxlLnByb3RvdHlwZS5uZ09uRGVzdHJveT1mdW5jdGlvbigpe3RoaXMuX2xpdmVFbGVtZW50JiZ0aGlzLl9saXZlRWxlbWVudC5wYXJlbnROb2RlJiZ0aGlzLl9saXZlRWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuX2xpdmVFbGVtZW50KX0sZS5wcm90b3R5cGUuX2NyZWF0ZUxpdmVFbGVtZW50PWZ1bmN0aW9uKCl7Zm9yKHZhciBlPVwiY2RrLWxpdmUtYW5ub3VuY2VyLWVsZW1lbnRcIix0PXRoaXMuX2RvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoZSksbj10aGlzLl9kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLGk9MDtpPHQubGVuZ3RoO2krKyl0W2ldLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodFtpXSk7cmV0dXJuIG4uY2xhc3NMaXN0LmFkZChlKSxuLmNsYXNzTGlzdC5hZGQoXCJjZGstdmlzdWFsbHktaGlkZGVuXCIpLG4uc2V0QXR0cmlidXRlKFwiYXJpYS1hdG9taWNcIixcInRydWVcIiksbi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxpdmVcIixcInBvbGl0ZVwiKSx0aGlzLl9kb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG4pLG59LGUuZGVjb3JhdG9ycz1be3R5cGU6dC5JbmplY3RhYmxlLGFyZ3M6W3twcm92aWRlZEluOlwicm9vdFwifV19XSxlLmN0b3JQYXJhbWV0ZXJzPWZ1bmN0aW9uKCl7cmV0dXJuW3t0eXBlOnZvaWQgMCxkZWNvcmF0b3JzOlt7dHlwZTp0Lk9wdGlvbmFsfSx7dHlwZTp0LkluamVjdCxhcmdzOltGdF19XX0se3R5cGU6dC5OZ1pvbmV9LHt0eXBlOnZvaWQgMCxkZWNvcmF0b3JzOlt7dHlwZTp0LkluamVjdCxhcmdzOltuLkRPQ1VNRU5UXX1dfV19LGUubmdJbmplY3RhYmxlRGVmPXQuZGVmaW5lSW5qZWN0YWJsZSh7ZmFjdG9yeTpmdW5jdGlvbigpe3JldHVybiBuZXcgZSh0LmluamVjdChGdCw4KSx0LmluamVjdCh0Lk5nWm9uZSksdC5pbmplY3Qobi5ET0NVTUVOVCkpfSx0b2tlbjplLHByb3ZpZGVkSW46XCJyb290XCJ9KSxlfSgpLEJ0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQsbixpKXt0aGlzLl9lbGVtZW50UmVmPWUsdGhpcy5fbGl2ZUFubm91bmNlcj10LHRoaXMuX2NvbnRlbnRPYnNlcnZlcj1uLHRoaXMuX25nWm9uZT1pLHRoaXMuX3BvbGl0ZW5lc3M9XCJvZmZcIn1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwicG9saXRlbmVzc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcG9saXRlbmVzc30sc2V0OmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dGhpcy5fcG9saXRlbmVzcz1cInBvbGl0ZVwiPT09ZXx8XCJhc3NlcnRpdmVcIj09PWU/ZTpcIm9mZlwiLFwib2ZmXCI9PT10aGlzLl9wb2xpdGVuZXNzP3RoaXMuX3N1YnNjcmlwdGlvbiYmKHRoaXMuX3N1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpLHRoaXMuX3N1YnNjcmlwdGlvbj1udWxsKTp0aGlzLl9zdWJzY3JpcHRpb258fCh0aGlzLl9zdWJzY3JpcHRpb249dGhpcy5fbmdab25lLnJ1bk91dHNpZGVBbmd1bGFyKGZ1bmN0aW9uKCl7cmV0dXJuIHQuX2NvbnRlbnRPYnNlcnZlci5vYnNlcnZlKHQuX2VsZW1lbnRSZWYpLnN1YnNjcmliZShmdW5jdGlvbigpe3ZhciBlPXQuX2VsZW1lbnRSZWYubmF0aXZlRWxlbWVudDt0Ll9saXZlQW5ub3VuY2VyLmFubm91bmNlKGUudGV4dENvbnRlbnQsdC5fcG9saXRlbmVzcyl9KX0pKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5uZ09uRGVzdHJveT1mdW5jdGlvbigpe3RoaXMuX3N1YnNjcmlwdGlvbiYmdGhpcy5fc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCl9LGUuZGVjb3JhdG9ycz1be3R5cGU6dC5EaXJlY3RpdmUsYXJnczpbe3NlbGVjdG9yOlwiW2Nka0FyaWFMaXZlXVwiLGV4cG9ydEFzOlwiY2RrQXJpYUxpdmVcIn1dfV0sZS5jdG9yUGFyYW1ldGVycz1mdW5jdGlvbigpe3JldHVyblt7dHlwZTp0LkVsZW1lbnRSZWZ9LHt0eXBlOkx0fSx7dHlwZTpidH0se3R5cGU6dC5OZ1pvbmV9XX0sZS5wcm9wRGVjb3JhdG9ycz17cG9saXRlbmVzczpbe3R5cGU6dC5JbnB1dCxhcmdzOltcImNka0FyaWFMaXZlXCJdfV19LGV9KCk7bmV3IHQuT3B0aW9uYWwsbmV3IHQuU2tpcFNlbGYsbmV3IHQuT3B0aW9uYWwsbmV3IHQuSW5qZWN0KEZ0KSxuLkRPQ1VNRU5ULHQuTmdab25lO3ZhciBOdD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXt0aGlzLl9uZ1pvbmU9ZSx0aGlzLl9wbGF0Zm9ybT10LHRoaXMuX29yaWdpbj1udWxsLHRoaXMuX3dpbmRvd0ZvY3VzZWQ9ITEsdGhpcy5fZWxlbWVudEluZm89bmV3IE1hcCx0aGlzLl91bnJlZ2lzdGVyR2xvYmFsTGlzdGVuZXJzPWZ1bmN0aW9uKCl7fSx0aGlzLl9tb25pdG9yZWRFbGVtZW50Q291bnQ9MH1yZXR1cm4gZS5wcm90b3R5cGUubW9uaXRvcj1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXM7aWYodm9pZCAwPT09dCYmKHQ9ITEpLCF0aGlzLl9wbGF0Zm9ybS5pc0Jyb3dzZXIpcmV0dXJuIFgobnVsbCk7dmFyIGk9dGhpcy5fZ2V0TmF0aXZlRWxlbWVudChlKTtpZih0aGlzLl9lbGVtZW50SW5mby5oYXMoaSkpe3ZhciByPXRoaXMuX2VsZW1lbnRJbmZvLmdldChpKTtyZXR1cm4gci5jaGVja0NoaWxkcmVuPXQsci5zdWJqZWN0LmFzT2JzZXJ2YWJsZSgpfXZhciBvPXt1bmxpc3RlbjpmdW5jdGlvbigpe30sY2hlY2tDaGlsZHJlbjp0LHN1YmplY3Q6bmV3IFB9O3RoaXMuX2VsZW1lbnRJbmZvLnNldChpLG8pLHRoaXMuX2luY3JlbWVudE1vbml0b3JlZEVsZW1lbnRDb3VudCgpO3ZhciBzPWZ1bmN0aW9uKGUpe3JldHVybiBuLl9vbkZvY3VzKGUsaSl9LGE9ZnVuY3Rpb24oZSl7cmV0dXJuIG4uX29uQmx1cihlLGkpfTtyZXR1cm4gdGhpcy5fbmdab25lLnJ1bk91dHNpZGVBbmd1bGFyKGZ1bmN0aW9uKCl7aS5hZGRFdmVudExpc3RlbmVyKFwiZm9jdXNcIixzLCEwKSxpLmFkZEV2ZW50TGlzdGVuZXIoXCJibHVyXCIsYSwhMCl9KSxvLnVubGlzdGVuPWZ1bmN0aW9uKCl7aS5yZW1vdmVFdmVudExpc3RlbmVyKFwiZm9jdXNcIixzLCEwKSxpLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJibHVyXCIsYSwhMCl9LG8uc3ViamVjdC5hc09ic2VydmFibGUoKX0sZS5wcm90b3R5cGUuc3RvcE1vbml0b3Jpbmc9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fZ2V0TmF0aXZlRWxlbWVudChlKSxuPXRoaXMuX2VsZW1lbnRJbmZvLmdldCh0KTtuJiYobi51bmxpc3RlbigpLG4uc3ViamVjdC5jb21wbGV0ZSgpLHRoaXMuX3NldENsYXNzZXModCksdGhpcy5fZWxlbWVudEluZm8uZGVsZXRlKHQpLHRoaXMuX2RlY3JlbWVudE1vbml0b3JlZEVsZW1lbnRDb3VudCgpKX0sZS5wcm90b3R5cGUuZm9jdXNWaWE9ZnVuY3Rpb24oZSx0LG4pe3ZhciBpPXRoaXMuX2dldE5hdGl2ZUVsZW1lbnQoZSk7dGhpcy5fc2V0T3JpZ2luRm9yQ3VycmVudEV2ZW50UXVldWUodCksXCJmdW5jdGlvblwiPT10eXBlb2YgaS5mb2N1cyYmaS5mb2N1cyhuKX0sZS5wcm90b3R5cGUubmdPbkRlc3Ryb3k9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuX2VsZW1lbnRJbmZvLmZvckVhY2goZnVuY3Rpb24odCxuKXtyZXR1cm4gZS5zdG9wTW9uaXRvcmluZyhuKX0pfSxlLnByb3RvdHlwZS5fcmVnaXN0ZXJHbG9iYWxMaXN0ZW5lcnM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2lmKHRoaXMuX3BsYXRmb3JtLmlzQnJvd3Nlcil7dmFyIHQ9ZnVuY3Rpb24oKXtlLl9sYXN0VG91Y2hUYXJnZXQ9bnVsbCxlLl9zZXRPcmlnaW5Gb3JDdXJyZW50RXZlbnRRdWV1ZShcImtleWJvYXJkXCIpfSxuPWZ1bmN0aW9uKCl7ZS5fbGFzdFRvdWNoVGFyZ2V0fHxlLl9zZXRPcmlnaW5Gb3JDdXJyZW50RXZlbnRRdWV1ZShcIm1vdXNlXCIpfSxpPWZ1bmN0aW9uKHQpe251bGwhPWUuX3RvdWNoVGltZW91dElkJiZjbGVhclRpbWVvdXQoZS5fdG91Y2hUaW1lb3V0SWQpLGUuX2xhc3RUb3VjaFRhcmdldD10LnRhcmdldCxlLl90b3VjaFRpbWVvdXRJZD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cmV0dXJuIGUuX2xhc3RUb3VjaFRhcmdldD1udWxsfSw2NTApfSxyPWZ1bmN0aW9uKCl7ZS5fd2luZG93Rm9jdXNlZD0hMCxlLl93aW5kb3dGb2N1c1RpbWVvdXRJZD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cmV0dXJuIGUuX3dpbmRvd0ZvY3VzZWQ9ITF9KX07dGhpcy5fbmdab25lLnJ1bk91dHNpZGVBbmd1bGFyKGZ1bmN0aW9uKCl7ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIix0LCEwKSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsbiwhMCksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIixpLCFsdCgpfHx7cGFzc2l2ZTohMCxjYXB0dXJlOiEwfSksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJmb2N1c1wiLHIpfSksdGhpcy5fdW5yZWdpc3Rlckdsb2JhbExpc3RlbmVycz1mdW5jdGlvbigpe2RvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsdCwhMCksZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLG4sITApLGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsaSwhbHQoKXx8e3Bhc3NpdmU6ITAsY2FwdHVyZTohMH0pLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwiZm9jdXNcIixyKSxjbGVhclRpbWVvdXQoZS5fd2luZG93Rm9jdXNUaW1lb3V0SWQpLGNsZWFyVGltZW91dChlLl90b3VjaFRpbWVvdXRJZCksY2xlYXJUaW1lb3V0KGUuX29yaWdpblRpbWVvdXRJZCl9fX0sZS5wcm90b3R5cGUuX3RvZ2dsZUNsYXNzPWZ1bmN0aW9uKGUsdCxuKXtuP2UuY2xhc3NMaXN0LmFkZCh0KTplLmNsYXNzTGlzdC5yZW1vdmUodCl9LGUucHJvdG90eXBlLl9zZXRDbGFzc2VzPWZ1bmN0aW9uKGUsdCl7dGhpcy5fZWxlbWVudEluZm8uZ2V0KGUpJiYodGhpcy5fdG9nZ2xlQ2xhc3MoZSxcImNkay1mb2N1c2VkXCIsISF0KSx0aGlzLl90b2dnbGVDbGFzcyhlLFwiY2RrLXRvdWNoLWZvY3VzZWRcIixcInRvdWNoXCI9PT10KSx0aGlzLl90b2dnbGVDbGFzcyhlLFwiY2RrLWtleWJvYXJkLWZvY3VzZWRcIixcImtleWJvYXJkXCI9PT10KSx0aGlzLl90b2dnbGVDbGFzcyhlLFwiY2RrLW1vdXNlLWZvY3VzZWRcIixcIm1vdXNlXCI9PT10KSx0aGlzLl90b2dnbGVDbGFzcyhlLFwiY2RrLXByb2dyYW0tZm9jdXNlZFwiLFwicHJvZ3JhbVwiPT09dCkpfSxlLnByb3RvdHlwZS5fc2V0T3JpZ2luRm9yQ3VycmVudEV2ZW50UXVldWU9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0aGlzLl9uZ1pvbmUucnVuT3V0c2lkZUFuZ3VsYXIoZnVuY3Rpb24oKXt0Ll9vcmlnaW49ZSx0Ll9vcmlnaW5UaW1lb3V0SWQ9c2V0VGltZW91dChmdW5jdGlvbigpe3JldHVybiB0Ll9vcmlnaW49bnVsbH0sMSl9KX0sZS5wcm90b3R5cGUuX3dhc0NhdXNlZEJ5VG91Y2g9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS50YXJnZXQ7cmV0dXJuIHRoaXMuX2xhc3RUb3VjaFRhcmdldCBpbnN0YW5jZW9mIE5vZGUmJnQgaW5zdGFuY2VvZiBOb2RlJiYodD09PXRoaXMuX2xhc3RUb3VjaFRhcmdldHx8dC5jb250YWlucyh0aGlzLl9sYXN0VG91Y2hUYXJnZXQpKX0sZS5wcm90b3R5cGUuX29uRm9jdXM9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLl9lbGVtZW50SW5mby5nZXQodCk7aWYobiYmKG4uY2hlY2tDaGlsZHJlbnx8dD09PWUudGFyZ2V0KSl7dmFyIGk9dGhpcy5fb3JpZ2luO2l8fChpPXRoaXMuX3dpbmRvd0ZvY3VzZWQmJnRoaXMuX2xhc3RGb2N1c09yaWdpbj90aGlzLl9sYXN0Rm9jdXNPcmlnaW46dGhpcy5fd2FzQ2F1c2VkQnlUb3VjaChlKT9cInRvdWNoXCI6XCJwcm9ncmFtXCIpLHRoaXMuX3NldENsYXNzZXModCxpKSx0aGlzLl9lbWl0T3JpZ2luKG4uc3ViamVjdCxpKSx0aGlzLl9sYXN0Rm9jdXNPcmlnaW49aX19LGUucHJvdG90eXBlLl9vbkJsdXI9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLl9lbGVtZW50SW5mby5nZXQodCk7IW58fG4uY2hlY2tDaGlsZHJlbiYmZS5yZWxhdGVkVGFyZ2V0IGluc3RhbmNlb2YgTm9kZSYmdC5jb250YWlucyhlLnJlbGF0ZWRUYXJnZXQpfHwodGhpcy5fc2V0Q2xhc3Nlcyh0KSx0aGlzLl9lbWl0T3JpZ2luKG4uc3ViamVjdCxudWxsKSl9LGUucHJvdG90eXBlLl9lbWl0T3JpZ2luPWZ1bmN0aW9uKGUsdCl7dGhpcy5fbmdab25lLnJ1bihmdW5jdGlvbigpe3JldHVybiBlLm5leHQodCl9KX0sZS5wcm90b3R5cGUuX2luY3JlbWVudE1vbml0b3JlZEVsZW1lbnRDb3VudD1mdW5jdGlvbigpezE9PSsrdGhpcy5fbW9uaXRvcmVkRWxlbWVudENvdW50JiZ0aGlzLl9yZWdpc3Rlckdsb2JhbExpc3RlbmVycygpfSxlLnByb3RvdHlwZS5fZGVjcmVtZW50TW9uaXRvcmVkRWxlbWVudENvdW50PWZ1bmN0aW9uKCl7LS10aGlzLl9tb25pdG9yZWRFbGVtZW50Q291bnR8fCh0aGlzLl91bnJlZ2lzdGVyR2xvYmFsTGlzdGVuZXJzKCksdGhpcy5fdW5yZWdpc3Rlckdsb2JhbExpc3RlbmVycz1mdW5jdGlvbigpe30pfSxlLnByb3RvdHlwZS5fZ2V0TmF0aXZlRWxlbWVudD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIHQuRWxlbWVudFJlZj9lLm5hdGl2ZUVsZW1lbnQ6ZX0sZS5kZWNvcmF0b3JzPVt7dHlwZTp0LkluamVjdGFibGUsYXJnczpbe3Byb3ZpZGVkSW46XCJyb290XCJ9XX1dLGUuY3RvclBhcmFtZXRlcnM9ZnVuY3Rpb24oKXtyZXR1cm5be3R5cGU6dC5OZ1pvbmV9LHt0eXBlOmF0fV19LGUubmdJbmplY3RhYmxlRGVmPXQuZGVmaW5lSW5qZWN0YWJsZSh7ZmFjdG9yeTpmdW5jdGlvbigpe3JldHVybiBuZXcgZSh0LmluamVjdCh0Lk5nWm9uZSksdC5pbmplY3QoYXQpKX0sdG9rZW46ZSxwcm92aWRlZEluOlwicm9vdFwifSksZX0oKSxZdD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSxuKXt2YXIgaT10aGlzO3RoaXMuX2VsZW1lbnRSZWY9ZSx0aGlzLl9mb2N1c01vbml0b3I9bix0aGlzLmNka0ZvY3VzQ2hhbmdlPW5ldyB0LkV2ZW50RW1pdHRlcix0aGlzLl9tb25pdG9yU3Vic2NyaXB0aW9uPXRoaXMuX2ZvY3VzTW9uaXRvci5tb25pdG9yKHRoaXMuX2VsZW1lbnRSZWYsdGhpcy5fZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50Lmhhc0F0dHJpYnV0ZShcImNka01vbml0b3JTdWJ0cmVlRm9jdXNcIikpLnN1YnNjcmliZShmdW5jdGlvbihlKXtyZXR1cm4gaS5jZGtGb2N1c0NoYW5nZS5lbWl0KGUpfSl9cmV0dXJuIGUucHJvdG90eXBlLm5nT25EZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5fZm9jdXNNb25pdG9yLnN0b3BNb25pdG9yaW5nKHRoaXMuX2VsZW1lbnRSZWYpLHRoaXMuX21vbml0b3JTdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKX0sZS5kZWNvcmF0b3JzPVt7dHlwZTp0LkRpcmVjdGl2ZSxhcmdzOlt7c2VsZWN0b3I6XCJbY2RrTW9uaXRvckVsZW1lbnRGb2N1c10sIFtjZGtNb25pdG9yU3VidHJlZUZvY3VzXVwifV19XSxlLmN0b3JQYXJhbWV0ZXJzPWZ1bmN0aW9uKCl7cmV0dXJuW3t0eXBlOnQuRWxlbWVudFJlZn0se3R5cGU6TnR9XX0sZS5wcm9wRGVjb3JhdG9ycz17Y2RrRm9jdXNDaGFuZ2U6W3t0eXBlOnQuT3V0cHV0fV19LGV9KCk7bmV3IHQuT3B0aW9uYWwsbmV3IHQuU2tpcFNlbGYsdC5OZ1pvbmU7dmFyIEh0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZS5kZWNvcmF0b3JzPVt7dHlwZTp0Lk5nTW9kdWxlLGFyZ3M6W3tpbXBvcnRzOltuLkNvbW1vbk1vZHVsZSxjdCxfdF0sZGVjbGFyYXRpb25zOltCdCxWdCxZdF0sZXhwb3J0czpbQnQsVnQsWXRdfV19XSxlfSgpLHp0PW5ldyB0LkluamVjdGlvblRva2VuKFwiY2RrLWRpci1kb2NcIix7cHJvdmlkZWRJbjpcInJvb3RcIixmYWN0b3J5OmZ1bmN0aW9uKCl7cmV0dXJuIHQuaW5qZWN0KG4uRE9DVU1FTlQpfX0pO3ZhciBXdD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7aWYodGhpcy52YWx1ZT1cImx0clwiLHRoaXMuY2hhbmdlPW5ldyB0LkV2ZW50RW1pdHRlcixlKXt2YXIgbj1lLmJvZHk/ZS5ib2R5LmRpcjpudWxsLGk9ZS5kb2N1bWVudEVsZW1lbnQ/ZS5kb2N1bWVudEVsZW1lbnQuZGlyOm51bGwscj1ufHxpO3RoaXMudmFsdWU9XCJsdHJcIj09PXJ8fFwicnRsXCI9PT1yP3I6XCJsdHJcIn19cmV0dXJuIGUucHJvdG90eXBlLm5nT25EZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5jaGFuZ2UuY29tcGxldGUoKX0sZS5kZWNvcmF0b3JzPVt7dHlwZTp0LkluamVjdGFibGUsYXJnczpbe3Byb3ZpZGVkSW46XCJyb290XCJ9XX1dLGUuY3RvclBhcmFtZXRlcnM9ZnVuY3Rpb24oKXtyZXR1cm5be3R5cGU6dm9pZCAwLGRlY29yYXRvcnM6W3t0eXBlOnQuT3B0aW9uYWx9LHt0eXBlOnQuSW5qZWN0LGFyZ3M6W3p0XX1dfV19LGUubmdJbmplY3RhYmxlRGVmPXQuZGVmaW5lSW5qZWN0YWJsZSh7ZmFjdG9yeTpmdW5jdGlvbigpe3JldHVybiBuZXcgZSh0LmluamVjdCh6dCw4KSl9LHRva2VuOmUscHJvdmlkZWRJbjpcInJvb3RcIn0pLGV9KCksWnQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5fZGlyPVwibHRyXCIsdGhpcy5faXNJbml0aWFsaXplZD0hMSx0aGlzLmNoYW5nZT1uZXcgdC5FdmVudEVtaXR0ZXJ9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImRpclwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGlyfSxzZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fZGlyO3RoaXMuX2Rpcj1cImx0clwiPT09ZXx8XCJydGxcIj09PWU/ZTpcImx0clwiLHQhPT10aGlzLl9kaXImJnRoaXMuX2lzSW5pdGlhbGl6ZWQmJnRoaXMuY2hhbmdlLmVtaXQodGhpcy5fZGlyKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJ2YWx1ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kaXJ9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUubmdBZnRlckNvbnRlbnRJbml0PWZ1bmN0aW9uKCl7dGhpcy5faXNJbml0aWFsaXplZD0hMH0sZS5wcm90b3R5cGUubmdPbkRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmNoYW5nZS5jb21wbGV0ZSgpfSxlLmRlY29yYXRvcnM9W3t0eXBlOnQuRGlyZWN0aXZlLGFyZ3M6W3tzZWxlY3RvcjpcIltkaXJdXCIscHJvdmlkZXJzOlt7cHJvdmlkZTpXdCx1c2VFeGlzdGluZzplfV0saG9zdDp7XCJbZGlyXVwiOlwiZGlyXCJ9LGV4cG9ydEFzOlwiZGlyXCJ9XX1dLGUucHJvcERlY29yYXRvcnM9e2NoYW5nZTpbe3R5cGU6dC5PdXRwdXQsYXJnczpbXCJkaXJDaGFuZ2VcIl19XSxkaXI6W3t0eXBlOnQuSW5wdXR9XX0sZX0oKSxYdD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGUuZGVjb3JhdG9ycz1be3R5cGU6dC5OZ01vZHVsZSxhcmdzOlt7ZXhwb3J0czpbWnRdLGRlY2xhcmF0aW9uczpbWnRdfV19XSxlfSgpLCR0PWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7fX0oKSxLdD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQpe3ZhciBuPWUuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gbi5fZGF0YT10LG59cmV0dXJuIGl0KHQsZSksdC5wcm90b3R5cGUuY29ubmVjdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kYXRhIGluc3RhbmNlb2YgRD90aGlzLl9kYXRhOlgodGhpcy5fZGF0YSl9LHQucHJvdG90eXBlLmRpc2Nvbm5lY3Q9ZnVuY3Rpb24oKXt9LHR9KCR0KTshZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxuKXt2b2lkIDA9PT1lJiYoZT0hMSksdm9pZCAwPT09biYmKG49ITApO3ZhciBpPXRoaXM7dGhpcy5fbXVsdGlwbGU9ZSx0aGlzLl9lbWl0Q2hhbmdlcz1uLHRoaXMuX3NlbGVjdGlvbj1uZXcgU2V0LHRoaXMuX2Rlc2VsZWN0ZWRUb0VtaXQ9W10sdGhpcy5fc2VsZWN0ZWRUb0VtaXQ9W10sdGhpcy5jaGFuZ2VkPW5ldyBQLHRoaXMub25DaGFuZ2U9dGhpcy5jaGFuZ2VkLHQmJnQubGVuZ3RoJiYoZT90LmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIGkuX21hcmtTZWxlY3RlZChlKX0pOnRoaXMuX21hcmtTZWxlY3RlZCh0WzBdKSx0aGlzLl9zZWxlY3RlZFRvRW1pdC5sZW5ndGg9MCl9T2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwic2VsZWN0ZWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NlbGVjdGVkfHwodGhpcy5fc2VsZWN0ZWQ9QXJyYXkuZnJvbSh0aGlzLl9zZWxlY3Rpb24udmFsdWVzKCkpKSx0aGlzLl9zZWxlY3RlZH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5zZWxlY3Q9ZnVuY3Rpb24oKXtmb3IodmFyIGU9dGhpcyx0PVtdLG49MDtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKXRbbl09YXJndW1lbnRzW25dO3RoaXMuX3ZlcmlmeVZhbHVlQXNzaWdubWVudCh0KSx0LmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIGUuX21hcmtTZWxlY3RlZCh0KX0pLHRoaXMuX2VtaXRDaGFuZ2VFdmVudCgpfSxlLnByb3RvdHlwZS5kZXNlbGVjdD1mdW5jdGlvbigpe2Zvcih2YXIgZT10aGlzLHQ9W10sbj0wO248YXJndW1lbnRzLmxlbmd0aDtuKyspdFtuXT1hcmd1bWVudHNbbl07dGhpcy5fdmVyaWZ5VmFsdWVBc3NpZ25tZW50KHQpLHQuZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gZS5fdW5tYXJrU2VsZWN0ZWQodCl9KSx0aGlzLl9lbWl0Q2hhbmdlRXZlbnQoKX0sZS5wcm90b3R5cGUudG9nZ2xlPWZ1bmN0aW9uKGUpe3RoaXMuaXNTZWxlY3RlZChlKT90aGlzLmRlc2VsZWN0KGUpOnRoaXMuc2VsZWN0KGUpfSxlLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3RoaXMuX3VubWFya0FsbCgpLHRoaXMuX2VtaXRDaGFuZ2VFdmVudCgpfSxlLnByb3RvdHlwZS5pc1NlbGVjdGVkPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9zZWxlY3Rpb24uaGFzKGUpfSxlLnByb3RvdHlwZS5pc0VtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuIDA9PT10aGlzLl9zZWxlY3Rpb24uc2l6ZX0sZS5wcm90b3R5cGUuaGFzVmFsdWU9ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5pc0VtcHR5KCl9LGUucHJvdG90eXBlLnNvcnQ9ZnVuY3Rpb24oZSl7dGhpcy5fbXVsdGlwbGUmJnRoaXMuc2VsZWN0ZWQmJnRoaXMuX3NlbGVjdGVkLnNvcnQoZSl9LGUucHJvdG90eXBlLmlzTXVsdGlwbGVTZWxlY3Rpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbXVsdGlwbGV9LGUucHJvdG90eXBlLl9lbWl0Q2hhbmdlRXZlbnQ9ZnVuY3Rpb24oKXt0aGlzLl9zZWxlY3RlZD1udWxsLCh0aGlzLl9zZWxlY3RlZFRvRW1pdC5sZW5ndGh8fHRoaXMuX2Rlc2VsZWN0ZWRUb0VtaXQubGVuZ3RoKSYmKHRoaXMuY2hhbmdlZC5uZXh0KHtzb3VyY2U6dGhpcyxhZGRlZDp0aGlzLl9zZWxlY3RlZFRvRW1pdCxyZW1vdmVkOnRoaXMuX2Rlc2VsZWN0ZWRUb0VtaXR9KSx0aGlzLl9kZXNlbGVjdGVkVG9FbWl0PVtdLHRoaXMuX3NlbGVjdGVkVG9FbWl0PVtdKX0sZS5wcm90b3R5cGUuX21hcmtTZWxlY3RlZD1mdW5jdGlvbihlKXt0aGlzLmlzU2VsZWN0ZWQoZSl8fCh0aGlzLl9tdWx0aXBsZXx8dGhpcy5fdW5tYXJrQWxsKCksdGhpcy5fc2VsZWN0aW9uLmFkZChlKSx0aGlzLl9lbWl0Q2hhbmdlcyYmdGhpcy5fc2VsZWN0ZWRUb0VtaXQucHVzaChlKSl9LGUucHJvdG90eXBlLl91bm1hcmtTZWxlY3RlZD1mdW5jdGlvbihlKXt0aGlzLmlzU2VsZWN0ZWQoZSkmJih0aGlzLl9zZWxlY3Rpb24uZGVsZXRlKGUpLHRoaXMuX2VtaXRDaGFuZ2VzJiZ0aGlzLl9kZXNlbGVjdGVkVG9FbWl0LnB1c2goZSkpfSxlLnByb3RvdHlwZS5fdW5tYXJrQWxsPWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLmlzRW1wdHkoKXx8dGhpcy5fc2VsZWN0aW9uLmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIGUuX3VubWFya1NlbGVjdGVkKHQpfSl9LGUucHJvdG90eXBlLl92ZXJpZnlWYWx1ZUFzc2lnbm1lbnQ9ZnVuY3Rpb24oZSl7aWYoZS5sZW5ndGg+MSYmIXRoaXMuX211bHRpcGxlKXRocm93IEVycm9yKFwiQ2Fubm90IHBhc3MgbXVsdGlwbGUgdmFsdWVzIGludG8gU2VsZWN0aW9uTW9kZWwgd2l0aCBzaW5nbGUtdmFsdWUgbW9kZS5cIil9fSgpOyFmdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLl9saXN0ZW5lcnM9W119ZS5wcm90b3R5cGUubm90aWZ5PWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPTAsaT10aGlzLl9saXN0ZW5lcnM7bjxpLmxlbmd0aDtuKyspeygwLGlbbl0pKGUsdCl9fSxlLnByb3RvdHlwZS5saXN0ZW49ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gdGhpcy5fbGlzdGVuZXJzLnB1c2goZSksZnVuY3Rpb24oKXt0Ll9saXN0ZW5lcnM9dC5fbGlzdGVuZXJzLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4gZSE9PXR9KX19LGUucHJvdG90eXBlLm5nT25EZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5fbGlzdGVuZXJzPVtdfSxlLmRlY29yYXRvcnM9W3t0eXBlOnQuSW5qZWN0YWJsZSxhcmdzOlt7cHJvdmlkZWRJbjpcInJvb3RcIn1dfV0sZS5uZ0luamVjdGFibGVEZWY9dC5kZWZpbmVJbmplY3RhYmxlKHtmYWN0b3J5OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBlfSx0b2tlbjplLHByb3ZpZGVkSW46XCJyb290XCJ9KX0oKTt2YXIgVXQ9bmV3IHQuSW5qZWN0aW9uVG9rZW4oXCJWSVJUVUFMX1NDUk9MTF9TVFJBVEVHWVwiKSxHdD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0LG4pe3RoaXMuX3Njcm9sbGVkSW5kZXhDaGFuZ2U9bmV3IFAsdGhpcy5zY3JvbGxlZEluZGV4Q2hhbmdlPXRoaXMuX3Njcm9sbGVkSW5kZXhDaGFuZ2UucGlwZShWZSgpKSx0aGlzLl92aWV3cG9ydD1udWxsLHRoaXMuX2l0ZW1TaXplPWUsdGhpcy5fbWluQnVmZmVyUHg9dCx0aGlzLl9tYXhCdWZmZXJQeD1ufXJldHVybiBlLnByb3RvdHlwZS5hdHRhY2g9ZnVuY3Rpb24oZSl7dGhpcy5fdmlld3BvcnQ9ZSx0aGlzLl91cGRhdGVUb3RhbENvbnRlbnRTaXplKCksdGhpcy5fdXBkYXRlUmVuZGVyZWRSYW5nZSgpfSxlLnByb3RvdHlwZS5kZXRhY2g9ZnVuY3Rpb24oKXt0aGlzLl9zY3JvbGxlZEluZGV4Q2hhbmdlLmNvbXBsZXRlKCksdGhpcy5fdmlld3BvcnQ9bnVsbH0sZS5wcm90b3R5cGUudXBkYXRlSXRlbUFuZEJ1ZmZlclNpemU9ZnVuY3Rpb24oZSx0LG4pe2lmKG48dCl0aHJvdyBFcnJvcihcIkNESyB2aXJ0dWFsIHNjcm9sbDogbWF4QnVmZmVyUHggbXVzdCBiZSBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gbWluQnVmZmVyUHhcIik7dGhpcy5faXRlbVNpemU9ZSx0aGlzLl9taW5CdWZmZXJQeD10LHRoaXMuX21heEJ1ZmZlclB4PW4sdGhpcy5fdXBkYXRlVG90YWxDb250ZW50U2l6ZSgpLHRoaXMuX3VwZGF0ZVJlbmRlcmVkUmFuZ2UoKX0sZS5wcm90b3R5cGUub25Db250ZW50U2Nyb2xsZWQ9ZnVuY3Rpb24oKXt0aGlzLl91cGRhdGVSZW5kZXJlZFJhbmdlKCl9LGUucHJvdG90eXBlLm9uRGF0YUxlbmd0aENoYW5nZWQ9ZnVuY3Rpb24oKXt0aGlzLl91cGRhdGVUb3RhbENvbnRlbnRTaXplKCksdGhpcy5fdXBkYXRlUmVuZGVyZWRSYW5nZSgpfSxlLnByb3RvdHlwZS5vbkNvbnRlbnRSZW5kZXJlZD1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUub25SZW5kZXJlZE9mZnNldENoYW5nZWQ9ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLnNjcm9sbFRvSW5kZXg9ZnVuY3Rpb24oZSx0KXt0aGlzLl92aWV3cG9ydCYmdGhpcy5fdmlld3BvcnQuc2Nyb2xsVG9PZmZzZXQoZSp0aGlzLl9pdGVtU2l6ZSx0KX0sZS5wcm90b3R5cGUuX3VwZGF0ZVRvdGFsQ29udGVudFNpemU9ZnVuY3Rpb24oKXt0aGlzLl92aWV3cG9ydCYmdGhpcy5fdmlld3BvcnQuc2V0VG90YWxDb250ZW50U2l6ZSh0aGlzLl92aWV3cG9ydC5nZXREYXRhTGVuZ3RoKCkqdGhpcy5faXRlbVNpemUpfSxlLnByb3RvdHlwZS5fdXBkYXRlUmVuZGVyZWRSYW5nZT1mdW5jdGlvbigpe2lmKHRoaXMuX3ZpZXdwb3J0KXt2YXIgZT10aGlzLl92aWV3cG9ydC5tZWFzdXJlU2Nyb2xsT2Zmc2V0KCksdD1lL3RoaXMuX2l0ZW1TaXplLG49dGhpcy5fdmlld3BvcnQuZ2V0UmVuZGVyZWRSYW5nZSgpLGk9e3N0YXJ0Om4uc3RhcnQsZW5kOm4uZW5kfSxyPXRoaXMuX3ZpZXdwb3J0LmdldFZpZXdwb3J0U2l6ZSgpLG89dGhpcy5fdmlld3BvcnQuZ2V0RGF0YUxlbmd0aCgpLHM9ZS1pLnN0YXJ0KnRoaXMuX2l0ZW1TaXplO2lmKHM8dGhpcy5fbWluQnVmZmVyUHgmJjAhPWkuc3RhcnQpe3ZhciBhPU1hdGguY2VpbCgodGhpcy5fbWF4QnVmZmVyUHgtcykvdGhpcy5faXRlbVNpemUpO2kuc3RhcnQ9TWF0aC5tYXgoMCxpLnN0YXJ0LWEpLGkuZW5kPU1hdGgubWluKG8sTWF0aC5jZWlsKHQrKHIrdGhpcy5fbWluQnVmZmVyUHgpL3RoaXMuX2l0ZW1TaXplKSl9ZWxzZXt2YXIgYz1pLmVuZCp0aGlzLl9pdGVtU2l6ZS0oZStyKTtpZihjPHRoaXMuX21pbkJ1ZmZlclB4JiZpLmVuZCE9byl7dmFyIGw9TWF0aC5jZWlsKCh0aGlzLl9tYXhCdWZmZXJQeC1jKS90aGlzLl9pdGVtU2l6ZSk7bD4wJiYoaS5lbmQ9TWF0aC5taW4obyxpLmVuZCtsKSxpLnN0YXJ0PU1hdGgubWF4KDAsTWF0aC5mbG9vcih0LXRoaXMuX21pbkJ1ZmZlclB4L3RoaXMuX2l0ZW1TaXplKSkpfX10aGlzLl92aWV3cG9ydC5zZXRSZW5kZXJlZFJhbmdlKGkpLHRoaXMuX3ZpZXdwb3J0LnNldFJlbmRlcmVkQ29udGVudE9mZnNldCh0aGlzLl9pdGVtU2l6ZSppLnN0YXJ0KSx0aGlzLl9zY3JvbGxlZEluZGV4Q2hhbmdlLm5leHQoTWF0aC5mbG9vcih0KSl9fSxlfSgpO2Z1bmN0aW9uIHF0KGUpe3JldHVybiBlLl9zY3JvbGxTdHJhdGVneX12YXIgSnQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5faXRlbVNpemU9MjAsdGhpcy5fbWluQnVmZmVyUHg9MTAwLHRoaXMuX21heEJ1ZmZlclB4PTIwMCx0aGlzLl9zY3JvbGxTdHJhdGVneT1uZXcgR3QodGhpcy5pdGVtU2l6ZSx0aGlzLm1pbkJ1ZmZlclB4LHRoaXMubWF4QnVmZmVyUHgpfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJpdGVtU2l6ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXRlbVNpemV9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9pdGVtU2l6ZT1mdChlKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJtaW5CdWZmZXJQeFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWluQnVmZmVyUHh9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9taW5CdWZmZXJQeD1mdChlKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJtYXhCdWZmZXJQeFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWF4QnVmZmVyUHh9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9tYXhCdWZmZXJQeD1mdChlKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5uZ09uQ2hhbmdlcz1mdW5jdGlvbigpe3RoaXMuX3Njcm9sbFN0cmF0ZWd5LnVwZGF0ZUl0ZW1BbmRCdWZmZXJTaXplKHRoaXMuaXRlbVNpemUsdGhpcy5taW5CdWZmZXJQeCx0aGlzLm1heEJ1ZmZlclB4KX0sZS5kZWNvcmF0b3JzPVt7dHlwZTp0LkRpcmVjdGl2ZSxhcmdzOlt7c2VsZWN0b3I6XCJjZGstdmlydHVhbC1zY3JvbGwtdmlld3BvcnRbaXRlbVNpemVdXCIscHJvdmlkZXJzOlt7cHJvdmlkZTpVdCx1c2VGYWN0b3J5OnF0LGRlcHM6W3QuZm9yd2FyZFJlZihmdW5jdGlvbigpe3JldHVybiBlfSldfV19XX1dLGUucHJvcERlY29yYXRvcnM9e2l0ZW1TaXplOlt7dHlwZTp0LklucHV0fV0sbWluQnVmZmVyUHg6W3t0eXBlOnQuSW5wdXR9XSxtYXhCdWZmZXJQeDpbe3R5cGU6dC5JbnB1dH1dfSxlfSgpLFF0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe3RoaXMuX25nWm9uZT1lLHRoaXMuX3BsYXRmb3JtPXQsdGhpcy5fc2Nyb2xsZWQ9bmV3IFAsdGhpcy5fZ2xvYmFsU3Vic2NyaXB0aW9uPW51bGwsdGhpcy5fc2Nyb2xsZWRDb3VudD0wLHRoaXMuc2Nyb2xsQ29udGFpbmVycz1uZXcgTWFwfXJldHVybiBlLnByb3RvdHlwZS5yZWdpc3Rlcj1mdW5jdGlvbihlKXt2YXIgdD10aGlzLG49ZS5lbGVtZW50U2Nyb2xsZWQoKS5zdWJzY3JpYmUoZnVuY3Rpb24oKXtyZXR1cm4gdC5fc2Nyb2xsZWQubmV4dChlKX0pO3RoaXMuc2Nyb2xsQ29udGFpbmVycy5zZXQoZSxuKX0sZS5wcm90b3R5cGUuZGVyZWdpc3Rlcj1mdW5jdGlvbihlKXt2YXIgdD10aGlzLnNjcm9sbENvbnRhaW5lcnMuZ2V0KGUpO3QmJih0LnVuc3Vic2NyaWJlKCksdGhpcy5zY3JvbGxDb250YWluZXJzLmRlbGV0ZShlKSl9LGUucHJvdG90eXBlLnNjcm9sbGVkPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIHZvaWQgMD09PWUmJihlPTIwKSx0aGlzLl9wbGF0Zm9ybS5pc0Jyb3dzZXI/RC5jcmVhdGUoZnVuY3Rpb24obil7dC5fZ2xvYmFsU3Vic2NyaXB0aW9ufHx0Ll9hZGRHbG9iYWxMaXN0ZW5lcigpO3ZhciBpPWU+MD90Ll9zY3JvbGxlZC5waXBlKHhlKGUpKS5zdWJzY3JpYmUobik6dC5fc2Nyb2xsZWQuc3Vic2NyaWJlKG4pO3JldHVybiB0Ll9zY3JvbGxlZENvdW50KyssZnVuY3Rpb24oKXtpLnVuc3Vic2NyaWJlKCksdC5fc2Nyb2xsZWRDb3VudC0tLHQuX3Njcm9sbGVkQ291bnR8fHQuX3JlbW92ZUdsb2JhbExpc3RlbmVyKCl9fSk6WCgpfSxlLnByb3RvdHlwZS5uZ09uRGVzdHJveT1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5fcmVtb3ZlR2xvYmFsTGlzdGVuZXIoKSx0aGlzLnNjcm9sbENvbnRhaW5lcnMuZm9yRWFjaChmdW5jdGlvbih0LG4pe3JldHVybiBlLmRlcmVnaXN0ZXIobil9KSx0aGlzLl9zY3JvbGxlZC5jb21wbGV0ZSgpfSxlLnByb3RvdHlwZS5hbmNlc3RvclNjcm9sbGVkPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5nZXRBbmNlc3RvclNjcm9sbENvbnRhaW5lcnMoZSk7cmV0dXJuIHRoaXMuc2Nyb2xsZWQodCkucGlwZShCZShmdW5jdGlvbihlKXtyZXR1cm4hZXx8bi5pbmRleE9mKGUpPi0xfSkpfSxlLnByb3RvdHlwZS5nZXRBbmNlc3RvclNjcm9sbENvbnRhaW5lcnM9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxuPVtdO3JldHVybiB0aGlzLnNjcm9sbENvbnRhaW5lcnMuZm9yRWFjaChmdW5jdGlvbihpLHIpe3QuX3Njcm9sbGFibGVDb250YWluc0VsZW1lbnQocixlKSYmbi5wdXNoKHIpfSksbn0sZS5wcm90b3R5cGUuX3Njcm9sbGFibGVDb250YWluc0VsZW1lbnQ9ZnVuY3Rpb24oZSx0KXt2YXIgbj10Lm5hdGl2ZUVsZW1lbnQsaT1lLmdldEVsZW1lbnRSZWYoKS5uYXRpdmVFbGVtZW50O2Rve2lmKG49PWkpcmV0dXJuITB9d2hpbGUobj1uLnBhcmVudEVsZW1lbnQpO3JldHVybiExfSxlLnByb3RvdHlwZS5fYWRkR2xvYmFsTGlzdGVuZXI9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuX2dsb2JhbFN1YnNjcmlwdGlvbj10aGlzLl9uZ1pvbmUucnVuT3V0c2lkZUFuZ3VsYXIoZnVuY3Rpb24oKXtyZXR1cm4gQ2Uod2luZG93LmRvY3VtZW50LFwic2Nyb2xsXCIpLnN1YnNjcmliZShmdW5jdGlvbigpe3JldHVybiBlLl9zY3JvbGxlZC5uZXh0KCl9KX0pfSxlLnByb3RvdHlwZS5fcmVtb3ZlR2xvYmFsTGlzdGVuZXI9ZnVuY3Rpb24oKXt0aGlzLl9nbG9iYWxTdWJzY3JpcHRpb24mJih0aGlzLl9nbG9iYWxTdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKSx0aGlzLl9nbG9iYWxTdWJzY3JpcHRpb249bnVsbCl9LGUuZGVjb3JhdG9ycz1be3R5cGU6dC5JbmplY3RhYmxlLGFyZ3M6W3twcm92aWRlZEluOlwicm9vdFwifV19XSxlLmN0b3JQYXJhbWV0ZXJzPWZ1bmN0aW9uKCl7cmV0dXJuW3t0eXBlOnQuTmdab25lfSx7dHlwZTphdH1dfSxlLm5nSW5qZWN0YWJsZURlZj10LmRlZmluZUluamVjdGFibGUoe2ZhY3Rvcnk6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGUodC5pbmplY3QodC5OZ1pvbmUpLHQuaW5qZWN0KGF0KSl9LHRva2VuOmUscHJvdmlkZWRJbjpcInJvb3RcIn0pLGV9KCk7bmV3IHQuT3B0aW9uYWwsbmV3IHQuU2tpcFNlbGYsdC5OZ1pvbmU7dmFyIGVuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQsbixpKXt2YXIgcj10aGlzO3RoaXMuZWxlbWVudFJlZj1lLHRoaXMuc2Nyb2xsRGlzcGF0Y2hlcj10LHRoaXMubmdab25lPW4sdGhpcy5kaXI9aSx0aGlzLl9kZXN0cm95ZWQ9bmV3IFAsdGhpcy5fZWxlbWVudFNjcm9sbGVkPUQuY3JlYXRlKGZ1bmN0aW9uKGUpe3JldHVybiByLm5nWm9uZS5ydW5PdXRzaWRlQW5ndWxhcihmdW5jdGlvbigpe3JldHVybiBDZShyLmVsZW1lbnRSZWYubmF0aXZlRWxlbWVudCxcInNjcm9sbFwiKS5waXBlKFFlKHIuX2Rlc3Ryb3llZCkpLnN1YnNjcmliZShlKX0pfSl9cmV0dXJuIGUucHJvdG90eXBlLm5nT25Jbml0PWZ1bmN0aW9uKCl7dGhpcy5zY3JvbGxEaXNwYXRjaGVyLnJlZ2lzdGVyKHRoaXMpfSxlLnByb3RvdHlwZS5uZ09uRGVzdHJveT1mdW5jdGlvbigpe3RoaXMuc2Nyb2xsRGlzcGF0Y2hlci5kZXJlZ2lzdGVyKHRoaXMpLHRoaXMuX2Rlc3Ryb3llZC5uZXh0KCksdGhpcy5fZGVzdHJveWVkLmNvbXBsZXRlKCl9LGUucHJvdG90eXBlLmVsZW1lbnRTY3JvbGxlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9lbGVtZW50U2Nyb2xsZWR9LGUucHJvdG90eXBlLmdldEVsZW1lbnRSZWY9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50UmVmfSxlLnByb3RvdHlwZS5zY3JvbGxUbz1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmVsZW1lbnRSZWYubmF0aXZlRWxlbWVudCxuPXRoaXMuZGlyJiZcInJ0bFwiPT10aGlzLmRpci52YWx1ZTtlLmxlZnQ9bnVsbD09ZS5sZWZ0P24/ZS5lbmQ6ZS5zdGFydDplLmxlZnQsZS5yaWdodD1udWxsPT1lLnJpZ2h0P24/ZS5zdGFydDplLmVuZDplLnJpZ2h0LG51bGwhPWUuYm90dG9tJiYoZS50b3A9dC5zY3JvbGxIZWlnaHQtdC5jbGllbnRIZWlnaHQtZS5ib3R0b20pLG4mJmh0KCkhPXB0Lk5PUk1BTD8obnVsbCE9ZS5sZWZ0JiYoZS5yaWdodD10LnNjcm9sbFdpZHRoLXQuY2xpZW50V2lkdGgtZS5sZWZ0KSxodCgpPT1wdC5JTlZFUlRFRD9lLmxlZnQ9ZS5yaWdodDpodCgpPT1wdC5ORUdBVEVEJiYoZS5sZWZ0PWUucmlnaHQ/LWUucmlnaHQ6ZS5yaWdodCkpOm51bGwhPWUucmlnaHQmJihlLmxlZnQ9dC5zY3JvbGxXaWR0aC10LmNsaWVudFdpZHRoLWUucmlnaHQpLHRoaXMuX2FwcGx5U2Nyb2xsVG9PcHRpb25zKGUpfSxlLnByb3RvdHlwZS5fYXBwbHlTY3JvbGxUb09wdGlvbnM9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5lbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnQ7XCJvYmplY3RcIj09dHlwZW9mIGRvY3VtZW50JiZcInNjcm9sbEJlaGF2aW9yXCJpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGU/dC5zY3JvbGxUbyhlKToobnVsbCE9ZS50b3AmJih0LnNjcm9sbFRvcD1lLnRvcCksbnVsbCE9ZS5sZWZ0JiYodC5zY3JvbGxMZWZ0PWUubGVmdCkpfSxlLnByb3RvdHlwZS5tZWFzdXJlU2Nyb2xsT2Zmc2V0PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50O2lmKFwidG9wXCI9PWUpcmV0dXJuIHQuc2Nyb2xsVG9wO2lmKFwiYm90dG9tXCI9PWUpcmV0dXJuIHQuc2Nyb2xsSGVpZ2h0LXQuY2xpZW50SGVpZ2h0LXQuc2Nyb2xsVG9wO3ZhciBuPXRoaXMuZGlyJiZcInJ0bFwiPT10aGlzLmRpci52YWx1ZTtyZXR1cm5cInN0YXJ0XCI9PWU/ZT1uP1wicmlnaHRcIjpcImxlZnRcIjpcImVuZFwiPT1lJiYoZT1uP1wibGVmdFwiOlwicmlnaHRcIiksbiYmaHQoKT09cHQuSU5WRVJURUQ/XCJsZWZ0XCI9PWU/dC5zY3JvbGxXaWR0aC10LmNsaWVudFdpZHRoLXQuc2Nyb2xsTGVmdDp0LnNjcm9sbExlZnQ6biYmaHQoKT09cHQuTkVHQVRFRD9cImxlZnRcIj09ZT90LnNjcm9sbExlZnQrdC5zY3JvbGxXaWR0aC10LmNsaWVudFdpZHRoOi10LnNjcm9sbExlZnQ6XCJsZWZ0XCI9PWU/dC5zY3JvbGxMZWZ0OnQuc2Nyb2xsV2lkdGgtdC5jbGllbnRXaWR0aC10LnNjcm9sbExlZnR9LGUuZGVjb3JhdG9ycz1be3R5cGU6dC5EaXJlY3RpdmUsYXJnczpbe3NlbGVjdG9yOlwiW2Nkay1zY3JvbGxhYmxlXSwgW2Nka1Njcm9sbGFibGVdXCJ9XX1dLGUuY3RvclBhcmFtZXRlcnM9ZnVuY3Rpb24oKXtyZXR1cm5be3R5cGU6dC5FbGVtZW50UmVmfSx7dHlwZTpRdH0se3R5cGU6dC5OZ1pvbmV9LHt0eXBlOld0LGRlY29yYXRvcnM6W3t0eXBlOnQuT3B0aW9uYWx9XX1dfSxlfSgpO3ZhciB0bj1mdW5jdGlvbihlKXtmdW5jdGlvbiBuKHQsbixpLHIsbyxzKXt2YXIgYT1lLmNhbGwodGhpcyx0LHMsaSxvKXx8dGhpcztpZihhLmVsZW1lbnRSZWY9dCxhLl9jaGFuZ2VEZXRlY3RvclJlZj1uLGEuX3Njcm9sbFN0cmF0ZWd5PXIsYS5fZGV0YWNoZWRTdWJqZWN0PW5ldyBQLGEuX3JlbmRlcmVkUmFuZ2VTdWJqZWN0PW5ldyBQLGEub3JpZW50YXRpb249XCJ2ZXJ0aWNhbFwiLGEuc2Nyb2xsZWRJbmRleENoYW5nZT1ELmNyZWF0ZShmdW5jdGlvbihlKXtyZXR1cm4gYS5fc2Nyb2xsU3RyYXRlZ3kuc2Nyb2xsZWRJbmRleENoYW5nZS5zdWJzY3JpYmUoZnVuY3Rpb24odCl7cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gYS5uZ1pvbmUucnVuKGZ1bmN0aW9uKCl7cmV0dXJuIGUubmV4dCh0KX0pfSl9KX0pLGEucmVuZGVyZWRSYW5nZVN0cmVhbT1hLl9yZW5kZXJlZFJhbmdlU3ViamVjdC5hc09ic2VydmFibGUoKSxhLl90b3RhbENvbnRlbnRTaXplVHJhbnNmb3JtPVwiXCIsYS5fdG90YWxDb250ZW50U2l6ZT0wLGEuX3JlbmRlcmVkUmFuZ2U9e3N0YXJ0OjAsZW5kOjB9LGEuX2RhdGFMZW5ndGg9MCxhLl92aWV3cG9ydFNpemU9MCxhLl9yZW5kZXJlZENvbnRlbnRPZmZzZXQ9MCxhLl9yZW5kZXJlZENvbnRlbnRPZmZzZXROZWVkc1Jld3JpdGU9ITEsYS5faXNDaGFuZ2VEZXRlY3Rpb25QZW5kaW5nPSExLGEuX3J1bkFmdGVyQ2hhbmdlRGV0ZWN0aW9uPVtdLCFyKXRocm93IEVycm9yKCdFcnJvcjogY2RrLXZpcnR1YWwtc2Nyb2xsLXZpZXdwb3J0IHJlcXVpcmVzIHRoZSBcIml0ZW1TaXplXCIgcHJvcGVydHkgdG8gYmUgc2V0LicpO3JldHVybiBhfXJldHVybiBpdChuLGUpLG4ucHJvdG90eXBlLm5nT25Jbml0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztlLnByb3RvdHlwZS5uZ09uSW5pdC5jYWxsKHRoaXMpLHRoaXMubmdab25lLnJ1bk91dHNpZGVBbmd1bGFyKGZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oZnVuY3Rpb24oKXt0Ll9tZWFzdXJlVmlld3BvcnRTaXplKCksdC5fc2Nyb2xsU3RyYXRlZ3kuYXR0YWNoKHQpLHQuZWxlbWVudFNjcm9sbGVkKCkucGlwZShHZShudWxsKSx4ZSgwLHRlKSkuc3Vic2NyaWJlKGZ1bmN0aW9uKCl7cmV0dXJuIHQuX3Njcm9sbFN0cmF0ZWd5Lm9uQ29udGVudFNjcm9sbGVkKCl9KSx0Ll9tYXJrQ2hhbmdlRGV0ZWN0aW9uTmVlZGVkKCl9KX0pfSxuLnByb3RvdHlwZS5uZ09uRGVzdHJveT1mdW5jdGlvbigpe3RoaXMuZGV0YWNoKCksdGhpcy5fc2Nyb2xsU3RyYXRlZ3kuZGV0YWNoKCksdGhpcy5fcmVuZGVyZWRSYW5nZVN1YmplY3QuY29tcGxldGUoKSx0aGlzLl9kZXRhY2hlZFN1YmplY3QuY29tcGxldGUoKSxlLnByb3RvdHlwZS5uZ09uRGVzdHJveS5jYWxsKHRoaXMpfSxuLnByb3RvdHlwZS5hdHRhY2g9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZih0aGlzLl9mb3JPZil0aHJvdyBFcnJvcihcIkNka1ZpcnR1YWxTY3JvbGxWaWV3cG9ydCBpcyBhbHJlYWR5IGF0dGFjaGVkLlwiKTt0aGlzLm5nWm9uZS5ydW5PdXRzaWRlQW5ndWxhcihmdW5jdGlvbigpe3QuX2Zvck9mPWUsdC5fZm9yT2YuZGF0YVN0cmVhbS5waXBlKFFlKHQuX2RldGFjaGVkU3ViamVjdCkpLnN1YnNjcmliZShmdW5jdGlvbihlKXt2YXIgbj1lLmxlbmd0aDtuIT09dC5fZGF0YUxlbmd0aCYmKHQuX2RhdGFMZW5ndGg9bix0Ll9zY3JvbGxTdHJhdGVneS5vbkRhdGFMZW5ndGhDaGFuZ2VkKCkpLHQuX2RvQ2hhbmdlRGV0ZWN0aW9uKCl9KX0pfSxuLnByb3RvdHlwZS5kZXRhY2g9ZnVuY3Rpb24oKXt0aGlzLl9mb3JPZj1udWxsLHRoaXMuX2RldGFjaGVkU3ViamVjdC5uZXh0KCl9LG4ucHJvdG90eXBlLmdldERhdGFMZW5ndGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGF0YUxlbmd0aH0sbi5wcm90b3R5cGUuZ2V0Vmlld3BvcnRTaXplPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ZpZXdwb3J0U2l6ZX0sbi5wcm90b3R5cGUuZ2V0UmVuZGVyZWRSYW5nZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZW5kZXJlZFJhbmdlfSxuLnByb3RvdHlwZS5zZXRUb3RhbENvbnRlbnRTaXplPWZ1bmN0aW9uKGUpe2lmKHRoaXMuX3RvdGFsQ29udGVudFNpemUhPT1lKXt0aGlzLl90b3RhbENvbnRlbnRTaXplPWU7dmFyIHQ9XCJob3Jpem9udGFsXCI9PXRoaXMub3JpZW50YXRpb24/XCJYXCI6XCJZXCI7dGhpcy5fdG90YWxDb250ZW50U2l6ZVRyYW5zZm9ybT1cInNjYWxlXCIrdCtcIihcIit0aGlzLl90b3RhbENvbnRlbnRTaXplK1wiKVwiLHRoaXMuX21hcmtDaGFuZ2VEZXRlY3Rpb25OZWVkZWQoKX19LG4ucHJvdG90eXBlLnNldFJlbmRlcmVkUmFuZ2U9ZnVuY3Rpb24oZSl7dmFyIHQsbixpPXRoaXM7dD10aGlzLl9yZW5kZXJlZFJhbmdlLG49ZSwodC5zdGFydCE9bi5zdGFydHx8dC5lbmQhPW4uZW5kKSYmKHRoaXMuX3JlbmRlcmVkUmFuZ2VTdWJqZWN0Lm5leHQodGhpcy5fcmVuZGVyZWRSYW5nZT1lKSx0aGlzLl9tYXJrQ2hhbmdlRGV0ZWN0aW9uTmVlZGVkKGZ1bmN0aW9uKCl7cmV0dXJuIGkuX3Njcm9sbFN0cmF0ZWd5Lm9uQ29udGVudFJlbmRlcmVkKCl9KSl9LG4ucHJvdG90eXBlLmdldE9mZnNldFRvUmVuZGVyZWRDb250ZW50U3RhcnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVuZGVyZWRDb250ZW50T2Zmc2V0TmVlZHNSZXdyaXRlP251bGw6dGhpcy5fcmVuZGVyZWRDb250ZW50T2Zmc2V0fSxuLnByb3RvdHlwZS5zZXRSZW5kZXJlZENvbnRlbnRPZmZzZXQ9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzO3ZvaWQgMD09PXQmJih0PVwidG8tc3RhcnRcIik7dmFyIGk9dGhpcy5kaXImJlwicnRsXCI9PXRoaXMuZGlyLnZhbHVlLHI9XCJob3Jpem9udGFsXCI9PXRoaXMub3JpZW50YXRpb24sbz1yP1wiWFwiOlwiWVwiLHM9XCJ0cmFuc2xhdGVcIitvK1wiKFwiK051bWJlcigociYmaT8tMToxKSplKStcInB4KVwiO3RoaXMuX3JlbmRlcmVkQ29udGVudE9mZnNldD1lLFwidG8tZW5kXCI9PT10JiYocys9XCIgdHJhbnNsYXRlXCIrbytcIigtMTAwJSlcIix0aGlzLl9yZW5kZXJlZENvbnRlbnRPZmZzZXROZWVkc1Jld3JpdGU9ITApLHRoaXMuX3JlbmRlcmVkQ29udGVudFRyYW5zZm9ybSE9cyYmKHRoaXMuX3JlbmRlcmVkQ29udGVudFRyYW5zZm9ybT1zLHRoaXMuX21hcmtDaGFuZ2VEZXRlY3Rpb25OZWVkZWQoZnVuY3Rpb24oKXtuLl9yZW5kZXJlZENvbnRlbnRPZmZzZXROZWVkc1Jld3JpdGU/KG4uX3JlbmRlcmVkQ29udGVudE9mZnNldC09bi5tZWFzdXJlUmVuZGVyZWRDb250ZW50U2l6ZSgpLG4uX3JlbmRlcmVkQ29udGVudE9mZnNldE5lZWRzUmV3cml0ZT0hMSxuLnNldFJlbmRlcmVkQ29udGVudE9mZnNldChuLl9yZW5kZXJlZENvbnRlbnRPZmZzZXQpKTpuLl9zY3JvbGxTdHJhdGVneS5vblJlbmRlcmVkT2Zmc2V0Q2hhbmdlZCgpfSkpfSxuLnByb3RvdHlwZS5zY3JvbGxUb09mZnNldD1mdW5jdGlvbihlLHQpe3ZvaWQgMD09PXQmJih0PVwiYXV0b1wiKTt2YXIgbj17YmVoYXZpb3I6dH07XCJob3Jpem9udGFsXCI9PT10aGlzLm9yaWVudGF0aW9uP24uc3RhcnQ9ZTpuLnRvcD1lLHRoaXMuc2Nyb2xsVG8obil9LG4ucHJvdG90eXBlLnNjcm9sbFRvSW5kZXg9ZnVuY3Rpb24oZSx0KXt2b2lkIDA9PT10JiYodD1cImF1dG9cIiksdGhpcy5fc2Nyb2xsU3RyYXRlZ3kuc2Nyb2xsVG9JbmRleChlLHQpfSxuLnByb3RvdHlwZS5tZWFzdXJlU2Nyb2xsT2Zmc2V0PWZ1bmN0aW9uKHQpe3JldHVybiBlLnByb3RvdHlwZS5tZWFzdXJlU2Nyb2xsT2Zmc2V0LmNhbGwodGhpcyx0fHwoXCJob3Jpem9udGFsXCI9PT10aGlzLm9yaWVudGF0aW9uP1wic3RhcnRcIjpcInRvcFwiKSl9LG4ucHJvdG90eXBlLm1lYXN1cmVSZW5kZXJlZENvbnRlbnRTaXplPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fY29udGVudFdyYXBwZXIubmF0aXZlRWxlbWVudDtyZXR1cm5cImhvcml6b250YWxcIj09PXRoaXMub3JpZW50YXRpb24/ZS5vZmZzZXRXaWR0aDplLm9mZnNldEhlaWdodH0sbi5wcm90b3R5cGUubWVhc3VyZVJhbmdlU2l6ZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fZm9yT2Y/dGhpcy5fZm9yT2YubWVhc3VyZVJhbmdlU2l6ZShlLHRoaXMub3JpZW50YXRpb24pOjB9LG4ucHJvdG90eXBlLmNoZWNrVmlld3BvcnRTaXplPWZ1bmN0aW9uKCl7dGhpcy5fbWVhc3VyZVZpZXdwb3J0U2l6ZSgpLHRoaXMuX3Njcm9sbFN0cmF0ZWd5Lm9uRGF0YUxlbmd0aENoYW5nZWQoKX0sbi5wcm90b3R5cGUuX21lYXN1cmVWaWV3cG9ydFNpemU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmVsZW1lbnRSZWYubmF0aXZlRWxlbWVudDt0aGlzLl92aWV3cG9ydFNpemU9XCJob3Jpem9udGFsXCI9PT10aGlzLm9yaWVudGF0aW9uP2UuY2xpZW50V2lkdGg6ZS5jbGllbnRIZWlnaHR9LG4ucHJvdG90eXBlLl9tYXJrQ2hhbmdlRGV0ZWN0aW9uTmVlZGVkPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7ZSYmdGhpcy5fcnVuQWZ0ZXJDaGFuZ2VEZXRlY3Rpb24ucHVzaChlKSx0aGlzLl9pc0NoYW5nZURldGVjdGlvblBlbmRpbmd8fCh0aGlzLl9pc0NoYW5nZURldGVjdGlvblBlbmRpbmc9ITAsdGhpcy5uZ1pvbmUucnVuT3V0c2lkZUFuZ3VsYXIoZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCkudGhlbihmdW5jdGlvbigpe3QuX2RvQ2hhbmdlRGV0ZWN0aW9uKCl9KX0pKX0sbi5wcm90b3R5cGUuX2RvQ2hhbmdlRGV0ZWN0aW9uPWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLl9pc0NoYW5nZURldGVjdGlvblBlbmRpbmc9ITEsdGhpcy5uZ1pvbmUucnVuKGZ1bmN0aW9uKCl7cmV0dXJuIGUuX2NoYW5nZURldGVjdG9yUmVmLm1hcmtGb3JDaGVjaygpfSksdGhpcy5fY29udGVudFdyYXBwZXIubmF0aXZlRWxlbWVudC5zdHlsZS50cmFuc2Zvcm09dGhpcy5fcmVuZGVyZWRDb250ZW50VHJhbnNmb3JtO3ZhciB0PXRoaXMuX3J1bkFmdGVyQ2hhbmdlRGV0ZWN0aW9uO3RoaXMuX3J1bkFmdGVyQ2hhbmdlRGV0ZWN0aW9uPVtdO2Zvcih2YXIgbj0wLGk9dDtuPGkubGVuZ3RoO24rKyl7KDAsaVtuXSkoKX19LG4uZGVjb3JhdG9ycz1be3R5cGU6dC5Db21wb25lbnQsYXJnczpbe3NlbGVjdG9yOlwiY2RrLXZpcnR1YWwtc2Nyb2xsLXZpZXdwb3J0XCIsdGVtcGxhdGU6JzxkaXYgI2NvbnRlbnRXcmFwcGVyIGNsYXNzPVwiY2RrLXZpcnR1YWwtc2Nyb2xsLWNvbnRlbnQtd3JhcHBlclwiPjxuZy1jb250ZW50PjwvbmctY29udGVudD48L2Rpdj48ZGl2IGNsYXNzPVwiY2RrLXZpcnR1YWwtc2Nyb2xsLXNwYWNlclwiIFtzdHlsZS50cmFuc2Zvcm1dPVwiX3RvdGFsQ29udGVudFNpemVUcmFuc2Zvcm1cIj48L2Rpdj4nLHN0eWxlczpbXCJjZGstdmlydHVhbC1zY3JvbGwtdmlld3BvcnR7ZGlzcGxheTpibG9jaztwb3NpdGlvbjpyZWxhdGl2ZTtvdmVyZmxvdzphdXRvO2NvbnRhaW46c3RyaWN0O3RyYW5zZm9ybTp0cmFuc2xhdGVaKDApO3dpbGwtY2hhbmdlOnNjcm9sbC1wb3NpdGlvbjstd2Via2l0LW92ZXJmbG93LXNjcm9sbGluZzp0b3VjaH0uY2RrLXZpcnR1YWwtc2Nyb2xsLWNvbnRlbnQtd3JhcHBlcntwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtsZWZ0OjA7Y29udGFpbjpjb250ZW50fVtkaXI9cnRsXSAuY2RrLXZpcnR1YWwtc2Nyb2xsLWNvbnRlbnQtd3JhcHBlcntyaWdodDowO2xlZnQ6YXV0b30uY2RrLXZpcnR1YWwtc2Nyb2xsLW9yaWVudGF0aW9uLWhvcml6b250YWwgLmNkay12aXJ0dWFsLXNjcm9sbC1jb250ZW50LXdyYXBwZXJ7bWluLWhlaWdodDoxMDAlfS5jZGstdmlydHVhbC1zY3JvbGwtb3JpZW50YXRpb24taG9yaXpvbnRhbCAuY2RrLXZpcnR1YWwtc2Nyb2xsLWNvbnRlbnQtd3JhcHBlcj5kbDpub3QoW2Nka1ZpcnR1YWxGb3JdKSwuY2RrLXZpcnR1YWwtc2Nyb2xsLW9yaWVudGF0aW9uLWhvcml6b250YWwgLmNkay12aXJ0dWFsLXNjcm9sbC1jb250ZW50LXdyYXBwZXI+b2w6bm90KFtjZGtWaXJ0dWFsRm9yXSksLmNkay12aXJ0dWFsLXNjcm9sbC1vcmllbnRhdGlvbi1ob3Jpem9udGFsIC5jZGstdmlydHVhbC1zY3JvbGwtY29udGVudC13cmFwcGVyPnRhYmxlOm5vdChbY2RrVmlydHVhbEZvcl0pLC5jZGstdmlydHVhbC1zY3JvbGwtb3JpZW50YXRpb24taG9yaXpvbnRhbCAuY2RrLXZpcnR1YWwtc2Nyb2xsLWNvbnRlbnQtd3JhcHBlcj51bDpub3QoW2Nka1ZpcnR1YWxGb3JdKXtwYWRkaW5nLWxlZnQ6MDtwYWRkaW5nLXJpZ2h0OjA7bWFyZ2luLWxlZnQ6MDttYXJnaW4tcmlnaHQ6MDtib3JkZXItbGVmdC13aWR0aDowO2JvcmRlci1yaWdodC13aWR0aDowO291dGxpbmU6MH0uY2RrLXZpcnR1YWwtc2Nyb2xsLW9yaWVudGF0aW9uLXZlcnRpY2FsIC5jZGstdmlydHVhbC1zY3JvbGwtY29udGVudC13cmFwcGVye21pbi13aWR0aDoxMDAlfS5jZGstdmlydHVhbC1zY3JvbGwtb3JpZW50YXRpb24tdmVydGljYWwgLmNkay12aXJ0dWFsLXNjcm9sbC1jb250ZW50LXdyYXBwZXI+ZGw6bm90KFtjZGtWaXJ0dWFsRm9yXSksLmNkay12aXJ0dWFsLXNjcm9sbC1vcmllbnRhdGlvbi12ZXJ0aWNhbCAuY2RrLXZpcnR1YWwtc2Nyb2xsLWNvbnRlbnQtd3JhcHBlcj5vbDpub3QoW2Nka1ZpcnR1YWxGb3JdKSwuY2RrLXZpcnR1YWwtc2Nyb2xsLW9yaWVudGF0aW9uLXZlcnRpY2FsIC5jZGstdmlydHVhbC1zY3JvbGwtY29udGVudC13cmFwcGVyPnRhYmxlOm5vdChbY2RrVmlydHVhbEZvcl0pLC5jZGstdmlydHVhbC1zY3JvbGwtb3JpZW50YXRpb24tdmVydGljYWwgLmNkay12aXJ0dWFsLXNjcm9sbC1jb250ZW50LXdyYXBwZXI+dWw6bm90KFtjZGtWaXJ0dWFsRm9yXSl7cGFkZGluZy10b3A6MDtwYWRkaW5nLWJvdHRvbTowO21hcmdpbi10b3A6MDttYXJnaW4tYm90dG9tOjA7Ym9yZGVyLXRvcC13aWR0aDowO2JvcmRlci1ib3R0b20td2lkdGg6MDtvdXRsaW5lOjB9LmNkay12aXJ0dWFsLXNjcm9sbC1zcGFjZXJ7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7bGVmdDowO2hlaWdodDoxcHg7d2lkdGg6MXB4O3RyYW5zZm9ybS1vcmlnaW46MCAwfVtkaXI9cnRsXSAuY2RrLXZpcnR1YWwtc2Nyb2xsLXNwYWNlcntyaWdodDowO2xlZnQ6YXV0bzt0cmFuc2Zvcm0tb3JpZ2luOjEwMCUgMH1cIl0saG9zdDp7Y2xhc3M6XCJjZGstdmlydHVhbC1zY3JvbGwtdmlld3BvcnRcIixcIltjbGFzcy5jZGstdmlydHVhbC1zY3JvbGwtb3JpZW50YXRpb24taG9yaXpvbnRhbF1cIjonb3JpZW50YXRpb24gPT09IFwiaG9yaXpvbnRhbFwiJyxcIltjbGFzcy5jZGstdmlydHVhbC1zY3JvbGwtb3JpZW50YXRpb24tdmVydGljYWxdXCI6J29yaWVudGF0aW9uID09PSBcInZlcnRpY2FsXCInfSxlbmNhcHN1bGF0aW9uOnQuVmlld0VuY2Fwc3VsYXRpb24uTm9uZSxjaGFuZ2VEZXRlY3Rpb246dC5DaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2h9XX1dLG4uY3RvclBhcmFtZXRlcnM9ZnVuY3Rpb24oKXtyZXR1cm5be3R5cGU6dC5FbGVtZW50UmVmfSx7dHlwZTp0LkNoYW5nZURldGVjdG9yUmVmfSx7dHlwZTp0Lk5nWm9uZX0se3R5cGU6dm9pZCAwLGRlY29yYXRvcnM6W3t0eXBlOnQuT3B0aW9uYWx9LHt0eXBlOnQuSW5qZWN0LGFyZ3M6W1V0XX1dfSx7dHlwZTpXdCxkZWNvcmF0b3JzOlt7dHlwZTp0Lk9wdGlvbmFsfV19LHt0eXBlOlF0fV19LG4ucHJvcERlY29yYXRvcnM9e29yaWVudGF0aW9uOlt7dHlwZTp0LklucHV0fV0sc2Nyb2xsZWRJbmRleENoYW5nZTpbe3R5cGU6dC5PdXRwdXR9XSxfY29udGVudFdyYXBwZXI6W3t0eXBlOnQuVmlld0NoaWxkLGFyZ3M6W1wiY29udGVudFdyYXBwZXJcIl19XX0sbn0oZW4pO2Z1bmN0aW9uIG5uKGUsdCl7dmFyIG49dDtpZighbi5nZXRCb3VuZGluZ0NsaWVudFJlY3QpcmV0dXJuIDA7dmFyIGk9bi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtyZXR1cm5cImhvcml6b250YWxcIj09ZT9pLndpZHRoOmkuaGVpZ2h0fXZhciBybj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0LG4saSxyKXt2YXIgbz10aGlzO3RoaXMuX3ZpZXdDb250YWluZXJSZWY9ZSx0aGlzLl90ZW1wbGF0ZT10LHRoaXMuX2RpZmZlcnM9bix0aGlzLl92aWV3cG9ydD1pLHRoaXMudmlld0NoYW5nZT1uZXcgUCx0aGlzLl9kYXRhU291cmNlQ2hhbmdlcz1uZXcgUCx0aGlzLmNka1ZpcnR1YWxGb3JUZW1wbGF0ZUNhY2hlU2l6ZT0yMCx0aGlzLmRhdGFTdHJlYW09dGhpcy5fZGF0YVNvdXJjZUNoYW5nZXMucGlwZShHZShudWxsKSxmdW5jdGlvbihlKXtyZXR1cm4gZS5saWZ0KG5ldyAkZSl9LGZ1bmN0aW9uIGUodCxuKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBuP2Z1bmN0aW9uKGkpe3JldHVybiBpLnBpcGUoZShmdW5jdGlvbihlLGkpe3JldHVybiB2ZSh0KGUsaSkpLnBpcGUoc2UoZnVuY3Rpb24odCxyKXtyZXR1cm4gbihlLHQsaSxyKX0pKX0pKX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUubGlmdChuZXcgcWUodCkpfX0oZnVuY3Rpb24oZSl7dmFyIHQ9ZVswXSxuPWVbMV07cmV0dXJuIG8uX2NoYW5nZURhdGFTb3VyY2UodCxuKX0pLFVlKDEpKSx0aGlzLl9kaWZmZXI9bnVsbCx0aGlzLl90ZW1wbGF0ZUNhY2hlPVtdLHRoaXMuX25lZWRzVXBkYXRlPSExLHRoaXMuX2Rlc3Ryb3llZD1uZXcgUCx0aGlzLmRhdGFTdHJlYW0uc3Vic2NyaWJlKGZ1bmN0aW9uKGUpe28uX2RhdGE9ZSxvLl9vblJlbmRlcmVkRGF0YUNoYW5nZSgpfSksdGhpcy5fdmlld3BvcnQucmVuZGVyZWRSYW5nZVN0cmVhbS5waXBlKFFlKHRoaXMuX2Rlc3Ryb3llZCkpLnN1YnNjcmliZShmdW5jdGlvbihlKXtvLl9yZW5kZXJlZFJhbmdlPWUsci5ydW4oZnVuY3Rpb24oKXtyZXR1cm4gby52aWV3Q2hhbmdlLm5leHQoby5fcmVuZGVyZWRSYW5nZSl9KSxvLl9vblJlbmRlcmVkRGF0YUNoYW5nZSgpfSksdGhpcy5fdmlld3BvcnQuYXR0YWNoKHRoaXMpfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJjZGtWaXJ0dWFsRm9yT2ZcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Nka1ZpcnR1YWxGb3JPZn0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2Nka1ZpcnR1YWxGb3JPZj1lO3ZhciB0PWUgaW5zdGFuY2VvZiAkdD9lOm5ldyBLdChlIGluc3RhbmNlb2YgRD9lOkFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGV8fFtdKSk7dGhpcy5fZGF0YVNvdXJjZUNoYW5nZXMubmV4dCh0KX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJjZGtWaXJ0dWFsRm9yVHJhY2tCeVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2RrVmlydHVhbEZvclRyYWNrQnl9LHNldDpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3RoaXMuX25lZWRzVXBkYXRlPSEwLHRoaXMuX2Nka1ZpcnR1YWxGb3JUcmFja0J5PWU/ZnVuY3Rpb24obixpKXtyZXR1cm4gZShuKyh0Ll9yZW5kZXJlZFJhbmdlP3QuX3JlbmRlcmVkUmFuZ2Uuc3RhcnQ6MCksaSl9OnZvaWQgMH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJjZGtWaXJ0dWFsRm9yVGVtcGxhdGVcIix7c2V0OmZ1bmN0aW9uKGUpe2UmJih0aGlzLl9uZWVkc1VwZGF0ZT0hMCx0aGlzLl90ZW1wbGF0ZT1lKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5tZWFzdXJlUmFuZ2VTaXplPWZ1bmN0aW9uKGUsdCl7aWYoZS5zdGFydD49ZS5lbmQpcmV0dXJuIDA7aWYoZS5zdGFydDx0aGlzLl9yZW5kZXJlZFJhbmdlLnN0YXJ0fHxlLmVuZD50aGlzLl9yZW5kZXJlZFJhbmdlLmVuZCl0aHJvdyBFcnJvcihcIkVycm9yOiBhdHRlbXB0ZWQgdG8gbWVhc3VyZSBhbiBpdGVtIHRoYXQgaXNuJ3QgcmVuZGVyZWQuXCIpO2Zvcih2YXIgbj1lLnN0YXJ0LXRoaXMuX3JlbmRlcmVkUmFuZ2Uuc3RhcnQsaT0wLHI9ZS5lbmQtZS5zdGFydDtyLS07KWZvcih2YXIgbz10aGlzLl92aWV3Q29udGFpbmVyUmVmLmdldChyK24pLHM9bz9vLnJvb3ROb2Rlcy5sZW5ndGg6MDtzLS07KWkrPW5uKHQsby5yb290Tm9kZXNbc10pO3JldHVybiBpfSxlLnByb3RvdHlwZS5uZ0RvQ2hlY2s9ZnVuY3Rpb24oKXtpZih0aGlzLl9kaWZmZXImJnRoaXMuX25lZWRzVXBkYXRlKXt2YXIgZT10aGlzLl9kaWZmZXIuZGlmZih0aGlzLl9yZW5kZXJlZEl0ZW1zKTtlP3RoaXMuX2FwcGx5Q2hhbmdlcyhlKTp0aGlzLl91cGRhdGVDb250ZXh0KCksdGhpcy5fbmVlZHNVcGRhdGU9ITF9fSxlLnByb3RvdHlwZS5uZ09uRGVzdHJveT1mdW5jdGlvbigpe3RoaXMuX3ZpZXdwb3J0LmRldGFjaCgpLHRoaXMuX2RhdGFTb3VyY2VDaGFuZ2VzLmNvbXBsZXRlKCksdGhpcy52aWV3Q2hhbmdlLmNvbXBsZXRlKCksdGhpcy5fZGVzdHJveWVkLm5leHQoKSx0aGlzLl9kZXN0cm95ZWQuY29tcGxldGUoKTtmb3IodmFyIGU9MCx0PXRoaXMuX3RlbXBsYXRlQ2FjaGU7ZTx0Lmxlbmd0aDtlKyspe3RbZV0uZGVzdHJveSgpfX0sZS5wcm90b3R5cGUuX29uUmVuZGVyZWREYXRhQ2hhbmdlPWZ1bmN0aW9uKCl7dGhpcy5fcmVuZGVyZWRSYW5nZSYmKHRoaXMuX3JlbmRlcmVkSXRlbXM9dGhpcy5fZGF0YS5zbGljZSh0aGlzLl9yZW5kZXJlZFJhbmdlLnN0YXJ0LHRoaXMuX3JlbmRlcmVkUmFuZ2UuZW5kKSx0aGlzLl9kaWZmZXJ8fCh0aGlzLl9kaWZmZXI9dGhpcy5fZGlmZmVycy5maW5kKHRoaXMuX3JlbmRlcmVkSXRlbXMpLmNyZWF0ZSh0aGlzLmNka1ZpcnR1YWxGb3JUcmFja0J5KSksdGhpcy5fbmVlZHNVcGRhdGU9ITApfSxlLnByb3RvdHlwZS5fY2hhbmdlRGF0YVNvdXJjZT1mdW5jdGlvbihlLHQpe3JldHVybiBlJiZlLmRpc2Nvbm5lY3QodGhpcyksdGhpcy5fbmVlZHNVcGRhdGU9ITAsdC5jb25uZWN0KHRoaXMpfSxlLnByb3RvdHlwZS5fdXBkYXRlQ29udGV4dD1mdW5jdGlvbigpe2Zvcih2YXIgZT10aGlzLl9kYXRhLmxlbmd0aCx0PXRoaXMuX3ZpZXdDb250YWluZXJSZWYubGVuZ3RoO3QtLTspe3ZhciBuPXRoaXMuX3ZpZXdDb250YWluZXJSZWYuZ2V0KHQpO24uY29udGV4dC5pbmRleD10aGlzLl9yZW5kZXJlZFJhbmdlLnN0YXJ0K3Qsbi5jb250ZXh0LmNvdW50PWUsdGhpcy5fdXBkYXRlQ29tcHV0ZWRDb250ZXh0UHJvcGVydGllcyhuLmNvbnRleHQpLG4uZGV0ZWN0Q2hhbmdlcygpfX0sZS5wcm90b3R5cGUuX2FwcGx5Q2hhbmdlcz1mdW5jdGlvbihlKXt2YXIgdD10aGlzO2UuZm9yRWFjaE9wZXJhdGlvbihmdW5jdGlvbihlLG4saSl7aWYobnVsbD09ZS5wcmV2aW91c0luZGV4KXt2YXIgcj10Ll9nZXRWaWV3Rm9yTmV3SXRlbSgpO3QuX3ZpZXdDb250YWluZXJSZWYuaW5zZXJ0KHIsaSksci5jb250ZXh0LiRpbXBsaWNpdD1lLml0ZW19ZWxzZSBpZihudWxsPT1pKXQuX2NhY2hlVmlldyh0Ll92aWV3Q29udGFpbmVyUmVmLmRldGFjaChuKSk7ZWxzZXtyPXQuX3ZpZXdDb250YWluZXJSZWYuZ2V0KG4pO3QuX3ZpZXdDb250YWluZXJSZWYubW92ZShyLGkpLHIuY29udGV4dC4kaW1wbGljaXQ9ZS5pdGVtfX0pLGUuZm9yRWFjaElkZW50aXR5Q2hhbmdlKGZ1bmN0aW9uKGUpe3QuX3ZpZXdDb250YWluZXJSZWYuZ2V0KGUuY3VycmVudEluZGV4KS5jb250ZXh0LiRpbXBsaWNpdD1lLml0ZW19KTtmb3IodmFyIG49dGhpcy5fZGF0YS5sZW5ndGgsaT10aGlzLl92aWV3Q29udGFpbmVyUmVmLmxlbmd0aDtpLS07KXt2YXIgcj10aGlzLl92aWV3Q29udGFpbmVyUmVmLmdldChpKTtyLmNvbnRleHQuaW5kZXg9dGhpcy5fcmVuZGVyZWRSYW5nZS5zdGFydCtpLHIuY29udGV4dC5jb3VudD1uLHRoaXMuX3VwZGF0ZUNvbXB1dGVkQ29udGV4dFByb3BlcnRpZXMoci5jb250ZXh0KX19LGUucHJvdG90eXBlLl9jYWNoZVZpZXc9ZnVuY3Rpb24oZSl7dGhpcy5fdGVtcGxhdGVDYWNoZS5sZW5ndGg8dGhpcy5jZGtWaXJ0dWFsRm9yVGVtcGxhdGVDYWNoZVNpemU/dGhpcy5fdGVtcGxhdGVDYWNoZS5wdXNoKGUpOmUuZGVzdHJveSgpfSxlLnByb3RvdHlwZS5fZ2V0Vmlld0Zvck5ld0l0ZW09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGVtcGxhdGVDYWNoZS5wb3AoKXx8dGhpcy5fdmlld0NvbnRhaW5lclJlZi5jcmVhdGVFbWJlZGRlZFZpZXcodGhpcy5fdGVtcGxhdGUseyRpbXBsaWNpdDpudWxsLGNka1ZpcnR1YWxGb3JPZjp0aGlzLl9jZGtWaXJ0dWFsRm9yT2YsaW5kZXg6LTEsY291bnQ6LTEsZmlyc3Q6ITEsbGFzdDohMSxvZGQ6ITEsZXZlbjohMX0pfSxlLnByb3RvdHlwZS5fdXBkYXRlQ29tcHV0ZWRDb250ZXh0UHJvcGVydGllcz1mdW5jdGlvbihlKXtlLmZpcnN0PTA9PT1lLmluZGV4LGUubGFzdD1lLmluZGV4PT09ZS5jb3VudC0xLGUuZXZlbj1lLmluZGV4JTI9PTAsZS5vZGQ9IWUuZXZlbn0sZS5kZWNvcmF0b3JzPVt7dHlwZTp0LkRpcmVjdGl2ZSxhcmdzOlt7c2VsZWN0b3I6XCJbY2RrVmlydHVhbEZvcl1bY2RrVmlydHVhbEZvck9mXVwifV19XSxlLmN0b3JQYXJhbWV0ZXJzPWZ1bmN0aW9uKCl7cmV0dXJuW3t0eXBlOnQuVmlld0NvbnRhaW5lclJlZn0se3R5cGU6dC5UZW1wbGF0ZVJlZn0se3R5cGU6dC5JdGVyYWJsZURpZmZlcnN9LHt0eXBlOnRuLGRlY29yYXRvcnM6W3t0eXBlOnQuU2tpcFNlbGZ9XX0se3R5cGU6dC5OZ1pvbmV9XX0sZS5wcm9wRGVjb3JhdG9ycz17Y2RrVmlydHVhbEZvck9mOlt7dHlwZTp0LklucHV0fV0sY2RrVmlydHVhbEZvclRyYWNrQnk6W3t0eXBlOnQuSW5wdXR9XSxjZGtWaXJ0dWFsRm9yVGVtcGxhdGU6W3t0eXBlOnQuSW5wdXR9XSxjZGtWaXJ0dWFsRm9yVGVtcGxhdGVDYWNoZVNpemU6W3t0eXBlOnQuSW5wdXR9XX0sZX0oKSxvbj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGUuZGVjb3JhdG9ycz1be3R5cGU6dC5OZ01vZHVsZSxhcmdzOlt7aW1wb3J0czpbWHQsY3RdLGV4cG9ydHM6W1h0LEp0LGVuLHJuLHRuXSxkZWNsYXJhdGlvbnM6W0p0LGVuLHJuLHRuXX1dfV0sZX0oKSxzbj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXt2YXIgbj10aGlzO3RoaXMuX3BsYXRmb3JtPWUsdC5ydW5PdXRzaWRlQW5ndWxhcihmdW5jdGlvbigpe24uX2NoYW5nZT1lLmlzQnJvd3Nlcj9TZShDZSh3aW5kb3csXCJyZXNpemVcIiksQ2Uod2luZG93LFwib3JpZW50YXRpb25jaGFuZ2VcIikpOlgoKSxuLl9pbnZhbGlkYXRlQ2FjaGU9bi5jaGFuZ2UoKS5zdWJzY3JpYmUoZnVuY3Rpb24oKXtyZXR1cm4gbi5fdXBkYXRlVmlld3BvcnRTaXplKCl9KX0pfXJldHVybiBlLnByb3RvdHlwZS5uZ09uRGVzdHJveT1mdW5jdGlvbigpe3RoaXMuX2ludmFsaWRhdGVDYWNoZS51bnN1YnNjcmliZSgpfSxlLnByb3RvdHlwZS5nZXRWaWV3cG9ydFNpemU9ZnVuY3Rpb24oKXt0aGlzLl92aWV3cG9ydFNpemV8fHRoaXMuX3VwZGF0ZVZpZXdwb3J0U2l6ZSgpO3ZhciBlPXt3aWR0aDp0aGlzLl92aWV3cG9ydFNpemUud2lkdGgsaGVpZ2h0OnRoaXMuX3ZpZXdwb3J0U2l6ZS5oZWlnaHR9O3JldHVybiB0aGlzLl9wbGF0Zm9ybS5pc0Jyb3dzZXJ8fCh0aGlzLl92aWV3cG9ydFNpemU9bnVsbCksZX0sZS5wcm90b3R5cGUuZ2V0Vmlld3BvcnRSZWN0PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRWaWV3cG9ydFNjcm9sbFBvc2l0aW9uKCksdD10aGlzLmdldFZpZXdwb3J0U2l6ZSgpLG49dC53aWR0aCxpPXQuaGVpZ2h0O3JldHVybnt0b3A6ZS50b3AsbGVmdDplLmxlZnQsYm90dG9tOmUudG9wK2kscmlnaHQ6ZS5sZWZ0K24saGVpZ2h0Omksd2lkdGg6bn19LGUucHJvdG90eXBlLmdldFZpZXdwb3J0U2Nyb2xsUG9zaXRpb249ZnVuY3Rpb24oKXtpZighdGhpcy5fcGxhdGZvcm0uaXNCcm93c2VyKXJldHVybnt0b3A6MCxsZWZ0OjB9O3ZhciBlPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudCx0PWUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7cmV0dXJue3RvcDotdC50b3B8fGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wfHx3aW5kb3cuc2Nyb2xsWXx8ZS5zY3JvbGxUb3B8fDAsbGVmdDotdC5sZWZ0fHxkb2N1bWVudC5ib2R5LnNjcm9sbExlZnR8fHdpbmRvdy5zY3JvbGxYfHxlLnNjcm9sbExlZnR8fDB9fSxlLnByb3RvdHlwZS5jaGFuZ2U9ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPTIwKSxlPjA/dGhpcy5fY2hhbmdlLnBpcGUoeGUoZSkpOnRoaXMuX2NoYW5nZX0sZS5wcm90b3R5cGUuX3VwZGF0ZVZpZXdwb3J0U2l6ZT1mdW5jdGlvbigpe3RoaXMuX3ZpZXdwb3J0U2l6ZT10aGlzLl9wbGF0Zm9ybS5pc0Jyb3dzZXI/e3dpZHRoOndpbmRvdy5pbm5lcldpZHRoLGhlaWdodDp3aW5kb3cuaW5uZXJIZWlnaHR9Ont3aWR0aDowLGhlaWdodDowfX0sZS5kZWNvcmF0b3JzPVt7dHlwZTp0LkluamVjdGFibGUsYXJnczpbe3Byb3ZpZGVkSW46XCJyb290XCJ9XX1dLGUuY3RvclBhcmFtZXRlcnM9ZnVuY3Rpb24oKXtyZXR1cm5be3R5cGU6YXR9LHt0eXBlOnQuTmdab25lfV19LGUubmdJbmplY3RhYmxlRGVmPXQuZGVmaW5lSW5qZWN0YWJsZSh7ZmFjdG9yeTpmdW5jdGlvbigpe3JldHVybiBuZXcgZSh0LmluamVjdChhdCksdC5pbmplY3QodC5OZ1pvbmUpKX0sdG9rZW46ZSxwcm92aWRlZEluOlwicm9vdFwifSksZX0oKTtuZXcgdC5PcHRpb25hbCxuZXcgdC5Ta2lwU2VsZix0Lk5nWm9uZTtmdW5jdGlvbiBhbigpe3Rocm93IEVycm9yKFwiSG9zdCBhbHJlYWR5IGhhcyBhIHBvcnRhbCBhdHRhY2hlZFwiKX12YXIgY249ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlLnByb3RvdHlwZS5hdHRhY2g9ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PWUmJmZ1bmN0aW9uKCl7dGhyb3cgRXJyb3IoXCJBdHRlbXB0aW5nIHRvIGF0dGFjaCBhIHBvcnRhbCB0byBhIG51bGwgUG9ydGFsT3V0bGV0XCIpfSgpLGUuaGFzQXR0YWNoZWQoKSYmYW4oKSx0aGlzLl9hdHRhY2hlZEhvc3Q9ZSxlLmF0dGFjaCh0aGlzKX0sZS5wcm90b3R5cGUuZGV0YWNoPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fYXR0YWNoZWRIb3N0O251bGw9PWU/ZnVuY3Rpb24oKXt0aHJvdyBFcnJvcihcIkF0dGVtcHRpbmcgdG8gZGV0YWNoIGEgcG9ydGFsIHRoYXQgaXMgbm90IGF0dGFjaGVkIHRvIGEgaG9zdFwiKX0oKToodGhpcy5fYXR0YWNoZWRIb3N0PW51bGwsZS5kZXRhY2goKSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImlzQXR0YWNoZWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPXRoaXMuX2F0dGFjaGVkSG9zdH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5zZXRBdHRhY2hlZEhvc3Q9ZnVuY3Rpb24oZSl7dGhpcy5fYXR0YWNoZWRIb3N0PWV9LGV9KCksbG49ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LG4saSxyKXt2YXIgbz1lLmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIG8uY29tcG9uZW50PXQsby52aWV3Q29udGFpbmVyUmVmPW4sby5pbmplY3Rvcj1pLG8uY29tcG9uZW50RmFjdG9yeVJlc29sdmVyPXIsb31yZXR1cm4gaXQodCxlKSx0fShjbiksdW49ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LG4saSl7dmFyIHI9ZS5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiByLnRlbXBsYXRlUmVmPXQsci52aWV3Q29udGFpbmVyUmVmPW4sci5jb250ZXh0PWkscn1yZXR1cm4gaXQodCxlKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJvcmlnaW5cIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGVtcGxhdGVSZWYuZWxlbWVudFJlZn0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5hdHRhY2g9ZnVuY3Rpb24odCxuKXtyZXR1cm4gdm9pZCAwPT09biYmKG49dGhpcy5jb250ZXh0KSx0aGlzLmNvbnRleHQ9bixlLnByb3RvdHlwZS5hdHRhY2guY2FsbCh0aGlzLHQpfSx0LnByb3RvdHlwZS5kZXRhY2g9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250ZXh0PXZvaWQgMCxlLnByb3RvdHlwZS5kZXRhY2guY2FsbCh0aGlzKX0sdH0oY24pLHBuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuX2lzRGlzcG9zZWQ9ITF9cmV0dXJuIGUucHJvdG90eXBlLmhhc0F0dGFjaGVkPWZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLl9hdHRhY2hlZFBvcnRhbH0sZS5wcm90b3R5cGUuYXR0YWNoPWZ1bmN0aW9uKGUpe3JldHVybiBlfHxmdW5jdGlvbigpe3Rocm93IEVycm9yKFwiTXVzdCBwcm92aWRlIGEgcG9ydGFsIHRvIGF0dGFjaFwiKX0oKSx0aGlzLmhhc0F0dGFjaGVkKCkmJmFuKCksdGhpcy5faXNEaXNwb3NlZCYmZnVuY3Rpb24oKXt0aHJvdyBFcnJvcihcIlRoaXMgUG9ydGFsT3V0bGV0IGhhcyBhbHJlYWR5IGJlZW4gZGlzcG9zZWRcIil9KCksZSBpbnN0YW5jZW9mIGxuPyh0aGlzLl9hdHRhY2hlZFBvcnRhbD1lLHRoaXMuYXR0YWNoQ29tcG9uZW50UG9ydGFsKGUpKTplIGluc3RhbmNlb2YgdW4/KHRoaXMuX2F0dGFjaGVkUG9ydGFsPWUsdGhpcy5hdHRhY2hUZW1wbGF0ZVBvcnRhbChlKSk6dm9pZCBmdW5jdGlvbigpe3Rocm93IEVycm9yKFwiQXR0ZW1wdGluZyB0byBhdHRhY2ggYW4gdW5rbm93biBQb3J0YWwgdHlwZS4gQmFzZVBvcnRhbE91dGxldCBhY2NlcHRzIGVpdGhlciBhIENvbXBvbmVudFBvcnRhbCBvciBhIFRlbXBsYXRlUG9ydGFsLlwiKX0oKX0sZS5wcm90b3R5cGUuZGV0YWNoPWZ1bmN0aW9uKCl7dGhpcy5fYXR0YWNoZWRQb3J0YWwmJih0aGlzLl9hdHRhY2hlZFBvcnRhbC5zZXRBdHRhY2hlZEhvc3QobnVsbCksdGhpcy5fYXR0YWNoZWRQb3J0YWw9bnVsbCksdGhpcy5faW52b2tlRGlzcG9zZUZuKCl9LGUucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLmhhc0F0dGFjaGVkKCkmJnRoaXMuZGV0YWNoKCksdGhpcy5faW52b2tlRGlzcG9zZUZuKCksdGhpcy5faXNEaXNwb3NlZD0hMH0sZS5wcm90b3R5cGUuc2V0RGlzcG9zZUZuPWZ1bmN0aW9uKGUpe3RoaXMuX2Rpc3Bvc2VGbj1lfSxlLnByb3RvdHlwZS5faW52b2tlRGlzcG9zZUZuPWZ1bmN0aW9uKCl7dGhpcy5fZGlzcG9zZUZuJiYodGhpcy5fZGlzcG9zZUZuKCksdGhpcy5fZGlzcG9zZUZuPW51bGwpfSxlfSgpLGhuPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCxuLGkscil7dmFyIG89ZS5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBvLm91dGxldEVsZW1lbnQ9dCxvLl9jb21wb25lbnRGYWN0b3J5UmVzb2x2ZXI9bixvLl9hcHBSZWY9aSxvLl9kZWZhdWx0SW5qZWN0b3I9cixvfXJldHVybiBpdCh0LGUpLHQucHJvdG90eXBlLmF0dGFjaENvbXBvbmVudFBvcnRhbD1mdW5jdGlvbihlKXt2YXIgdCxuPXRoaXMsaT0oZS5jb21wb25lbnRGYWN0b3J5UmVzb2x2ZXJ8fHRoaXMuX2NvbXBvbmVudEZhY3RvcnlSZXNvbHZlcikucmVzb2x2ZUNvbXBvbmVudEZhY3RvcnkoZS5jb21wb25lbnQpO3JldHVybiBlLnZpZXdDb250YWluZXJSZWY/KHQ9ZS52aWV3Q29udGFpbmVyUmVmLmNyZWF0ZUNvbXBvbmVudChpLGUudmlld0NvbnRhaW5lclJlZi5sZW5ndGgsZS5pbmplY3Rvcnx8ZS52aWV3Q29udGFpbmVyUmVmLmluamVjdG9yKSx0aGlzLnNldERpc3Bvc2VGbihmdW5jdGlvbigpe3JldHVybiB0LmRlc3Ryb3koKX0pKToodD1pLmNyZWF0ZShlLmluamVjdG9yfHx0aGlzLl9kZWZhdWx0SW5qZWN0b3IpLHRoaXMuX2FwcFJlZi5hdHRhY2hWaWV3KHQuaG9zdFZpZXcpLHRoaXMuc2V0RGlzcG9zZUZuKGZ1bmN0aW9uKCl7bi5fYXBwUmVmLmRldGFjaFZpZXcodC5ob3N0VmlldyksdC5kZXN0cm95KCl9KSksdGhpcy5vdXRsZXRFbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuX2dldENvbXBvbmVudFJvb3ROb2RlKHQpKSx0fSx0LnByb3RvdHlwZS5hdHRhY2hUZW1wbGF0ZVBvcnRhbD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLG49ZS52aWV3Q29udGFpbmVyUmVmLGk9bi5jcmVhdGVFbWJlZGRlZFZpZXcoZS50ZW1wbGF0ZVJlZixlLmNvbnRleHQpO3JldHVybiBpLmRldGVjdENoYW5nZXMoKSxpLnJvb3ROb2Rlcy5mb3JFYWNoKGZ1bmN0aW9uKGUpe3JldHVybiB0Lm91dGxldEVsZW1lbnQuYXBwZW5kQ2hpbGQoZSl9KSx0aGlzLnNldERpc3Bvc2VGbihmdW5jdGlvbigpe3ZhciBlPW4uaW5kZXhPZihpKTstMSE9PWUmJm4ucmVtb3ZlKGUpfSksaX0sdC5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe2UucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKSxudWxsIT10aGlzLm91dGxldEVsZW1lbnQucGFyZW50Tm9kZSYmdGhpcy5vdXRsZXRFbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5vdXRsZXRFbGVtZW50KX0sdC5wcm90b3R5cGUuX2dldENvbXBvbmVudFJvb3ROb2RlPWZ1bmN0aW9uKGUpe3JldHVybiBlLmhvc3RWaWV3LnJvb3ROb2Rlc1swXX0sdH0ocG4pLGRuPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIG4odCxuKXtyZXR1cm4gZS5jYWxsKHRoaXMsdCxuKXx8dGhpc31yZXR1cm4gaXQobixlKSxuLmRlY29yYXRvcnM9W3t0eXBlOnQuRGlyZWN0aXZlLGFyZ3M6W3tzZWxlY3RvcjpcIltjZGstcG9ydGFsXSwgW2Nka1BvcnRhbF0sIFtwb3J0YWxdXCIsZXhwb3J0QXM6XCJjZGtQb3J0YWxcIn1dfV0sbi5jdG9yUGFyYW1ldGVycz1mdW5jdGlvbigpe3JldHVyblt7dHlwZTp0LlRlbXBsYXRlUmVmfSx7dHlwZTp0LlZpZXdDb250YWluZXJSZWZ9XX0sbn0odW4pLGZuPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIG4obixpKXt2YXIgcj1lLmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIHIuX2NvbXBvbmVudEZhY3RvcnlSZXNvbHZlcj1uLHIuX3ZpZXdDb250YWluZXJSZWY9aSxyLl9pc0luaXRpYWxpemVkPSExLHIuYXR0YWNoZWQ9bmV3IHQuRXZlbnRFbWl0dGVyLHJ9cmV0dXJuIGl0KG4sZSksT2JqZWN0LmRlZmluZVByb3BlcnR5KG4ucHJvdG90eXBlLFwicG9ydGFsXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hdHRhY2hlZFBvcnRhbH0sc2V0OmZ1bmN0aW9uKHQpeyghdGhpcy5oYXNBdHRhY2hlZCgpfHx0fHx0aGlzLl9pc0luaXRpYWxpemVkKSYmKHRoaXMuaGFzQXR0YWNoZWQoKSYmZS5wcm90b3R5cGUuZGV0YWNoLmNhbGwodGhpcyksdCYmZS5wcm90b3R5cGUuYXR0YWNoLmNhbGwodGhpcyx0KSx0aGlzLl9hdHRhY2hlZFBvcnRhbD10KX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkobi5wcm90b3R5cGUsXCJhdHRhY2hlZFJlZlwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYXR0YWNoZWRSZWZ9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksbi5wcm90b3R5cGUubmdPbkluaXQ9ZnVuY3Rpb24oKXt0aGlzLl9pc0luaXRpYWxpemVkPSEwfSxuLnByb3RvdHlwZS5uZ09uRGVzdHJveT1mdW5jdGlvbigpe2UucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKSx0aGlzLl9hdHRhY2hlZFBvcnRhbD1udWxsLHRoaXMuX2F0dGFjaGVkUmVmPW51bGx9LG4ucHJvdG90eXBlLmF0dGFjaENvbXBvbmVudFBvcnRhbD1mdW5jdGlvbih0KXt0LnNldEF0dGFjaGVkSG9zdCh0aGlzKTt2YXIgbj1udWxsIT10LnZpZXdDb250YWluZXJSZWY/dC52aWV3Q29udGFpbmVyUmVmOnRoaXMuX3ZpZXdDb250YWluZXJSZWYsaT10aGlzLl9jb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIucmVzb2x2ZUNvbXBvbmVudEZhY3RvcnkodC5jb21wb25lbnQpLHI9bi5jcmVhdGVDb21wb25lbnQoaSxuLmxlbmd0aCx0LmluamVjdG9yfHxuLmluamVjdG9yKTtyZXR1cm4gZS5wcm90b3R5cGUuc2V0RGlzcG9zZUZuLmNhbGwodGhpcyxmdW5jdGlvbigpe3JldHVybiByLmRlc3Ryb3koKX0pLHRoaXMuX2F0dGFjaGVkUG9ydGFsPXQsdGhpcy5fYXR0YWNoZWRSZWY9cix0aGlzLmF0dGFjaGVkLmVtaXQocikscn0sbi5wcm90b3R5cGUuYXR0YWNoVGVtcGxhdGVQb3J0YWw9ZnVuY3Rpb24odCl7dmFyIG49dGhpczt0LnNldEF0dGFjaGVkSG9zdCh0aGlzKTt2YXIgaT10aGlzLl92aWV3Q29udGFpbmVyUmVmLmNyZWF0ZUVtYmVkZGVkVmlldyh0LnRlbXBsYXRlUmVmLHQuY29udGV4dCk7cmV0dXJuIGUucHJvdG90eXBlLnNldERpc3Bvc2VGbi5jYWxsKHRoaXMsZnVuY3Rpb24oKXtyZXR1cm4gbi5fdmlld0NvbnRhaW5lclJlZi5jbGVhcigpfSksdGhpcy5fYXR0YWNoZWRQb3J0YWw9dCx0aGlzLl9hdHRhY2hlZFJlZj1pLHRoaXMuYXR0YWNoZWQuZW1pdChpKSxpfSxuLmRlY29yYXRvcnM9W3t0eXBlOnQuRGlyZWN0aXZlLGFyZ3M6W3tzZWxlY3RvcjpcIltjZGtQb3J0YWxPdXRsZXRdLCBbY2RrUG9ydGFsSG9zdF0sIFtwb3J0YWxIb3N0XVwiLGV4cG9ydEFzOlwiY2RrUG9ydGFsT3V0bGV0LCBjZGtQb3J0YWxIb3N0XCIsaW5wdXRzOltcInBvcnRhbDogY2RrUG9ydGFsT3V0bGV0XCJdfV19XSxuLmN0b3JQYXJhbWV0ZXJzPWZ1bmN0aW9uKCl7cmV0dXJuW3t0eXBlOnQuQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyfSx7dHlwZTp0LlZpZXdDb250YWluZXJSZWZ9XX0sbi5wcm9wRGVjb3JhdG9ycz17YXR0YWNoZWQ6W3t0eXBlOnQuT3V0cHV0fV19LG59KHBuKSxtbj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGUuZGVjb3JhdG9ycz1be3R5cGU6dC5OZ01vZHVsZSxhcmdzOlt7ZXhwb3J0czpbZG4sZm5dLGRlY2xhcmF0aW9uczpbZG4sZm5dfV19XSxlfSgpLHluPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe3RoaXMuX3BhcmVudEluamVjdG9yPWUsdGhpcy5fY3VzdG9tVG9rZW5zPXR9cmV0dXJuIGUucHJvdG90eXBlLmdldD1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuX2N1c3RvbVRva2Vucy5nZXQoZSk7cmV0dXJuIHZvaWQgMCE9PW4/bjp0aGlzLl9wYXJlbnRJbmplY3Rvci5nZXQoZSx0KX0sZX0oKSxnbj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXt0aGlzLl92aWV3cG9ydFJ1bGVyPWUsdGhpcy5fcHJldmlvdXNIVE1MU3R5bGVzPXt0b3A6XCJcIixsZWZ0OlwiXCJ9LHRoaXMuX2lzRW5hYmxlZD0hMSx0aGlzLl9kb2N1bWVudD10fXJldHVybiBlLnByb3RvdHlwZS5hdHRhY2g9ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLmVuYWJsZT1mdW5jdGlvbigpe2lmKHRoaXMuX2NhbkJlRW5hYmxlZCgpKXt2YXIgZT10aGlzLl9kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7dGhpcy5fcHJldmlvdXNTY3JvbGxQb3NpdGlvbj10aGlzLl92aWV3cG9ydFJ1bGVyLmdldFZpZXdwb3J0U2Nyb2xsUG9zaXRpb24oKSx0aGlzLl9wcmV2aW91c0hUTUxTdHlsZXMubGVmdD1lLnN0eWxlLmxlZnR8fFwiXCIsdGhpcy5fcHJldmlvdXNIVE1MU3R5bGVzLnRvcD1lLnN0eWxlLnRvcHx8XCJcIixlLnN0eWxlLmxlZnQ9eXQoLXRoaXMuX3ByZXZpb3VzU2Nyb2xsUG9zaXRpb24ubGVmdCksZS5zdHlsZS50b3A9eXQoLXRoaXMuX3ByZXZpb3VzU2Nyb2xsUG9zaXRpb24udG9wKSxlLmNsYXNzTGlzdC5hZGQoXCJjZGstZ2xvYmFsLXNjcm9sbGJsb2NrXCIpLHRoaXMuX2lzRW5hYmxlZD0hMH19LGUucHJvdG90eXBlLmRpc2FibGU9ZnVuY3Rpb24oKXtpZih0aGlzLl9pc0VuYWJsZWQpe3ZhciBlPXRoaXMuX2RvY3VtZW50LmRvY3VtZW50RWxlbWVudCx0PXRoaXMuX2RvY3VtZW50LmJvZHksbj1lLnN0eWxlLGk9dC5zdHlsZSxyPW4uc2Nyb2xsQmVoYXZpb3J8fFwiXCIsbz1pLnNjcm9sbEJlaGF2aW9yfHxcIlwiO3RoaXMuX2lzRW5hYmxlZD0hMSxuLmxlZnQ9dGhpcy5fcHJldmlvdXNIVE1MU3R5bGVzLmxlZnQsbi50b3A9dGhpcy5fcHJldmlvdXNIVE1MU3R5bGVzLnRvcCxlLmNsYXNzTGlzdC5yZW1vdmUoXCJjZGstZ2xvYmFsLXNjcm9sbGJsb2NrXCIpLG4uc2Nyb2xsQmVoYXZpb3I9aS5zY3JvbGxCZWhhdmlvcj1cImF1dG9cIix3aW5kb3cuc2Nyb2xsKHRoaXMuX3ByZXZpb3VzU2Nyb2xsUG9zaXRpb24ubGVmdCx0aGlzLl9wcmV2aW91c1Njcm9sbFBvc2l0aW9uLnRvcCksbi5zY3JvbGxCZWhhdmlvcj1yLGkuc2Nyb2xsQmVoYXZpb3I9b319LGUucHJvdG90eXBlLl9jYW5CZUVuYWJsZWQ9ZnVuY3Rpb24oKXtpZih0aGlzLl9kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiY2RrLWdsb2JhbC1zY3JvbGxibG9ja1wiKXx8dGhpcy5faXNFbmFibGVkKXJldHVybiExO3ZhciBlPXRoaXMuX2RvY3VtZW50LmJvZHksdD10aGlzLl92aWV3cG9ydFJ1bGVyLmdldFZpZXdwb3J0U2l6ZSgpO3JldHVybiBlLnNjcm9sbEhlaWdodD50LmhlaWdodHx8ZS5zY3JvbGxXaWR0aD50LndpZHRofSxlfSgpO2Z1bmN0aW9uIGJuKCl7cmV0dXJuIEVycm9yKFwiU2Nyb2xsIHN0cmF0ZWd5IGhhcyBhbHJlYWR5IGJlZW4gYXR0YWNoZWQuXCIpfXZhciB2bj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0LG4saSl7dmFyIHI9dGhpczt0aGlzLl9zY3JvbGxEaXNwYXRjaGVyPWUsdGhpcy5fbmdab25lPXQsdGhpcy5fdmlld3BvcnRSdWxlcj1uLHRoaXMuX2NvbmZpZz1pLHRoaXMuX3Njcm9sbFN1YnNjcmlwdGlvbj1udWxsLHRoaXMuX2RldGFjaD1mdW5jdGlvbigpe3IuZGlzYWJsZSgpLHIuX292ZXJsYXlSZWYuaGFzQXR0YWNoZWQoKSYmci5fbmdab25lLnJ1bihmdW5jdGlvbigpe3JldHVybiByLl9vdmVybGF5UmVmLmRldGFjaCgpfSl9fXJldHVybiBlLnByb3RvdHlwZS5hdHRhY2g9ZnVuY3Rpb24oZSl7aWYodGhpcy5fb3ZlcmxheVJlZil0aHJvdyBibigpO3RoaXMuX292ZXJsYXlSZWY9ZX0sZS5wcm90b3R5cGUuZW5hYmxlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztpZighdGhpcy5fc2Nyb2xsU3Vic2NyaXB0aW9uKXt2YXIgdD10aGlzLl9zY3JvbGxEaXNwYXRjaGVyLnNjcm9sbGVkKDApO3RoaXMuX2NvbmZpZyYmdGhpcy5fY29uZmlnLnRocmVzaG9sZCYmdGhpcy5fY29uZmlnLnRocmVzaG9sZD4xPyh0aGlzLl9pbml0aWFsU2Nyb2xsUG9zaXRpb249dGhpcy5fdmlld3BvcnRSdWxlci5nZXRWaWV3cG9ydFNjcm9sbFBvc2l0aW9uKCkudG9wLHRoaXMuX3Njcm9sbFN1YnNjcmlwdGlvbj10LnN1YnNjcmliZShmdW5jdGlvbigpe3ZhciB0PWUuX3ZpZXdwb3J0UnVsZXIuZ2V0Vmlld3BvcnRTY3JvbGxQb3NpdGlvbigpLnRvcDtNYXRoLmFicyh0LWUuX2luaXRpYWxTY3JvbGxQb3NpdGlvbik+ZS5fY29uZmlnLnRocmVzaG9sZD9lLl9kZXRhY2goKTplLl9vdmVybGF5UmVmLnVwZGF0ZVBvc2l0aW9uKCl9KSk6dGhpcy5fc2Nyb2xsU3Vic2NyaXB0aW9uPXQuc3Vic2NyaWJlKHRoaXMuX2RldGFjaCl9fSxlLnByb3RvdHlwZS5kaXNhYmxlPWZ1bmN0aW9uKCl7dGhpcy5fc2Nyb2xsU3Vic2NyaXB0aW9uJiYodGhpcy5fc2Nyb2xsU3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCksdGhpcy5fc2Nyb2xsU3Vic2NyaXB0aW9uPW51bGwpfSxlfSgpLF9uPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZS5wcm90b3R5cGUuZW5hYmxlPWZ1bmN0aW9uKCl7fSxlLnByb3RvdHlwZS5kaXNhYmxlPWZ1bmN0aW9uKCl7fSxlLnByb3RvdHlwZS5hdHRhY2g9ZnVuY3Rpb24oKXt9LGV9KCk7ZnVuY3Rpb24gd24oZSx0KXtyZXR1cm4gdC5zb21lKGZ1bmN0aW9uKHQpe3ZhciBuPWUuYm90dG9tPHQudG9wLGk9ZS50b3A+dC5ib3R0b20scj1lLnJpZ2h0PHQubGVmdCxvPWUubGVmdD50LnJpZ2h0O3JldHVybiBufHxpfHxyfHxvfSl9ZnVuY3Rpb24gT24oZSx0KXtyZXR1cm4gdC5zb21lKGZ1bmN0aW9uKHQpe3ZhciBuPWUudG9wPHQudG9wLGk9ZS5ib3R0b20+dC5ib3R0b20scj1lLmxlZnQ8dC5sZWZ0LG89ZS5yaWdodD50LnJpZ2h0O3JldHVybiBufHxpfHxyfHxvfSl9dmFyIGtuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQsbixpKXt0aGlzLl9zY3JvbGxEaXNwYXRjaGVyPWUsdGhpcy5fdmlld3BvcnRSdWxlcj10LHRoaXMuX25nWm9uZT1uLHRoaXMuX2NvbmZpZz1pLHRoaXMuX3Njcm9sbFN1YnNjcmlwdGlvbj1udWxsfXJldHVybiBlLnByb3RvdHlwZS5hdHRhY2g9ZnVuY3Rpb24oZSl7aWYodGhpcy5fb3ZlcmxheVJlZil0aHJvdyBibigpO3RoaXMuX292ZXJsYXlSZWY9ZX0sZS5wcm90b3R5cGUuZW5hYmxlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztpZighdGhpcy5fc2Nyb2xsU3Vic2NyaXB0aW9uKXt2YXIgdD10aGlzLl9jb25maWc/dGhpcy5fY29uZmlnLnNjcm9sbFRocm90dGxlOjA7dGhpcy5fc2Nyb2xsU3Vic2NyaXB0aW9uPXRoaXMuX3Njcm9sbERpc3BhdGNoZXIuc2Nyb2xsZWQodCkuc3Vic2NyaWJlKGZ1bmN0aW9uKCl7aWYoZS5fb3ZlcmxheVJlZi51cGRhdGVQb3NpdGlvbigpLGUuX2NvbmZpZyYmZS5fY29uZmlnLmF1dG9DbG9zZSl7dmFyIHQ9ZS5fb3ZlcmxheVJlZi5vdmVybGF5RWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxuPWUuX3ZpZXdwb3J0UnVsZXIuZ2V0Vmlld3BvcnRTaXplKCksaT1uLndpZHRoLHI9bi5oZWlnaHQ7d24odCxbe3dpZHRoOmksaGVpZ2h0OnIsYm90dG9tOnIscmlnaHQ6aSx0b3A6MCxsZWZ0OjB9XSkmJihlLmRpc2FibGUoKSxlLl9uZ1pvbmUucnVuKGZ1bmN0aW9uKCl7cmV0dXJuIGUuX292ZXJsYXlSZWYuZGV0YWNoKCl9KSl9fSl9fSxlLnByb3RvdHlwZS5kaXNhYmxlPWZ1bmN0aW9uKCl7dGhpcy5fc2Nyb2xsU3Vic2NyaXB0aW9uJiYodGhpcy5fc2Nyb2xsU3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCksdGhpcy5fc2Nyb2xsU3Vic2NyaXB0aW9uPW51bGwpfSxlfSgpLENuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQsbixpKXt2YXIgcj10aGlzO3RoaXMuX3Njcm9sbERpc3BhdGNoZXI9ZSx0aGlzLl92aWV3cG9ydFJ1bGVyPXQsdGhpcy5fbmdab25lPW4sdGhpcy5ub29wPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBfbn0sdGhpcy5jbG9zZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IHZuKHIuX3Njcm9sbERpc3BhdGNoZXIsci5fbmdab25lLHIuX3ZpZXdwb3J0UnVsZXIsZSl9LHRoaXMuYmxvY2s9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGduKHIuX3ZpZXdwb3J0UnVsZXIsci5fZG9jdW1lbnQpfSx0aGlzLnJlcG9zaXRpb249ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBrbihyLl9zY3JvbGxEaXNwYXRjaGVyLHIuX3ZpZXdwb3J0UnVsZXIsci5fbmdab25lLGUpfSx0aGlzLl9kb2N1bWVudD1pfXJldHVybiBlLmRlY29yYXRvcnM9W3t0eXBlOnQuSW5qZWN0YWJsZSxhcmdzOlt7cHJvdmlkZWRJbjpcInJvb3RcIn1dfV0sZS5jdG9yUGFyYW1ldGVycz1mdW5jdGlvbigpe3JldHVyblt7dHlwZTpRdH0se3R5cGU6c259LHt0eXBlOnQuTmdab25lfSx7dHlwZTp2b2lkIDAsZGVjb3JhdG9yczpbe3R5cGU6dC5JbmplY3QsYXJnczpbbi5ET0NVTUVOVF19XX1dfSxlLm5nSW5qZWN0YWJsZURlZj10LmRlZmluZUluamVjdGFibGUoe2ZhY3Rvcnk6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGUodC5pbmplY3QoUXQpLHQuaW5qZWN0KHNuKSx0LmluamVjdCh0Lk5nWm9uZSksdC5pbmplY3Qobi5ET0NVTUVOVCkpfSx0b2tlbjplLHByb3ZpZGVkSW46XCJyb290XCJ9KSxlfSgpLFRuPWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dGhpcy5zY3JvbGxTdHJhdGVneT1uZXcgX24sdGhpcy5wYW5lbENsYXNzPVwiXCIsdGhpcy5oYXNCYWNrZHJvcD0hMSx0aGlzLmJhY2tkcm9wQ2xhc3M9XCJjZGstb3ZlcmxheS1kYXJrLWJhY2tkcm9wXCIsdGhpcy5kaXNwb3NlT25OYXZpZ2F0aW9uPSExLGUmJk9iamVjdC5rZXlzKGUpLmZvckVhY2goZnVuY3Rpb24obil7dmFyIGk9bjt2b2lkIDAhPT1lW2ldJiYodFtpXT1lW2ldKX0pfX0oKSxTbj1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlLHQsbixpLHIpe3RoaXMub2Zmc2V0WD1uLHRoaXMub2Zmc2V0WT1pLHRoaXMucGFuZWxDbGFzcz1yLHRoaXMub3JpZ2luWD1lLm9yaWdpblgsdGhpcy5vcmlnaW5ZPWUub3JpZ2luWSx0aGlzLm92ZXJsYXlYPXQub3ZlcmxheVgsdGhpcy5vdmVybGF5WT10Lm92ZXJsYXlZfX0oKSxEbj1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe319KCksSW49ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7dGhpcy5jb25uZWN0aW9uUGFpcj1lLHRoaXMuc2Nyb2xsYWJsZVZpZXdQcm9wZXJ0aWVzPXR9cmV0dXJuIGUuY3RvclBhcmFtZXRlcnM9ZnVuY3Rpb24oKXtyZXR1cm5be3R5cGU6U259LHt0eXBlOkRuLGRlY29yYXRvcnM6W3t0eXBlOnQuT3B0aW9uYWx9XX1dfSxlfSgpO2Z1bmN0aW9uIE1uKGUsdCl7aWYoXCJ0b3BcIiE9PXQmJlwiYm90dG9tXCIhPT10JiZcImNlbnRlclwiIT09dCl0aHJvdyBFcnJvcihcIkNvbm5lY3RlZFBvc2l0aW9uOiBJbnZhbGlkIFwiK2UrJyBcIicrdCsnXCIuIEV4cGVjdGVkIFwidG9wXCIsIFwiYm90dG9tXCIgb3IgXCJjZW50ZXJcIi4nKX1mdW5jdGlvbiBFbihlLHQpe2lmKFwic3RhcnRcIiE9PXQmJlwiZW5kXCIhPT10JiZcImNlbnRlclwiIT09dCl0aHJvdyBFcnJvcihcIkNvbm5lY3RlZFBvc2l0aW9uOiBJbnZhbGlkIFwiK2UrJyBcIicrdCsnXCIuIEV4cGVjdGVkIFwic3RhcnRcIiwgXCJlbmRcIiBvciBcImNlbnRlclwiLicpfXZhciB4bj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dmFyIHQ9dGhpczt0aGlzLl9hdHRhY2hlZE92ZXJsYXlzPVtdLHRoaXMuX2tleWRvd25MaXN0ZW5lcj1mdW5jdGlvbihlKXtmb3IodmFyIG49dC5fYXR0YWNoZWRPdmVybGF5cyxpPW4ubGVuZ3RoLTE7aT4tMTtpLS0paWYobltpXS5fa2V5ZG93bkV2ZW50U3Vic2NyaXB0aW9ucz4wKXtuW2ldLl9rZXlkb3duRXZlbnRzLm5leHQoZSk7YnJlYWt9fSx0aGlzLl9kb2N1bWVudD1lfXJldHVybiBlLnByb3RvdHlwZS5uZ09uRGVzdHJveT1mdW5jdGlvbigpe3RoaXMuX2RldGFjaCgpfSxlLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24oZSl7dGhpcy5yZW1vdmUoZSksdGhpcy5faXNBdHRhY2hlZHx8KHRoaXMuX2RvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIix0aGlzLl9rZXlkb3duTGlzdGVuZXIsITApLHRoaXMuX2lzQXR0YWNoZWQ9ITApLHRoaXMuX2F0dGFjaGVkT3ZlcmxheXMucHVzaChlKX0sZS5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2F0dGFjaGVkT3ZlcmxheXMuaW5kZXhPZihlKTt0Pi0xJiZ0aGlzLl9hdHRhY2hlZE92ZXJsYXlzLnNwbGljZSh0LDEpLDA9PT10aGlzLl9hdHRhY2hlZE92ZXJsYXlzLmxlbmd0aCYmdGhpcy5fZGV0YWNoKCl9LGUucHJvdG90eXBlLl9kZXRhY2g9ZnVuY3Rpb24oKXt0aGlzLl9pc0F0dGFjaGVkJiYodGhpcy5fZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLHRoaXMuX2tleWRvd25MaXN0ZW5lciwhMCksdGhpcy5faXNBdHRhY2hlZD0hMSl9LGUuZGVjb3JhdG9ycz1be3R5cGU6dC5JbmplY3RhYmxlLGFyZ3M6W3twcm92aWRlZEluOlwicm9vdFwifV19XSxlLmN0b3JQYXJhbWV0ZXJzPWZ1bmN0aW9uKCl7cmV0dXJuW3t0eXBlOnZvaWQgMCxkZWNvcmF0b3JzOlt7dHlwZTp0LkluamVjdCxhcmdzOltuLkRPQ1VNRU5UXX1dfV19LGUubmdJbmplY3RhYmxlRGVmPXQuZGVmaW5lSW5qZWN0YWJsZSh7ZmFjdG9yeTpmdW5jdGlvbigpe3JldHVybiBuZXcgZSh0LmluamVjdChuLkRPQ1VNRU5UKSl9LHRva2VuOmUscHJvdmlkZWRJbjpcInJvb3RcIn0pLGV9KCk7bmV3IHQuT3B0aW9uYWwsbmV3IHQuU2tpcFNlbGYsbi5ET0NVTUVOVDt2YXIgQW49ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMuX2RvY3VtZW50PWV9cmV0dXJuIGUucHJvdG90eXBlLm5nT25EZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5fY29udGFpbmVyRWxlbWVudCYmdGhpcy5fY29udGFpbmVyRWxlbWVudC5wYXJlbnROb2RlJiZ0aGlzLl9jb250YWluZXJFbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5fY29udGFpbmVyRWxlbWVudCl9LGUucHJvdG90eXBlLmdldENvbnRhaW5lckVsZW1lbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29udGFpbmVyRWxlbWVudHx8dGhpcy5fY3JlYXRlQ29udGFpbmVyKCksdGhpcy5fY29udGFpbmVyRWxlbWVudH0sZS5wcm90b3R5cGUuX2NyZWF0ZUNvbnRhaW5lcj1mdW5jdGlvbigpe3ZhciBlPXRoaXMuX2RvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7ZS5jbGFzc0xpc3QuYWRkKFwiY2RrLW92ZXJsYXktY29udGFpbmVyXCIpLHRoaXMuX2RvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZSksdGhpcy5fY29udGFpbmVyRWxlbWVudD1lfSxlLmRlY29yYXRvcnM9W3t0eXBlOnQuSW5qZWN0YWJsZSxhcmdzOlt7cHJvdmlkZWRJbjpcInJvb3RcIn1dfV0sZS5jdG9yUGFyYW1ldGVycz1mdW5jdGlvbigpe3JldHVyblt7dHlwZTp2b2lkIDAsZGVjb3JhdG9yczpbe3R5cGU6dC5JbmplY3QsYXJnczpbbi5ET0NVTUVOVF19XX1dfSxlLm5nSW5qZWN0YWJsZURlZj10LmRlZmluZUluamVjdGFibGUoe2ZhY3Rvcnk6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGUodC5pbmplY3Qobi5ET0NVTUVOVCkpfSx0b2tlbjplLHByb3ZpZGVkSW46XCJyb290XCJ9KSxlfSgpO25ldyB0Lk9wdGlvbmFsLG5ldyB0LlNraXBTZWxmLG4uRE9DVU1FTlQ7dmFyIFBuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQsbixpLHIsbyxzLGEpe3ZhciBjPXRoaXM7dGhpcy5fcG9ydGFsT3V0bGV0PWUsdGhpcy5faG9zdD10LHRoaXMuX3BhbmU9bix0aGlzLl9jb25maWc9aSx0aGlzLl9uZ1pvbmU9cix0aGlzLl9rZXlib2FyZERpc3BhdGNoZXI9byx0aGlzLl9kb2N1bWVudD1zLHRoaXMuX2xvY2F0aW9uPWEsdGhpcy5fYmFja2Ryb3BFbGVtZW50PW51bGwsdGhpcy5fYmFja2Ryb3BDbGljaz1uZXcgUCx0aGlzLl9hdHRhY2htZW50cz1uZXcgUCx0aGlzLl9kZXRhY2htZW50cz1uZXcgUCx0aGlzLl9sb2NhdGlvbkNoYW5nZXM9Xy5FTVBUWSx0aGlzLl9rZXlkb3duRXZlbnRzT2JzZXJ2YWJsZT1ELmNyZWF0ZShmdW5jdGlvbihlKXt2YXIgdD1jLl9rZXlkb3duRXZlbnRzLnN1YnNjcmliZShlKTtyZXR1cm4gYy5fa2V5ZG93bkV2ZW50U3Vic2NyaXB0aW9ucysrLGZ1bmN0aW9uKCl7dC51bnN1YnNjcmliZSgpLGMuX2tleWRvd25FdmVudFN1YnNjcmlwdGlvbnMtLX19KSx0aGlzLl9rZXlkb3duRXZlbnRzPW5ldyBQLHRoaXMuX2tleWRvd25FdmVudFN1YnNjcmlwdGlvbnM9MCxpLnNjcm9sbFN0cmF0ZWd5JiZpLnNjcm9sbFN0cmF0ZWd5LmF0dGFjaCh0aGlzKSx0aGlzLl9wb3NpdGlvblN0cmF0ZWd5PWkucG9zaXRpb25TdHJhdGVneX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwib3ZlcmxheUVsZW1lbnRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BhbmV9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiYmFja2Ryb3BFbGVtZW50XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9iYWNrZHJvcEVsZW1lbnR9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiaG9zdEVsZW1lbnRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2hvc3R9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuYXR0YWNoPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMsbj10aGlzLl9wb3J0YWxPdXRsZXQuYXR0YWNoKGUpO3JldHVybiB0aGlzLl9wb3NpdGlvblN0cmF0ZWd5JiZ0aGlzLl9wb3NpdGlvblN0cmF0ZWd5LmF0dGFjaCh0aGlzKSwhdGhpcy5faG9zdC5wYXJlbnRFbGVtZW50JiZ0aGlzLl9wcmV2aW91c0hvc3RQYXJlbnQmJnRoaXMuX3ByZXZpb3VzSG9zdFBhcmVudC5hcHBlbmRDaGlsZCh0aGlzLl9ob3N0KSx0aGlzLl91cGRhdGVTdGFja2luZ09yZGVyKCksdGhpcy5fdXBkYXRlRWxlbWVudFNpemUoKSx0aGlzLl91cGRhdGVFbGVtZW50RGlyZWN0aW9uKCksdGhpcy5fY29uZmlnLnNjcm9sbFN0cmF0ZWd5JiZ0aGlzLl9jb25maWcuc2Nyb2xsU3RyYXRlZ3kuZW5hYmxlKCksdGhpcy5fbmdab25lLm9uU3RhYmxlLmFzT2JzZXJ2YWJsZSgpLnBpcGUoV2UoMSkpLnN1YnNjcmliZShmdW5jdGlvbigpe3QuaGFzQXR0YWNoZWQoKSYmdC51cGRhdGVQb3NpdGlvbigpfSksdGhpcy5fdG9nZ2xlUG9pbnRlckV2ZW50cyghMCksdGhpcy5fY29uZmlnLmhhc0JhY2tkcm9wJiZ0aGlzLl9hdHRhY2hCYWNrZHJvcCgpLHRoaXMuX2NvbmZpZy5wYW5lbENsYXNzJiZ0aGlzLl90b2dnbGVDbGFzc2VzKHRoaXMuX3BhbmUsdGhpcy5fY29uZmlnLnBhbmVsQ2xhc3MsITApLHRoaXMuX2F0dGFjaG1lbnRzLm5leHQoKSx0aGlzLl9rZXlib2FyZERpc3BhdGNoZXIuYWRkKHRoaXMpLHRoaXMuX2NvbmZpZy5kaXNwb3NlT25OYXZpZ2F0aW9uJiZ0aGlzLl9sb2NhdGlvbiYmKHRoaXMuX2xvY2F0aW9uQ2hhbmdlcz10aGlzLl9sb2NhdGlvbi5zdWJzY3JpYmUoZnVuY3Rpb24oKXtyZXR1cm4gdC5kaXNwb3NlKCl9KSksbn0sZS5wcm90b3R5cGUuZGV0YWNoPWZ1bmN0aW9uKCl7aWYodGhpcy5oYXNBdHRhY2hlZCgpKXt0aGlzLmRldGFjaEJhY2tkcm9wKCksdGhpcy5fdG9nZ2xlUG9pbnRlckV2ZW50cyghMSksdGhpcy5fcG9zaXRpb25TdHJhdGVneSYmdGhpcy5fcG9zaXRpb25TdHJhdGVneS5kZXRhY2gmJnRoaXMuX3Bvc2l0aW9uU3RyYXRlZ3kuZGV0YWNoKCksdGhpcy5fY29uZmlnLnNjcm9sbFN0cmF0ZWd5JiZ0aGlzLl9jb25maWcuc2Nyb2xsU3RyYXRlZ3kuZGlzYWJsZSgpO3ZhciBlPXRoaXMuX3BvcnRhbE91dGxldC5kZXRhY2goKTtyZXR1cm4gdGhpcy5fZGV0YWNobWVudHMubmV4dCgpLHRoaXMuX2tleWJvYXJkRGlzcGF0Y2hlci5yZW1vdmUodGhpcyksdGhpcy5fZGV0YWNoQ29udGVudFdoZW5TdGFibGUoKSx0aGlzLl9sb2NhdGlvbkNoYW5nZXMudW5zdWJzY3JpYmUoKSxlfX0sZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMuaGFzQXR0YWNoZWQoKTt0aGlzLl9wb3NpdGlvblN0cmF0ZWd5JiZ0aGlzLl9wb3NpdGlvblN0cmF0ZWd5LmRpc3Bvc2UoKSx0aGlzLl9jb25maWcuc2Nyb2xsU3RyYXRlZ3kmJnRoaXMuX2NvbmZpZy5zY3JvbGxTdHJhdGVneS5kaXNhYmxlKCksdGhpcy5kZXRhY2hCYWNrZHJvcCgpLHRoaXMuX2xvY2F0aW9uQ2hhbmdlcy51bnN1YnNjcmliZSgpLHRoaXMuX2tleWJvYXJkRGlzcGF0Y2hlci5yZW1vdmUodGhpcyksdGhpcy5fcG9ydGFsT3V0bGV0LmRpc3Bvc2UoKSx0aGlzLl9hdHRhY2htZW50cy5jb21wbGV0ZSgpLHRoaXMuX2JhY2tkcm9wQ2xpY2suY29tcGxldGUoKSx0aGlzLl9rZXlkb3duRXZlbnRzLmNvbXBsZXRlKCksdGhpcy5faG9zdCYmdGhpcy5faG9zdC5wYXJlbnROb2RlJiYodGhpcy5faG9zdC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuX2hvc3QpLHRoaXMuX2hvc3Q9bnVsbCksdGhpcy5fcHJldmlvdXNIb3N0UGFyZW50PXRoaXMuX3BhbmU9bnVsbCxlJiZ0aGlzLl9kZXRhY2htZW50cy5uZXh0KCksdGhpcy5fZGV0YWNobWVudHMuY29tcGxldGUoKX0sZS5wcm90b3R5cGUuaGFzQXR0YWNoZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcG9ydGFsT3V0bGV0Lmhhc0F0dGFjaGVkKCl9LGUucHJvdG90eXBlLmJhY2tkcm9wQ2xpY2s9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYmFja2Ryb3BDbGljay5hc09ic2VydmFibGUoKX0sZS5wcm90b3R5cGUuYXR0YWNobWVudHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYXR0YWNobWVudHMuYXNPYnNlcnZhYmxlKCl9LGUucHJvdG90eXBlLmRldGFjaG1lbnRzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RldGFjaG1lbnRzLmFzT2JzZXJ2YWJsZSgpfSxlLnByb3RvdHlwZS5rZXlkb3duRXZlbnRzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2tleWRvd25FdmVudHNPYnNlcnZhYmxlfSxlLnByb3RvdHlwZS5nZXRDb25maWc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29uZmlnfSxlLnByb3RvdHlwZS51cGRhdGVQb3NpdGlvbj1mdW5jdGlvbigpe3RoaXMuX3Bvc2l0aW9uU3RyYXRlZ3kmJnRoaXMuX3Bvc2l0aW9uU3RyYXRlZ3kuYXBwbHkoKX0sZS5wcm90b3R5cGUudXBkYXRlUG9zaXRpb25TdHJhdGVneT1mdW5jdGlvbihlKXtlIT09dGhpcy5fcG9zaXRpb25TdHJhdGVneSYmKHRoaXMuX3Bvc2l0aW9uU3RyYXRlZ3kmJnRoaXMuX3Bvc2l0aW9uU3RyYXRlZ3kuZGlzcG9zZSgpLHRoaXMuX3Bvc2l0aW9uU3RyYXRlZ3k9ZSx0aGlzLmhhc0F0dGFjaGVkKCkmJihlLmF0dGFjaCh0aGlzKSx0aGlzLnVwZGF0ZVBvc2l0aW9uKCkpKX0sZS5wcm90b3R5cGUudXBkYXRlU2l6ZT1mdW5jdGlvbihlKXt0aGlzLl9jb25maWc9b3Qoe30sdGhpcy5fY29uZmlnLGUpLHRoaXMuX3VwZGF0ZUVsZW1lbnRTaXplKCl9LGUucHJvdG90eXBlLnNldERpcmVjdGlvbj1mdW5jdGlvbihlKXt0aGlzLl9jb25maWc9b3Qoe30sdGhpcy5fY29uZmlnLHtkaXJlY3Rpb246ZX0pLHRoaXMuX3VwZGF0ZUVsZW1lbnREaXJlY3Rpb24oKX0sZS5wcm90b3R5cGUuZ2V0RGlyZWN0aW9uPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fY29uZmlnLmRpcmVjdGlvbjtyZXR1cm4gZT9cInN0cmluZ1wiPT10eXBlb2YgZT9lOmUudmFsdWU6XCJsdHJcIn0sZS5wcm90b3R5cGUuX3VwZGF0ZUVsZW1lbnREaXJlY3Rpb249ZnVuY3Rpb24oKXt0aGlzLl9ob3N0LnNldEF0dHJpYnV0ZShcImRpclwiLHRoaXMuZ2V0RGlyZWN0aW9uKCkpfSxlLnByb3RvdHlwZS5fdXBkYXRlRWxlbWVudFNpemU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9wYW5lLnN0eWxlO2Uud2lkdGg9eXQodGhpcy5fY29uZmlnLndpZHRoKSxlLmhlaWdodD15dCh0aGlzLl9jb25maWcuaGVpZ2h0KSxlLm1pbldpZHRoPXl0KHRoaXMuX2NvbmZpZy5taW5XaWR0aCksZS5taW5IZWlnaHQ9eXQodGhpcy5fY29uZmlnLm1pbkhlaWdodCksZS5tYXhXaWR0aD15dCh0aGlzLl9jb25maWcubWF4V2lkdGgpLGUubWF4SGVpZ2h0PXl0KHRoaXMuX2NvbmZpZy5tYXhIZWlnaHQpfSxlLnByb3RvdHlwZS5fdG9nZ2xlUG9pbnRlckV2ZW50cz1mdW5jdGlvbihlKXt0aGlzLl9wYW5lLnN0eWxlLnBvaW50ZXJFdmVudHM9ZT9cImF1dG9cIjpcIm5vbmVcIn0sZS5wcm90b3R5cGUuX2F0dGFjaEJhY2tkcm9wPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PVwiY2RrLW92ZXJsYXktYmFja2Ryb3Atc2hvd2luZ1wiO3RoaXMuX2JhY2tkcm9wRWxlbWVudD10aGlzLl9kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHRoaXMuX2JhY2tkcm9wRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiY2RrLW92ZXJsYXktYmFja2Ryb3BcIiksdGhpcy5fY29uZmlnLmJhY2tkcm9wQ2xhc3MmJnRoaXMuX3RvZ2dsZUNsYXNzZXModGhpcy5fYmFja2Ryb3BFbGVtZW50LHRoaXMuX2NvbmZpZy5iYWNrZHJvcENsYXNzLCEwKSx0aGlzLl9ob3N0LnBhcmVudEVsZW1lbnQuaW5zZXJ0QmVmb3JlKHRoaXMuX2JhY2tkcm9wRWxlbWVudCx0aGlzLl9ob3N0KSx0aGlzLl9iYWNrZHJvcEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZnVuY3Rpb24odCl7cmV0dXJuIGUuX2JhY2tkcm9wQ2xpY2submV4dCh0KX0pLFwidW5kZWZpbmVkXCIhPXR5cGVvZiByZXF1ZXN0QW5pbWF0aW9uRnJhbWU/dGhpcy5fbmdab25lLnJ1bk91dHNpZGVBbmd1bGFyKGZ1bmN0aW9uKCl7cmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uKCl7ZS5fYmFja2Ryb3BFbGVtZW50JiZlLl9iYWNrZHJvcEVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0KX0pfSk6dGhpcy5fYmFja2Ryb3BFbGVtZW50LmNsYXNzTGlzdC5hZGQodCl9LGUucHJvdG90eXBlLl91cGRhdGVTdGFja2luZ09yZGVyPWZ1bmN0aW9uKCl7dGhpcy5faG9zdC5uZXh0U2libGluZyYmdGhpcy5faG9zdC5wYXJlbnROb2RlLmFwcGVuZENoaWxkKHRoaXMuX2hvc3QpfSxlLnByb3RvdHlwZS5kZXRhY2hCYWNrZHJvcD1mdW5jdGlvbigpe3ZhciBlPXRoaXMsdD10aGlzLl9iYWNrZHJvcEVsZW1lbnQ7aWYodCl7dmFyIG49dm9pZCAwLGk9ZnVuY3Rpb24oKXt0JiZ0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0KSxlLl9iYWNrZHJvcEVsZW1lbnQ9PXQmJihlLl9iYWNrZHJvcEVsZW1lbnQ9bnVsbCksY2xlYXJUaW1lb3V0KG4pfTt0LmNsYXNzTGlzdC5yZW1vdmUoXCJjZGstb3ZlcmxheS1iYWNrZHJvcC1zaG93aW5nXCIpLHRoaXMuX2NvbmZpZy5iYWNrZHJvcENsYXNzJiZ0aGlzLl90b2dnbGVDbGFzc2VzKHQsdGhpcy5fY29uZmlnLmJhY2tkcm9wQ2xhc3MsITEpLHRoaXMuX25nWm9uZS5ydW5PdXRzaWRlQW5ndWxhcihmdW5jdGlvbigpe3QuYWRkRXZlbnRMaXN0ZW5lcihcInRyYW5zaXRpb25lbmRcIixpKX0pLHQuc3R5bGUucG9pbnRlckV2ZW50cz1cIm5vbmVcIixuPXRoaXMuX25nWm9uZS5ydW5PdXRzaWRlQW5ndWxhcihmdW5jdGlvbigpe3JldHVybiBzZXRUaW1lb3V0KGksNTAwKX0pfX0sZS5wcm90b3R5cGUuX3RvZ2dsZUNsYXNzZXM9ZnVuY3Rpb24oZSx0LG4pe3ZhciBpPWUuY2xhc3NMaXN0O210KHQpLmZvckVhY2goZnVuY3Rpb24oZSl7bj9pLmFkZChlKTppLnJlbW92ZShlKX0pfSxlLnByb3RvdHlwZS5fZGV0YWNoQ29udGVudFdoZW5TdGFibGU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuX25nWm9uZS5ydW5PdXRzaWRlQW5ndWxhcihmdW5jdGlvbigpe3ZhciB0PWUuX25nWm9uZS5vblN0YWJsZS5hc09ic2VydmFibGUoKS5waXBlKFFlKFNlKGUuX2F0dGFjaG1lbnRzLGUuX2RldGFjaG1lbnRzKSkpLnN1YnNjcmliZShmdW5jdGlvbigpe2UuX3BhbmUmJmUuX2hvc3QmJjAhPT1lLl9wYW5lLmNoaWxkcmVuLmxlbmd0aHx8KGUuX3BhbmUmJmUuX2NvbmZpZy5wYW5lbENsYXNzJiZlLl90b2dnbGVDbGFzc2VzKGUuX3BhbmUsZS5fY29uZmlnLnBhbmVsQ2xhc3MsITEpLGUuX2hvc3QmJmUuX2hvc3QucGFyZW50RWxlbWVudCYmKGUuX3ByZXZpb3VzSG9zdFBhcmVudD1lLl9ob3N0LnBhcmVudEVsZW1lbnQsZS5fcHJldmlvdXNIb3N0UGFyZW50LnJlbW92ZUNoaWxkKGUuX2hvc3QpKSx0LnVuc3Vic2NyaWJlKCkpfSl9KX0sZX0oKSxqbj1cImNkay1vdmVybGF5LWNvbm5lY3RlZC1wb3NpdGlvbi1ib3VuZGluZy1ib3hcIixSbj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0LG4saSxyKXt2YXIgbz10aGlzO3RoaXMuX3ZpZXdwb3J0UnVsZXI9dCx0aGlzLl9kb2N1bWVudD1uLHRoaXMuX3BsYXRmb3JtPWksdGhpcy5fb3ZlcmxheUNvbnRhaW5lcj1yLHRoaXMuX2xhc3RCb3VuZGluZ0JveFNpemU9e3dpZHRoOjAsaGVpZ2h0OjB9LHRoaXMuX2lzUHVzaGVkPSExLHRoaXMuX2NhblB1c2g9ITAsdGhpcy5fZ3Jvd0FmdGVyT3Blbj0hMSx0aGlzLl9oYXNGbGV4aWJsZURpbWVuc2lvbnM9ITAsdGhpcy5fcG9zaXRpb25Mb2NrZWQ9ITEsdGhpcy5fdmlld3BvcnRNYXJnaW49MCx0aGlzLnNjcm9sbGFibGVzPVtdLHRoaXMuX3ByZWZlcnJlZFBvc2l0aW9ucz1bXSx0aGlzLl9wb3NpdGlvbkNoYW5nZXM9bmV3IFAsdGhpcy5fcmVzaXplU3Vic2NyaXB0aW9uPV8uRU1QVFksdGhpcy5fb2Zmc2V0WD0wLHRoaXMuX29mZnNldFk9MCx0aGlzLl9wb3NpdGlvbkNoYW5nZVN1YnNjcmlwdGlvbnM9MCx0aGlzLl9hcHBsaWVkUGFuZWxDbGFzc2VzPVtdLHRoaXMucG9zaXRpb25DaGFuZ2VzPUQuY3JlYXRlKGZ1bmN0aW9uKGUpe3ZhciB0PW8uX3Bvc2l0aW9uQ2hhbmdlcy5zdWJzY3JpYmUoZSk7cmV0dXJuIG8uX3Bvc2l0aW9uQ2hhbmdlU3Vic2NyaXB0aW9ucysrLGZ1bmN0aW9uKCl7dC51bnN1YnNjcmliZSgpLG8uX3Bvc2l0aW9uQ2hhbmdlU3Vic2NyaXB0aW9ucy0tfX0pLHRoaXMuc2V0T3JpZ2luKGUpfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJwb3NpdGlvbnNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ByZWZlcnJlZFBvc2l0aW9uc30sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5hdHRhY2g9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZih0aGlzLl9vdmVybGF5UmVmJiZlIT09dGhpcy5fb3ZlcmxheVJlZil0aHJvdyBFcnJvcihcIlRoaXMgcG9zaXRpb24gc3RyYXRlZ3kgaXMgYWxyZWFkeSBhdHRhY2hlZCB0byBhbiBvdmVybGF5XCIpO3RoaXMuX3ZhbGlkYXRlUG9zaXRpb25zKCksZS5ob3N0RWxlbWVudC5jbGFzc0xpc3QuYWRkKGpuKSx0aGlzLl9vdmVybGF5UmVmPWUsdGhpcy5fYm91bmRpbmdCb3g9ZS5ob3N0RWxlbWVudCx0aGlzLl9wYW5lPWUub3ZlcmxheUVsZW1lbnQsdGhpcy5faXNEaXNwb3NlZD0hMSx0aGlzLl9pc0luaXRpYWxSZW5kZXI9ITAsdGhpcy5fbGFzdFBvc2l0aW9uPW51bGwsdGhpcy5fcmVzaXplU3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCksdGhpcy5fcmVzaXplU3Vic2NyaXB0aW9uPXRoaXMuX3ZpZXdwb3J0UnVsZXIuY2hhbmdlKCkuc3Vic2NyaWJlKGZ1bmN0aW9uKCl7dC5faXNJbml0aWFsUmVuZGVyPSEwLHQuYXBwbHkoKX0pfSxlLnByb3RvdHlwZS5hcHBseT1mdW5jdGlvbigpe2lmKCEodGhpcy5faXNEaXNwb3NlZHx8dGhpcy5fcGxhdGZvcm0mJiF0aGlzLl9wbGF0Zm9ybS5pc0Jyb3dzZXIpKWlmKCF0aGlzLl9pc0luaXRpYWxSZW5kZXImJnRoaXMuX3Bvc2l0aW9uTG9ja2VkJiZ0aGlzLl9sYXN0UG9zaXRpb24pdGhpcy5yZWFwcGx5TGFzdFBvc2l0aW9uKCk7ZWxzZXt0aGlzLl9jbGVhclBhbmVsQ2xhc3NlcygpLHRoaXMuX3Jlc2V0T3ZlcmxheUVsZW1lbnRTdHlsZXMoKSx0aGlzLl9yZXNldEJvdW5kaW5nQm94U3R5bGVzKCksdGhpcy5fdmlld3BvcnRSZWN0PXRoaXMuX2dldE5hcnJvd2VkVmlld3BvcnRSZWN0KCksdGhpcy5fb3JpZ2luUmVjdD10aGlzLl9vcmlnaW4uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksdGhpcy5fb3ZlcmxheVJlY3Q9dGhpcy5fcGFuZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtmb3IodmFyIGUsdD10aGlzLl9vcmlnaW5SZWN0LG49dGhpcy5fb3ZlcmxheVJlY3QsaT10aGlzLl92aWV3cG9ydFJlY3Qscj1bXSxvPTAscz10aGlzLl9wcmVmZXJyZWRQb3NpdGlvbnM7bzxzLmxlbmd0aDtvKyspe3ZhciBhPXNbb10sYz10aGlzLl9nZXRPcmlnaW5Qb2ludCh0LGEpLGw9dGhpcy5fZ2V0T3ZlcmxheVBvaW50KGMsbixhKSx1PXRoaXMuX2dldE92ZXJsYXlGaXQobCxuLGksYSk7aWYodS5pc0NvbXBsZXRlbHlXaXRoaW5WaWV3cG9ydClyZXR1cm4gdGhpcy5faXNQdXNoZWQ9ITEsdm9pZCB0aGlzLl9hcHBseVBvc2l0aW9uKGEsYyk7dGhpcy5fY2FuRml0V2l0aEZsZXhpYmxlRGltZW5zaW9ucyh1LGwsaSk/ci5wdXNoKHtwb3NpdGlvbjphLG9yaWdpbjpjLG92ZXJsYXlSZWN0Om4sYm91bmRpbmdCb3hSZWN0OnRoaXMuX2NhbGN1bGF0ZUJvdW5kaW5nQm94UmVjdChjLGEpfSk6KCFlfHxlLm92ZXJsYXlGaXQudmlzaWJsZUFyZWE8dS52aXNpYmxlQXJlYSkmJihlPXtvdmVybGF5Rml0OnUsb3ZlcmxheVBvaW50Omwsb3JpZ2luUG9pbnQ6Yyxwb3NpdGlvbjphLG92ZXJsYXlSZWN0Om59KX1pZihyLmxlbmd0aCl7Zm9yKHZhciBwPW51bGwsaD0tMSxkPTAsZj1yO2Q8Zi5sZW5ndGg7ZCsrKXt2YXIgbT1mW2RdLHk9bS5ib3VuZGluZ0JveFJlY3Qud2lkdGgqbS5ib3VuZGluZ0JveFJlY3QuaGVpZ2h0KihtLnBvc2l0aW9uLndlaWdodHx8MSk7eT5oJiYoaD15LHA9bSl9cmV0dXJuIHRoaXMuX2lzUHVzaGVkPSExLHZvaWQgdGhpcy5fYXBwbHlQb3NpdGlvbihwLnBvc2l0aW9uLHAub3JpZ2luKX1pZih0aGlzLl9jYW5QdXNoKXJldHVybiB0aGlzLl9pc1B1c2hlZD0hMCx2b2lkIHRoaXMuX2FwcGx5UG9zaXRpb24oZS5wb3NpdGlvbixlLm9yaWdpblBvaW50KTt0aGlzLl9hcHBseVBvc2l0aW9uKGUucG9zaXRpb24sZS5vcmlnaW5Qb2ludCl9fSxlLnByb3RvdHlwZS5kZXRhY2g9ZnVuY3Rpb24oKXt0aGlzLl9jbGVhclBhbmVsQ2xhc3NlcygpLHRoaXMuX2xhc3RQb3NpdGlvbj1udWxsLHRoaXMuX3ByZXZpb3VzUHVzaEFtb3VudD1udWxsLHRoaXMuX3Jlc2l6ZVN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpfSxlLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5faXNEaXNwb3NlZHx8KHRoaXMuX2JvdW5kaW5nQm94JiZWbih0aGlzLl9ib3VuZGluZ0JveC5zdHlsZSx7dG9wOlwiXCIsbGVmdDpcIlwiLHJpZ2h0OlwiXCIsYm90dG9tOlwiXCIsaGVpZ2h0OlwiXCIsd2lkdGg6XCJcIixhbGlnbkl0ZW1zOlwiXCIsanVzdGlmeUNvbnRlbnQ6XCJcIn0pLHRoaXMuX3BhbmUmJnRoaXMuX3Jlc2V0T3ZlcmxheUVsZW1lbnRTdHlsZXMoKSx0aGlzLl9vdmVybGF5UmVmJiZ0aGlzLl9vdmVybGF5UmVmLmhvc3RFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoam4pLHRoaXMuZGV0YWNoKCksdGhpcy5fcG9zaXRpb25DaGFuZ2VzLmNvbXBsZXRlKCksdGhpcy5fb3ZlcmxheVJlZj10aGlzLl9ib3VuZGluZ0JveD1udWxsLHRoaXMuX2lzRGlzcG9zZWQ9ITApfSxlLnByb3RvdHlwZS5yZWFwcGx5TGFzdFBvc2l0aW9uPWZ1bmN0aW9uKCl7aWYoIXRoaXMuX2lzRGlzcG9zZWQmJighdGhpcy5fcGxhdGZvcm18fHRoaXMuX3BsYXRmb3JtLmlzQnJvd3Nlcikpe3RoaXMuX29yaWdpblJlY3Q9dGhpcy5fb3JpZ2luLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLHRoaXMuX292ZXJsYXlSZWN0PXRoaXMuX3BhbmUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksdGhpcy5fdmlld3BvcnRSZWN0PXRoaXMuX2dldE5hcnJvd2VkVmlld3BvcnRSZWN0KCk7dmFyIGU9dGhpcy5fbGFzdFBvc2l0aW9ufHx0aGlzLl9wcmVmZXJyZWRQb3NpdGlvbnNbMF0sdD10aGlzLl9nZXRPcmlnaW5Qb2ludCh0aGlzLl9vcmlnaW5SZWN0LGUpO3RoaXMuX2FwcGx5UG9zaXRpb24oZSx0KX19LGUucHJvdG90eXBlLndpdGhTY3JvbGxhYmxlQ29udGFpbmVycz1mdW5jdGlvbihlKXt0aGlzLnNjcm9sbGFibGVzPWV9LGUucHJvdG90eXBlLndpdGhQb3NpdGlvbnM9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3ByZWZlcnJlZFBvc2l0aW9ucz1lLC0xPT09ZS5pbmRleE9mKHRoaXMuX2xhc3RQb3NpdGlvbikmJih0aGlzLl9sYXN0UG9zaXRpb249bnVsbCksdGhpcy5fdmFsaWRhdGVQb3NpdGlvbnMoKSx0aGlzfSxlLnByb3RvdHlwZS53aXRoVmlld3BvcnRNYXJnaW49ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3ZpZXdwb3J0TWFyZ2luPWUsdGhpc30sZS5wcm90b3R5cGUud2l0aEZsZXhpYmxlRGltZW5zaW9ucz1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9ITApLHRoaXMuX2hhc0ZsZXhpYmxlRGltZW5zaW9ucz1lLHRoaXN9LGUucHJvdG90eXBlLndpdGhHcm93QWZ0ZXJPcGVuPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT0hMCksdGhpcy5fZ3Jvd0FmdGVyT3Blbj1lLHRoaXN9LGUucHJvdG90eXBlLndpdGhQdXNoPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT0hMCksdGhpcy5fY2FuUHVzaD1lLHRoaXN9LGUucHJvdG90eXBlLndpdGhMb2NrZWRQb3NpdGlvbj1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9ITApLHRoaXMuX3Bvc2l0aW9uTG9ja2VkPWUsdGhpc30sZS5wcm90b3R5cGUuc2V0T3JpZ2luPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9vcmlnaW49ZSBpbnN0YW5jZW9mIHQuRWxlbWVudFJlZj9lLm5hdGl2ZUVsZW1lbnQ6ZSx0aGlzfSxlLnByb3RvdHlwZS53aXRoRGVmYXVsdE9mZnNldFg9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX29mZnNldFg9ZSx0aGlzfSxlLnByb3RvdHlwZS53aXRoRGVmYXVsdE9mZnNldFk9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX29mZnNldFk9ZSx0aGlzfSxlLnByb3RvdHlwZS53aXRoVHJhbnNmb3JtT3JpZ2luT249ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3RyYW5zZm9ybU9yaWdpblNlbGVjdG9yPWUsdGhpc30sZS5wcm90b3R5cGUuX2dldE9yaWdpblBvaW50PWZ1bmN0aW9uKGUsdCl7dmFyIG47aWYoXCJjZW50ZXJcIj09dC5vcmlnaW5YKW49ZS5sZWZ0K2Uud2lkdGgvMjtlbHNle3ZhciBpPXRoaXMuX2lzUnRsKCk/ZS5yaWdodDplLmxlZnQscj10aGlzLl9pc1J0bCgpP2UubGVmdDplLnJpZ2h0O249XCJzdGFydFwiPT10Lm9yaWdpblg/aTpyfXJldHVybnt4Om4seTpcImNlbnRlclwiPT10Lm9yaWdpblk/ZS50b3ArZS5oZWlnaHQvMjpcInRvcFwiPT10Lm9yaWdpblk/ZS50b3A6ZS5ib3R0b219fSxlLnByb3RvdHlwZS5fZ2V0T3ZlcmxheVBvaW50PWZ1bmN0aW9uKGUsdCxuKXt2YXIgaSxyO3JldHVybiBpPVwiY2VudGVyXCI9PW4ub3ZlcmxheVg/LXQud2lkdGgvMjpcInN0YXJ0XCI9PT1uLm92ZXJsYXlYP3RoaXMuX2lzUnRsKCk/LXQud2lkdGg6MDp0aGlzLl9pc1J0bCgpPzA6LXQud2lkdGgscj1cImNlbnRlclwiPT1uLm92ZXJsYXlZPy10LmhlaWdodC8yOlwidG9wXCI9PW4ub3ZlcmxheVk/MDotdC5oZWlnaHQse3g6ZS54K2kseTplLnkrcn19LGUucHJvdG90eXBlLl9nZXRPdmVybGF5Rml0PWZ1bmN0aW9uKGUsdCxuLGkpe3ZhciByPWUueCxvPWUueSxzPXRoaXMuX2dldE9mZnNldChpLFwieFwiKSxhPXRoaXMuX2dldE9mZnNldChpLFwieVwiKTtzJiYocis9cyksYSYmKG8rPWEpO3ZhciBjPTAtcixsPXIrdC53aWR0aC1uLndpZHRoLHU9MC1vLHA9byt0LmhlaWdodC1uLmhlaWdodCxoPXRoaXMuX3N1YnRyYWN0T3ZlcmZsb3dzKHQud2lkdGgsYyxsKSxkPXRoaXMuX3N1YnRyYWN0T3ZlcmZsb3dzKHQuaGVpZ2h0LHUscCksZj1oKmQ7cmV0dXJue3Zpc2libGVBcmVhOmYsaXNDb21wbGV0ZWx5V2l0aGluVmlld3BvcnQ6dC53aWR0aCp0LmhlaWdodD09PWYsZml0c0luVmlld3BvcnRWZXJ0aWNhbGx5OmQ9PT10LmhlaWdodCxmaXRzSW5WaWV3cG9ydEhvcml6b250YWxseTpoPT10LndpZHRofX0sZS5wcm90b3R5cGUuX2NhbkZpdFdpdGhGbGV4aWJsZURpbWVuc2lvbnM9ZnVuY3Rpb24oZSx0LG4pe2lmKHRoaXMuX2hhc0ZsZXhpYmxlRGltZW5zaW9ucyl7dmFyIGk9bi5ib3R0b20tdC55LHI9bi5yaWdodC10Lngsbz10aGlzLl9vdmVybGF5UmVmLmdldENvbmZpZygpLm1pbkhlaWdodCxzPXRoaXMuX292ZXJsYXlSZWYuZ2V0Q29uZmlnKCkubWluV2lkdGgsYT1lLmZpdHNJblZpZXdwb3J0VmVydGljYWxseXx8bnVsbCE9byYmbzw9aSxjPWUuZml0c0luVmlld3BvcnRIb3Jpem9udGFsbHl8fG51bGwhPXMmJnM8PXI7cmV0dXJuIGEmJmN9fSxlLnByb3RvdHlwZS5fcHVzaE92ZXJsYXlPblNjcmVlbj1mdW5jdGlvbihlLHQsbil7aWYodGhpcy5fcHJldmlvdXNQdXNoQW1vdW50JiZ0aGlzLl9wb3NpdGlvbkxvY2tlZClyZXR1cm57eDplLngrdGhpcy5fcHJldmlvdXNQdXNoQW1vdW50LngseTplLnkrdGhpcy5fcHJldmlvdXNQdXNoQW1vdW50Lnl9O3ZhciBpPXRoaXMuX3ZpZXdwb3J0UmVjdCxyPU1hdGgubWF4KGUueCt0LndpZHRoLWkucmlnaHQsMCksbz1NYXRoLm1heChlLnkrdC5oZWlnaHQtaS5ib3R0b20sMCkscz1NYXRoLm1heChpLnRvcC1uLnRvcC1lLnksMCksYT1NYXRoLm1heChpLmxlZnQtbi5sZWZ0LWUueCwwKSxjPTAsbD0wO3JldHVybiBjPXQud2lkdGg8aS53aWR0aD9hfHwtcjplLng8dGhpcy5fdmlld3BvcnRNYXJnaW4/aS5sZWZ0LW4ubGVmdC1lLng6MCxsPXQuaGVpZ2h0PGkuaGVpZ2h0P3N8fC1vOmUueTx0aGlzLl92aWV3cG9ydE1hcmdpbj9pLnRvcC1uLnRvcC1lLnk6MCx0aGlzLl9wcmV2aW91c1B1c2hBbW91bnQ9e3g6Yyx5Omx9LHt4OmUueCtjLHk6ZS55K2x9fSxlLnByb3RvdHlwZS5fYXBwbHlQb3NpdGlvbj1mdW5jdGlvbihlLHQpe2lmKHRoaXMuX3NldFRyYW5zZm9ybU9yaWdpbihlKSx0aGlzLl9zZXRPdmVybGF5RWxlbWVudFN0eWxlcyh0LGUpLHRoaXMuX3NldEJvdW5kaW5nQm94U3R5bGVzKHQsZSksZS5wYW5lbENsYXNzJiZ0aGlzLl9hZGRQYW5lbENsYXNzZXMoZS5wYW5lbENsYXNzKSx0aGlzLl9sYXN0UG9zaXRpb249ZSx0aGlzLl9wb3NpdGlvbkNoYW5nZVN1YnNjcmlwdGlvbnM+MCl7dmFyIG49dGhpcy5fZ2V0U2Nyb2xsVmlzaWJpbGl0eSgpLGk9bmV3IEluKGUsbik7dGhpcy5fcG9zaXRpb25DaGFuZ2VzLm5leHQoaSl9dGhpcy5faXNJbml0aWFsUmVuZGVyPSExfSxlLnByb3RvdHlwZS5fc2V0VHJhbnNmb3JtT3JpZ2luPWZ1bmN0aW9uKGUpe2lmKHRoaXMuX3RyYW5zZm9ybU9yaWdpblNlbGVjdG9yKXt2YXIgdCxuPXRoaXMuX2JvdW5kaW5nQm94LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5fdHJhbnNmb3JtT3JpZ2luU2VsZWN0b3IpLGk9ZS5vdmVybGF5WTt0PVwiY2VudGVyXCI9PT1lLm92ZXJsYXlYP1wiY2VudGVyXCI6dGhpcy5faXNSdGwoKT9cInN0YXJ0XCI9PT1lLm92ZXJsYXlYP1wicmlnaHRcIjpcImxlZnRcIjpcInN0YXJ0XCI9PT1lLm92ZXJsYXlYP1wibGVmdFwiOlwicmlnaHRcIjtmb3IodmFyIHI9MDtyPG4ubGVuZ3RoO3IrKyluW3JdLnN0eWxlLnRyYW5zZm9ybU9yaWdpbj10K1wiIFwiK2l9fSxlLnByb3RvdHlwZS5fY2FsY3VsYXRlQm91bmRpbmdCb3hSZWN0PWZ1bmN0aW9uKGUsdCl7dmFyIG4saSxyLG89dGhpcy5fdmlld3BvcnRSZWN0LHM9dGhpcy5faXNSdGwoKTtpZihcInRvcFwiPT09dC5vdmVybGF5WSlpPWUueSxuPW8uYm90dG9tLWUueTtlbHNlIGlmKFwiYm90dG9tXCI9PT10Lm92ZXJsYXlZKXI9by5oZWlnaHQtZS55KzIqdGhpcy5fdmlld3BvcnRNYXJnaW4sbj1vLmhlaWdodC1yK3RoaXMuX3ZpZXdwb3J0TWFyZ2luO2Vsc2V7dmFyIGE9TWF0aC5taW4oby5ib3R0b20tZS55K28udG9wLGUueSksYz10aGlzLl9sYXN0Qm91bmRpbmdCb3hTaXplLmhlaWdodDtuPTIqYSxpPWUueS1hLG4+YyYmIXRoaXMuX2lzSW5pdGlhbFJlbmRlciYmIXRoaXMuX2dyb3dBZnRlck9wZW4mJihpPWUueS1jLzIpfXZhciBsLHUscCxoPVwic3RhcnRcIj09PXQub3ZlcmxheVgmJiFzfHxcImVuZFwiPT09dC5vdmVybGF5WCYmcztpZihcImVuZFwiPT09dC5vdmVybGF5WCYmIXN8fFwic3RhcnRcIj09PXQub3ZlcmxheVgmJnMpcD1vLnJpZ2h0LWUueCt0aGlzLl92aWV3cG9ydE1hcmdpbixsPWUueC1vLmxlZnQ7ZWxzZSBpZihoKXU9ZS54LGw9by5yaWdodC1lLng7ZWxzZXthPU1hdGgubWluKG8ucmlnaHQtZS54K28ubGVmdCxlLngpO3ZhciBkPXRoaXMuX2xhc3RCb3VuZGluZ0JveFNpemUud2lkdGg7bD0yKmEsdT1lLngtYSxsPmQmJiF0aGlzLl9pc0luaXRpYWxSZW5kZXImJiF0aGlzLl9ncm93QWZ0ZXJPcGVuJiYodT1lLngtZC8yKX1yZXR1cm57dG9wOmksbGVmdDp1LGJvdHRvbTpyLHJpZ2h0OnAsd2lkdGg6bCxoZWlnaHQ6bn19LGUucHJvdG90eXBlLl9zZXRCb3VuZGluZ0JveFN0eWxlcz1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuX2NhbGN1bGF0ZUJvdW5kaW5nQm94UmVjdChlLHQpO3RoaXMuX2lzSW5pdGlhbFJlbmRlcnx8dGhpcy5fZ3Jvd0FmdGVyT3Blbnx8KG4uaGVpZ2h0PU1hdGgubWluKG4uaGVpZ2h0LHRoaXMuX2xhc3RCb3VuZGluZ0JveFNpemUuaGVpZ2h0KSxuLndpZHRoPU1hdGgubWluKG4ud2lkdGgsdGhpcy5fbGFzdEJvdW5kaW5nQm94U2l6ZS53aWR0aCkpO3ZhciBpPXt9O2lmKHRoaXMuX2hhc0V4YWN0UG9zaXRpb24oKSlpLnRvcD1pLmxlZnQ9XCIwXCIsaS5ib3R0b209aS5yaWdodD1cIlwiLGkud2lkdGg9aS5oZWlnaHQ9XCIxMDAlXCI7ZWxzZXt2YXIgcj10aGlzLl9vdmVybGF5UmVmLmdldENvbmZpZygpLm1heEhlaWdodCxvPXRoaXMuX292ZXJsYXlSZWYuZ2V0Q29uZmlnKCkubWF4V2lkdGg7aS5oZWlnaHQ9eXQobi5oZWlnaHQpLGkudG9wPXl0KG4udG9wKSxpLmJvdHRvbT15dChuLmJvdHRvbSksaS53aWR0aD15dChuLndpZHRoKSxpLmxlZnQ9eXQobi5sZWZ0KSxpLnJpZ2h0PXl0KG4ucmlnaHQpLFwiY2VudGVyXCI9PT10Lm92ZXJsYXlYP2kuYWxpZ25JdGVtcz1cImNlbnRlclwiOmkuYWxpZ25JdGVtcz1cImVuZFwiPT09dC5vdmVybGF5WD9cImZsZXgtZW5kXCI6XCJmbGV4LXN0YXJ0XCIsXCJjZW50ZXJcIj09PXQub3ZlcmxheVk/aS5qdXN0aWZ5Q29udGVudD1cImNlbnRlclwiOmkuanVzdGlmeUNvbnRlbnQ9XCJib3R0b21cIj09PXQub3ZlcmxheVk/XCJmbGV4LWVuZFwiOlwiZmxleC1zdGFydFwiLHImJihpLm1heEhlaWdodD15dChyKSksbyYmKGkubWF4V2lkdGg9eXQobykpfXRoaXMuX2xhc3RCb3VuZGluZ0JveFNpemU9bixWbih0aGlzLl9ib3VuZGluZ0JveC5zdHlsZSxpKX0sZS5wcm90b3R5cGUuX3Jlc2V0Qm91bmRpbmdCb3hTdHlsZXM9ZnVuY3Rpb24oKXtWbih0aGlzLl9ib3VuZGluZ0JveC5zdHlsZSx7dG9wOlwiMFwiLGxlZnQ6XCIwXCIscmlnaHQ6XCIwXCIsYm90dG9tOlwiMFwiLGhlaWdodDpcIlwiLHdpZHRoOlwiXCIsYWxpZ25JdGVtczpcIlwiLGp1c3RpZnlDb250ZW50OlwiXCJ9KX0sZS5wcm90b3R5cGUuX3Jlc2V0T3ZlcmxheUVsZW1lbnRTdHlsZXM9ZnVuY3Rpb24oKXtWbih0aGlzLl9wYW5lLnN0eWxlLHt0b3A6XCJcIixsZWZ0OlwiXCIsYm90dG9tOlwiXCIscmlnaHQ6XCJcIixwb3NpdGlvbjpcIlwifSl9LGUucHJvdG90eXBlLl9zZXRPdmVybGF5RWxlbWVudFN0eWxlcz1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O2lmKHRoaXMuX2hhc0V4YWN0UG9zaXRpb24oKSl7dmFyIGk9dGhpcy5fdmlld3BvcnRSdWxlci5nZXRWaWV3cG9ydFNjcm9sbFBvc2l0aW9uKCk7Vm4obix0aGlzLl9nZXRFeGFjdE92ZXJsYXlZKHQsZSxpKSksVm4obix0aGlzLl9nZXRFeGFjdE92ZXJsYXlYKHQsZSxpKSl9ZWxzZSBuLnBvc2l0aW9uPVwic3RhdGljXCI7dmFyIHI9XCJcIixvPXRoaXMuX2dldE9mZnNldCh0LFwieFwiKSxzPXRoaXMuX2dldE9mZnNldCh0LFwieVwiKTtvJiYocis9XCJ0cmFuc2xhdGVYKFwiK28rXCJweCkgXCIpLHMmJihyKz1cInRyYW5zbGF0ZVkoXCIrcytcInB4KVwiKSxuLnRyYW5zZm9ybT1yLnRyaW0oKSx0aGlzLl9oYXNGbGV4aWJsZURpbWVuc2lvbnMmJnRoaXMuX292ZXJsYXlSZWYuZ2V0Q29uZmlnKCkubWF4SGVpZ2h0JiYobi5tYXhIZWlnaHQ9XCJcIiksdGhpcy5faGFzRmxleGlibGVEaW1lbnNpb25zJiZ0aGlzLl9vdmVybGF5UmVmLmdldENvbmZpZygpLm1heFdpZHRoJiYobi5tYXhXaWR0aD1cIlwiKSxWbih0aGlzLl9wYW5lLnN0eWxlLG4pfSxlLnByb3RvdHlwZS5fZ2V0RXhhY3RPdmVybGF5WT1mdW5jdGlvbihlLHQsbil7dmFyIGk9e3RvcDpudWxsLGJvdHRvbTpudWxsfSxyPXRoaXMuX2dldE92ZXJsYXlQb2ludCh0LHRoaXMuX292ZXJsYXlSZWN0LGUpO3RoaXMuX2lzUHVzaGVkJiYocj10aGlzLl9wdXNoT3ZlcmxheU9uU2NyZWVuKHIsdGhpcy5fb3ZlcmxheVJlY3QsbikpO3ZhciBvPXRoaXMuX292ZXJsYXlDb250YWluZXI/dGhpcy5fb3ZlcmxheUNvbnRhaW5lci5nZXRDb250YWluZXJFbGVtZW50KCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wOjA7aWYoci55LT1vLFwiYm90dG9tXCI9PT1lLm92ZXJsYXlZKXt2YXIgcz10aGlzLl9kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0O2kuYm90dG9tPXMtKHIueSt0aGlzLl9vdmVybGF5UmVjdC5oZWlnaHQpK1wicHhcIn1lbHNlIGkudG9wPXl0KHIueSk7cmV0dXJuIGl9LGUucHJvdG90eXBlLl9nZXRFeGFjdE92ZXJsYXlYPWZ1bmN0aW9uKGUsdCxuKXt2YXIgaT17bGVmdDpudWxsLHJpZ2h0Om51bGx9LHI9dGhpcy5fZ2V0T3ZlcmxheVBvaW50KHQsdGhpcy5fb3ZlcmxheVJlY3QsZSk7aWYodGhpcy5faXNQdXNoZWQmJihyPXRoaXMuX3B1c2hPdmVybGF5T25TY3JlZW4ocix0aGlzLl9vdmVybGF5UmVjdCxuKSksXCJyaWdodFwiPT09KHRoaXMuX2lzUnRsKCk/XCJlbmRcIj09PWUub3ZlcmxheVg/XCJsZWZ0XCI6XCJyaWdodFwiOlwiZW5kXCI9PT1lLm92ZXJsYXlYP1wicmlnaHRcIjpcImxlZnRcIikpe3ZhciBvPXRoaXMuX2RvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aDtpLnJpZ2h0PW8tKHIueCt0aGlzLl9vdmVybGF5UmVjdC53aWR0aCkrXCJweFwifWVsc2UgaS5sZWZ0PXl0KHIueCk7cmV0dXJuIGl9LGUucHJvdG90eXBlLl9nZXRTY3JvbGxWaXNpYmlsaXR5PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fb3JpZ2luLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLHQ9dGhpcy5fcGFuZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxuPXRoaXMuc2Nyb2xsYWJsZXMubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLmdldEVsZW1lbnRSZWYoKS5uYXRpdmVFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpfSk7cmV0dXJue2lzT3JpZ2luQ2xpcHBlZDpPbihlLG4pLGlzT3JpZ2luT3V0c2lkZVZpZXc6d24oZSxuKSxpc092ZXJsYXlDbGlwcGVkOk9uKHQsbiksaXNPdmVybGF5T3V0c2lkZVZpZXc6d24odCxuKX19LGUucHJvdG90eXBlLl9zdWJ0cmFjdE92ZXJmbG93cz1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10sbj0xO248YXJndW1lbnRzLmxlbmd0aDtuKyspdFtuLTFdPWFyZ3VtZW50c1tuXTtyZXR1cm4gdC5yZWR1Y2UoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS1NYXRoLm1heCh0LDApfSxlKX0sZS5wcm90b3R5cGUuX2dldE5hcnJvd2VkVmlld3BvcnRSZWN0PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoLHQ9dGhpcy5fZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCxuPXRoaXMuX3ZpZXdwb3J0UnVsZXIuZ2V0Vmlld3BvcnRTY3JvbGxQb3NpdGlvbigpO3JldHVybnt0b3A6bi50b3ArdGhpcy5fdmlld3BvcnRNYXJnaW4sbGVmdDpuLmxlZnQrdGhpcy5fdmlld3BvcnRNYXJnaW4scmlnaHQ6bi5sZWZ0K2UtdGhpcy5fdmlld3BvcnRNYXJnaW4sYm90dG9tOm4udG9wK3QtdGhpcy5fdmlld3BvcnRNYXJnaW4sd2lkdGg6ZS0yKnRoaXMuX3ZpZXdwb3J0TWFyZ2luLGhlaWdodDp0LTIqdGhpcy5fdmlld3BvcnRNYXJnaW59fSxlLnByb3RvdHlwZS5faXNSdGw9ZnVuY3Rpb24oKXtyZXR1cm5cInJ0bFwiPT09dGhpcy5fb3ZlcmxheVJlZi5nZXREaXJlY3Rpb24oKX0sZS5wcm90b3R5cGUuX2hhc0V4YWN0UG9zaXRpb249ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5faGFzRmxleGlibGVEaW1lbnNpb25zfHx0aGlzLl9pc1B1c2hlZH0sZS5wcm90b3R5cGUuX2dldE9mZnNldD1mdW5jdGlvbihlLHQpe3JldHVyblwieFwiPT09dD9udWxsPT1lLm9mZnNldFg/dGhpcy5fb2Zmc2V0WDplLm9mZnNldFg6bnVsbD09ZS5vZmZzZXRZP3RoaXMuX29mZnNldFk6ZS5vZmZzZXRZfSxlLnByb3RvdHlwZS5fdmFsaWRhdGVQb3NpdGlvbnM9ZnVuY3Rpb24oKXtpZighdGhpcy5fcHJlZmVycmVkUG9zaXRpb25zLmxlbmd0aCl0aHJvdyBFcnJvcihcIkZsZXhpYmxlQ29ubmVjdGVkUG9zaXRpb25TdHJhdGVneTogQXQgbGVhc3Qgb25lIHBvc2l0aW9uIGlzIHJlcXVpcmVkLlwiKTt0aGlzLl9wcmVmZXJyZWRQb3NpdGlvbnMuZm9yRWFjaChmdW5jdGlvbihlKXtFbihcIm9yaWdpblhcIixlLm9yaWdpblgpLE1uKFwib3JpZ2luWVwiLGUub3JpZ2luWSksRW4oXCJvdmVybGF5WFwiLGUub3ZlcmxheVgpLE1uKFwib3ZlcmxheVlcIixlLm92ZXJsYXlZKX0pfSxlLnByb3RvdHlwZS5fYWRkUGFuZWxDbGFzc2VzPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dGhpcy5fcGFuZSYmbXQoZSkuZm9yRWFjaChmdW5jdGlvbihlKXstMT09PXQuX2FwcGxpZWRQYW5lbENsYXNzZXMuaW5kZXhPZihlKSYmKHQuX2FwcGxpZWRQYW5lbENsYXNzZXMucHVzaChlKSx0Ll9wYW5lLmNsYXNzTGlzdC5hZGQoZSkpfSl9LGUucHJvdG90eXBlLl9jbGVhclBhbmVsQ2xhc3Nlcz1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5fcGFuZSYmKHRoaXMuX2FwcGxpZWRQYW5lbENsYXNzZXMuZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gZS5fcGFuZS5jbGFzc0xpc3QucmVtb3ZlKHQpfSksdGhpcy5fYXBwbGllZFBhbmVsQ2xhc3Nlcz1bXSl9LGV9KCk7ZnVuY3Rpb24gVm4oZSx0KXtmb3IodmFyIG4gaW4gdCl0Lmhhc093blByb3BlcnR5KG4pJiYoZVtuXT10W25dKTtyZXR1cm4gZX12YXIgRm49ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxuLGkscixvKXt0aGlzLl9wcmVmZXJyZWRQb3NpdGlvbnM9W10sdGhpcy5fcG9zaXRpb25TdHJhdGVneT1uZXcgUm4obixpLHIsbykud2l0aEZsZXhpYmxlRGltZW5zaW9ucyghMSkud2l0aFB1c2goITEpLndpdGhWaWV3cG9ydE1hcmdpbigwKSx0aGlzLndpdGhGYWxsYmFja1Bvc2l0aW9uKGUsdCl9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcIl9pc1J0bFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm5cInJ0bFwiPT09dGhpcy5fb3ZlcmxheVJlZi5nZXREaXJlY3Rpb24oKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJvblBvc2l0aW9uQ2hhbmdlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9wb3NpdGlvblN0cmF0ZWd5LnBvc2l0aW9uQ2hhbmdlc30sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJwb3NpdGlvbnNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ByZWZlcnJlZFBvc2l0aW9uc30sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5hdHRhY2g9ZnVuY3Rpb24oZSl7dGhpcy5fb3ZlcmxheVJlZj1lLHRoaXMuX3Bvc2l0aW9uU3RyYXRlZ3kuYXR0YWNoKGUpLHRoaXMuX2RpcmVjdGlvbiYmKGUuc2V0RGlyZWN0aW9uKHRoaXMuX2RpcmVjdGlvbiksdGhpcy5fZGlyZWN0aW9uPW51bGwpfSxlLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5fcG9zaXRpb25TdHJhdGVneS5kaXNwb3NlKCl9LGUucHJvdG90eXBlLmRldGFjaD1mdW5jdGlvbigpe3RoaXMuX3Bvc2l0aW9uU3RyYXRlZ3kuZGV0YWNoKCl9LGUucHJvdG90eXBlLmFwcGx5PWZ1bmN0aW9uKCl7dGhpcy5fcG9zaXRpb25TdHJhdGVneS5hcHBseSgpfSxlLnByb3RvdHlwZS5yZWNhbGN1bGF0ZUxhc3RQb3NpdGlvbj1mdW5jdGlvbigpe3RoaXMuX3Bvc2l0aW9uU3RyYXRlZ3kucmVhcHBseUxhc3RQb3NpdGlvbigpfSxlLnByb3RvdHlwZS53aXRoU2Nyb2xsYWJsZUNvbnRhaW5lcnM9ZnVuY3Rpb24oZSl7dGhpcy5fcG9zaXRpb25TdHJhdGVneS53aXRoU2Nyb2xsYWJsZUNvbnRhaW5lcnMoZSl9LGUucHJvdG90eXBlLndpdGhGYWxsYmFja1Bvc2l0aW9uPWZ1bmN0aW9uKGUsdCxuLGkpe3ZhciByPW5ldyBTbihlLHQsbixpKTtyZXR1cm4gdGhpcy5fcHJlZmVycmVkUG9zaXRpb25zLnB1c2gociksdGhpcy5fcG9zaXRpb25TdHJhdGVneS53aXRoUG9zaXRpb25zKHRoaXMuX3ByZWZlcnJlZFBvc2l0aW9ucyksdGhpc30sZS5wcm90b3R5cGUud2l0aERpcmVjdGlvbj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fb3ZlcmxheVJlZj90aGlzLl9vdmVybGF5UmVmLnNldERpcmVjdGlvbihlKTp0aGlzLl9kaXJlY3Rpb249ZSx0aGlzfSxlLnByb3RvdHlwZS53aXRoT2Zmc2V0WD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fcG9zaXRpb25TdHJhdGVneS53aXRoRGVmYXVsdE9mZnNldFgoZSksdGhpc30sZS5wcm90b3R5cGUud2l0aE9mZnNldFk9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3Bvc2l0aW9uU3RyYXRlZ3kud2l0aERlZmF1bHRPZmZzZXRZKGUpLHRoaXN9LGUucHJvdG90eXBlLndpdGhMb2NrZWRQb3NpdGlvbj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fcG9zaXRpb25TdHJhdGVneS53aXRoTG9ja2VkUG9zaXRpb24oZSksdGhpc30sZS5wcm90b3R5cGUud2l0aFBvc2l0aW9ucz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fcHJlZmVycmVkUG9zaXRpb25zPWUuc2xpY2UoKSx0aGlzLl9wb3NpdGlvblN0cmF0ZWd5LndpdGhQb3NpdGlvbnModGhpcy5fcHJlZmVycmVkUG9zaXRpb25zKSx0aGlzfSxlLnByb3RvdHlwZS5zZXRPcmlnaW49ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3Bvc2l0aW9uU3RyYXRlZ3kuc2V0T3JpZ2luKGUpLHRoaXN9LGV9KCksTG49XCJjZGstZ2xvYmFsLW92ZXJsYXktd3JhcHBlclwiLEJuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuX2Nzc1Bvc2l0aW9uPVwic3RhdGljXCIsdGhpcy5fdG9wT2Zmc2V0PVwiXCIsdGhpcy5fYm90dG9tT2Zmc2V0PVwiXCIsdGhpcy5fbGVmdE9mZnNldD1cIlwiLHRoaXMuX3JpZ2h0T2Zmc2V0PVwiXCIsdGhpcy5fYWxpZ25JdGVtcz1cIlwiLHRoaXMuX2p1c3RpZnlDb250ZW50PVwiXCIsdGhpcy5fd2lkdGg9XCJcIix0aGlzLl9oZWlnaHQ9XCJcIn1yZXR1cm4gZS5wcm90b3R5cGUuYXR0YWNoPWZ1bmN0aW9uKGUpe3ZhciB0PWUuZ2V0Q29uZmlnKCk7dGhpcy5fb3ZlcmxheVJlZj1lLHRoaXMuX3dpZHRoJiYhdC53aWR0aCYmZS51cGRhdGVTaXplKHt3aWR0aDp0aGlzLl93aWR0aH0pLHRoaXMuX2hlaWdodCYmIXQuaGVpZ2h0JiZlLnVwZGF0ZVNpemUoe2hlaWdodDp0aGlzLl9oZWlnaHR9KSxlLmhvc3RFbGVtZW50LmNsYXNzTGlzdC5hZGQoTG4pLHRoaXMuX2lzRGlzcG9zZWQ9ITF9LGUucHJvdG90eXBlLnRvcD1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9XCJcIiksdGhpcy5fYm90dG9tT2Zmc2V0PVwiXCIsdGhpcy5fdG9wT2Zmc2V0PWUsdGhpcy5fYWxpZ25JdGVtcz1cImZsZXgtc3RhcnRcIix0aGlzfSxlLnByb3RvdHlwZS5sZWZ0PWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT1cIlwiKSx0aGlzLl9yaWdodE9mZnNldD1cIlwiLHRoaXMuX2xlZnRPZmZzZXQ9ZSx0aGlzLl9qdXN0aWZ5Q29udGVudD1cImZsZXgtc3RhcnRcIix0aGlzfSxlLnByb3RvdHlwZS5ib3R0b209ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPVwiXCIpLHRoaXMuX3RvcE9mZnNldD1cIlwiLHRoaXMuX2JvdHRvbU9mZnNldD1lLHRoaXMuX2FsaWduSXRlbXM9XCJmbGV4LWVuZFwiLHRoaXN9LGUucHJvdG90eXBlLnJpZ2h0PWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT1cIlwiKSx0aGlzLl9sZWZ0T2Zmc2V0PVwiXCIsdGhpcy5fcmlnaHRPZmZzZXQ9ZSx0aGlzLl9qdXN0aWZ5Q29udGVudD1cImZsZXgtZW5kXCIsdGhpc30sZS5wcm90b3R5cGUud2lkdGg9ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPVwiXCIpLHRoaXMuX292ZXJsYXlSZWY/dGhpcy5fb3ZlcmxheVJlZi51cGRhdGVTaXplKHt3aWR0aDplfSk6dGhpcy5fd2lkdGg9ZSx0aGlzfSxlLnByb3RvdHlwZS5oZWlnaHQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPVwiXCIpLHRoaXMuX292ZXJsYXlSZWY/dGhpcy5fb3ZlcmxheVJlZi51cGRhdGVTaXplKHtoZWlnaHQ6ZX0pOnRoaXMuX2hlaWdodD1lLHRoaXN9LGUucHJvdG90eXBlLmNlbnRlckhvcml6b250YWxseT1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9XCJcIiksdGhpcy5sZWZ0KGUpLHRoaXMuX2p1c3RpZnlDb250ZW50PVwiY2VudGVyXCIsdGhpc30sZS5wcm90b3R5cGUuY2VudGVyVmVydGljYWxseT1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9XCJcIiksdGhpcy50b3AoZSksdGhpcy5fYWxpZ25JdGVtcz1cImNlbnRlclwiLHRoaXN9LGUucHJvdG90eXBlLmFwcGx5PWZ1bmN0aW9uKCl7aWYodGhpcy5fb3ZlcmxheVJlZiYmdGhpcy5fb3ZlcmxheVJlZi5oYXNBdHRhY2hlZCgpKXt2YXIgZT10aGlzLl9vdmVybGF5UmVmLm92ZXJsYXlFbGVtZW50LnN0eWxlLHQ9dGhpcy5fb3ZlcmxheVJlZi5ob3N0RWxlbWVudC5zdHlsZSxuPXRoaXMuX292ZXJsYXlSZWYuZ2V0Q29uZmlnKCk7ZS5wb3NpdGlvbj10aGlzLl9jc3NQb3NpdGlvbixlLm1hcmdpbkxlZnQ9XCIxMDAlXCI9PT1uLndpZHRoP1wiMFwiOnRoaXMuX2xlZnRPZmZzZXQsZS5tYXJnaW5Ub3A9XCIxMDAlXCI9PT1uLmhlaWdodD9cIjBcIjp0aGlzLl90b3BPZmZzZXQsZS5tYXJnaW5Cb3R0b209dGhpcy5fYm90dG9tT2Zmc2V0LGUubWFyZ2luUmlnaHQ9dGhpcy5fcmlnaHRPZmZzZXQsXCIxMDAlXCI9PT1uLndpZHRoP3QuanVzdGlmeUNvbnRlbnQ9XCJmbGV4LXN0YXJ0XCI6XCJjZW50ZXJcIj09PXRoaXMuX2p1c3RpZnlDb250ZW50P3QuanVzdGlmeUNvbnRlbnQ9XCJjZW50ZXJcIjpcInJ0bFwiPT09dGhpcy5fb3ZlcmxheVJlZi5nZXRDb25maWcoKS5kaXJlY3Rpb24/XCJmbGV4LXN0YXJ0XCI9PT10aGlzLl9qdXN0aWZ5Q29udGVudD90Lmp1c3RpZnlDb250ZW50PVwiZmxleC1lbmRcIjpcImZsZXgtZW5kXCI9PT10aGlzLl9qdXN0aWZ5Q29udGVudCYmKHQuanVzdGlmeUNvbnRlbnQ9XCJmbGV4LXN0YXJ0XCIpOnQuanVzdGlmeUNvbnRlbnQ9dGhpcy5fanVzdGlmeUNvbnRlbnQsdC5hbGlnbkl0ZW1zPVwiMTAwJVwiPT09bi5oZWlnaHQ/XCJmbGV4LXN0YXJ0XCI6dGhpcy5fYWxpZ25JdGVtc319LGUucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXtpZighdGhpcy5faXNEaXNwb3NlZCYmdGhpcy5fb3ZlcmxheVJlZil7dmFyIGU9dGhpcy5fb3ZlcmxheVJlZi5vdmVybGF5RWxlbWVudC5zdHlsZSx0PXRoaXMuX292ZXJsYXlSZWYuaG9zdEVsZW1lbnQsbj10LnN0eWxlO3QuY2xhc3NMaXN0LnJlbW92ZShMbiksbi5qdXN0aWZ5Q29udGVudD1uLmFsaWduSXRlbXM9ZS5tYXJnaW5Ub3A9ZS5tYXJnaW5Cb3R0b209ZS5tYXJnaW5MZWZ0PWUubWFyZ2luUmlnaHQ9ZS5wb3NpdGlvbj1cIlwiLHRoaXMuX292ZXJsYXlSZWY9bnVsbCx0aGlzLl9pc0Rpc3Bvc2VkPSEwfX0sZX0oKSxObj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0LG4saSl7dGhpcy5fdmlld3BvcnRSdWxlcj1lLHRoaXMuX2RvY3VtZW50PXQsdGhpcy5fcGxhdGZvcm09bix0aGlzLl9vdmVybGF5Q29udGFpbmVyPWl9cmV0dXJuIGUucHJvdG90eXBlLmdsb2JhbD1mdW5jdGlvbigpe3JldHVybiBuZXcgQm59LGUucHJvdG90eXBlLmNvbm5lY3RlZFRvPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gbmV3IEZuKHQsbixlLHRoaXMuX3ZpZXdwb3J0UnVsZXIsdGhpcy5fZG9jdW1lbnQpfSxlLnByb3RvdHlwZS5mbGV4aWJsZUNvbm5lY3RlZFRvPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgUm4oZSx0aGlzLl92aWV3cG9ydFJ1bGVyLHRoaXMuX2RvY3VtZW50LHRoaXMuX3BsYXRmb3JtLHRoaXMuX292ZXJsYXlDb250YWluZXIpfSxlLmRlY29yYXRvcnM9W3t0eXBlOnQuSW5qZWN0YWJsZSxhcmdzOlt7cHJvdmlkZWRJbjpcInJvb3RcIn1dfV0sZS5jdG9yUGFyYW1ldGVycz1mdW5jdGlvbigpe3JldHVyblt7dHlwZTpzbn0se3R5cGU6dm9pZCAwLGRlY29yYXRvcnM6W3t0eXBlOnQuSW5qZWN0LGFyZ3M6W24uRE9DVU1FTlRdfV19LHt0eXBlOmF0LGRlY29yYXRvcnM6W3t0eXBlOnQuT3B0aW9uYWx9XX0se3R5cGU6QW4sZGVjb3JhdG9yczpbe3R5cGU6dC5PcHRpb25hbH1dfV19LGUubmdJbmplY3RhYmxlRGVmPXQuZGVmaW5lSW5qZWN0YWJsZSh7ZmFjdG9yeTpmdW5jdGlvbigpe3JldHVybiBuZXcgZSh0LmluamVjdChzbiksdC5pbmplY3Qobi5ET0NVTUVOVCksdC5pbmplY3QoYXQsOCksdC5pbmplY3QoQW4sOCkpfSx0b2tlbjplLHByb3ZpZGVkSW46XCJyb290XCJ9KSxlfSgpLFluPTAsSG49ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxuLGkscixvLHMsYSxjLGwpe3RoaXMuc2Nyb2xsU3RyYXRlZ2llcz1lLHRoaXMuX292ZXJsYXlDb250YWluZXI9dCx0aGlzLl9jb21wb25lbnRGYWN0b3J5UmVzb2x2ZXI9bix0aGlzLl9wb3NpdGlvbkJ1aWxkZXI9aSx0aGlzLl9rZXlib2FyZERpc3BhdGNoZXI9cix0aGlzLl9pbmplY3Rvcj1vLHRoaXMuX25nWm9uZT1zLHRoaXMuX2RvY3VtZW50PWEsdGhpcy5fZGlyZWN0aW9uYWxpdHk9Yyx0aGlzLl9sb2NhdGlvbj1sfXJldHVybiBlLnByb3RvdHlwZS5jcmVhdGU9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fY3JlYXRlSG9zdEVsZW1lbnQoKSxuPXRoaXMuX2NyZWF0ZVBhbmVFbGVtZW50KHQpLGk9dGhpcy5fY3JlYXRlUG9ydGFsT3V0bGV0KG4pLHI9bmV3IFRuKGUpO3JldHVybiByLmRpcmVjdGlvbj1yLmRpcmVjdGlvbnx8dGhpcy5fZGlyZWN0aW9uYWxpdHkudmFsdWUsbmV3IFBuKGksdCxuLHIsdGhpcy5fbmdab25lLHRoaXMuX2tleWJvYXJkRGlzcGF0Y2hlcix0aGlzLl9kb2N1bWVudCx0aGlzLl9sb2NhdGlvbil9LGUucHJvdG90eXBlLnBvc2l0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Bvc2l0aW9uQnVpbGRlcn0sZS5wcm90b3R5cGUuX2NyZWF0ZVBhbmVFbGVtZW50PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2RvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7cmV0dXJuIHQuaWQ9XCJjZGstb3ZlcmxheS1cIitZbisrLHQuY2xhc3NMaXN0LmFkZChcImNkay1vdmVybGF5LXBhbmVcIiksZS5hcHBlbmRDaGlsZCh0KSx0fSxlLnByb3RvdHlwZS5fY3JlYXRlSG9zdEVsZW1lbnQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3JldHVybiB0aGlzLl9vdmVybGF5Q29udGFpbmVyLmdldENvbnRhaW5lckVsZW1lbnQoKS5hcHBlbmRDaGlsZChlKSxlfSxlLnByb3RvdHlwZS5fY3JlYXRlUG9ydGFsT3V0bGV0PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9hcHBSZWZ8fCh0aGlzLl9hcHBSZWY9dGhpcy5faW5qZWN0b3IuZ2V0KHQuQXBwbGljYXRpb25SZWYpKSxuZXcgaG4oZSx0aGlzLl9jb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIsdGhpcy5fYXBwUmVmLHRoaXMuX2luamVjdG9yKX0sZS5kZWNvcmF0b3JzPVt7dHlwZTp0LkluamVjdGFibGV9XSxlLmN0b3JQYXJhbWV0ZXJzPWZ1bmN0aW9uKCl7cmV0dXJuW3t0eXBlOkNufSx7dHlwZTpBbn0se3R5cGU6dC5Db21wb25lbnRGYWN0b3J5UmVzb2x2ZXJ9LHt0eXBlOk5ufSx7dHlwZTp4bn0se3R5cGU6dC5JbmplY3Rvcn0se3R5cGU6dC5OZ1pvbmV9LHt0eXBlOnZvaWQgMCxkZWNvcmF0b3JzOlt7dHlwZTp0LkluamVjdCxhcmdzOltuLkRPQ1VNRU5UXX1dfSx7dHlwZTpXdH0se3R5cGU6bi5Mb2NhdGlvbixkZWNvcmF0b3JzOlt7dHlwZTp0Lk9wdGlvbmFsfV19XX0sZX0oKSx6bj1be29yaWdpblg6XCJzdGFydFwiLG9yaWdpblk6XCJib3R0b21cIixvdmVybGF5WDpcInN0YXJ0XCIsb3ZlcmxheVk6XCJ0b3BcIn0se29yaWdpblg6XCJzdGFydFwiLG9yaWdpblk6XCJ0b3BcIixvdmVybGF5WDpcInN0YXJ0XCIsb3ZlcmxheVk6XCJib3R0b21cIn0se29yaWdpblg6XCJlbmRcIixvcmlnaW5ZOlwidG9wXCIsb3ZlcmxheVg6XCJlbmRcIixvdmVybGF5WTpcImJvdHRvbVwifSx7b3JpZ2luWDpcImVuZFwiLG9yaWdpblk6XCJib3R0b21cIixvdmVybGF5WDpcImVuZFwiLG92ZXJsYXlZOlwidG9wXCJ9XSxXbj1uZXcgdC5JbmplY3Rpb25Ub2tlbihcImNkay1jb25uZWN0ZWQtb3ZlcmxheS1zY3JvbGwtc3RyYXRlZ3lcIiksWm49ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMuZWxlbWVudFJlZj1lfXJldHVybiBlLmRlY29yYXRvcnM9W3t0eXBlOnQuRGlyZWN0aXZlLGFyZ3M6W3tzZWxlY3RvcjpcIltjZGstb3ZlcmxheS1vcmlnaW5dLCBbb3ZlcmxheS1vcmlnaW5dLCBbY2RrT3ZlcmxheU9yaWdpbl1cIixleHBvcnRBczpcImNka092ZXJsYXlPcmlnaW5cIn1dfV0sZS5jdG9yUGFyYW1ldGVycz1mdW5jdGlvbigpe3JldHVyblt7dHlwZTp0LkVsZW1lbnRSZWZ9XX0sZX0oKSxYbj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSxuLGkscixvKXt0aGlzLl9vdmVybGF5PWUsdGhpcy5fZGlyPW8sdGhpcy5faGFzQmFja2Ryb3A9ITEsdGhpcy5fbG9ja1Bvc2l0aW9uPSExLHRoaXMuX2dyb3dBZnRlck9wZW49ITEsdGhpcy5fZmxleGlibGVEaW1lbnNpb25zPSExLHRoaXMuX3B1c2g9ITEsdGhpcy5fYmFja2Ryb3BTdWJzY3JpcHRpb249Xy5FTVBUWSx0aGlzLnZpZXdwb3J0TWFyZ2luPTAsdGhpcy5vcGVuPSExLHRoaXMuYmFja2Ryb3BDbGljaz1uZXcgdC5FdmVudEVtaXR0ZXIsdGhpcy5wb3NpdGlvbkNoYW5nZT1uZXcgdC5FdmVudEVtaXR0ZXIsdGhpcy5hdHRhY2g9bmV3IHQuRXZlbnRFbWl0dGVyLHRoaXMuZGV0YWNoPW5ldyB0LkV2ZW50RW1pdHRlcix0aGlzLm92ZXJsYXlLZXlkb3duPW5ldyB0LkV2ZW50RW1pdHRlcix0aGlzLl90ZW1wbGF0ZVBvcnRhbD1uZXcgdW4obixpKSx0aGlzLl9zY3JvbGxTdHJhdGVneUZhY3Rvcnk9cix0aGlzLnNjcm9sbFN0cmF0ZWd5PXRoaXMuX3Njcm9sbFN0cmF0ZWd5RmFjdG9yeSgpfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJvZmZzZXRYXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vZmZzZXRYfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fb2Zmc2V0WD1lLHRoaXMuX3Bvc2l0aW9uJiZ0aGlzLl91cGRhdGVQb3NpdGlvblN0cmF0ZWd5KHRoaXMuX3Bvc2l0aW9uKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJvZmZzZXRZXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vZmZzZXRZfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fb2Zmc2V0WT1lLHRoaXMuX3Bvc2l0aW9uJiZ0aGlzLl91cGRhdGVQb3NpdGlvblN0cmF0ZWd5KHRoaXMuX3Bvc2l0aW9uKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJoYXNCYWNrZHJvcFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faGFzQmFja2Ryb3B9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9oYXNCYWNrZHJvcD1kdChlKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJsb2NrUG9zaXRpb25cIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xvY2tQb3NpdGlvbn0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2xvY2tQb3NpdGlvbj1kdChlKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJmbGV4aWJsZURpbWVuc2lvbnNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ZsZXhpYmxlRGltZW5zaW9uc30sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2ZsZXhpYmxlRGltZW5zaW9ucz1kdChlKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJncm93QWZ0ZXJPcGVuXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9ncm93QWZ0ZXJPcGVufSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fZ3Jvd0FmdGVyT3Blbj1kdChlKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJwdXNoXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9wdXNofSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fcHVzaD1kdChlKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJvdmVybGF5UmVmXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vdmVybGF5UmVmfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImRpclwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGlyP3RoaXMuX2Rpci52YWx1ZTpcImx0clwifSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLm5nT25EZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5fZGVzdHJveU92ZXJsYXkoKX0sZS5wcm90b3R5cGUubmdPbkNoYW5nZXM9ZnVuY3Rpb24oZSl7dGhpcy5fcG9zaXRpb24mJih0aGlzLl91cGRhdGVQb3NpdGlvblN0cmF0ZWd5KHRoaXMuX3Bvc2l0aW9uKSxlLm9yaWdpbiYmdGhpcy5vcGVuJiZ0aGlzLl9wb3NpdGlvbi5hcHBseSgpKSxlLm9wZW4mJih0aGlzLm9wZW4/dGhpcy5fYXR0YWNoT3ZlcmxheSgpOnRoaXMuX2RldGFjaE92ZXJsYXkoKSl9LGUucHJvdG90eXBlLl9jcmVhdGVPdmVybGF5PWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLnBvc2l0aW9ucyYmdGhpcy5wb3NpdGlvbnMubGVuZ3RofHwodGhpcy5wb3NpdGlvbnM9em4pLHRoaXMuX292ZXJsYXlSZWY9dGhpcy5fb3ZlcmxheS5jcmVhdGUodGhpcy5fYnVpbGRDb25maWcoKSksdGhpcy5fb3ZlcmxheVJlZi5rZXlkb3duRXZlbnRzKCkuc3Vic2NyaWJlKGZ1bmN0aW9uKHQpe2Uub3ZlcmxheUtleWRvd24ubmV4dCh0KSx0LmtleUNvZGU9PT1JZSYmZS5fZGV0YWNoT3ZlcmxheSgpfSl9LGUucHJvdG90eXBlLl9idWlsZENvbmZpZz1mdW5jdGlvbigpe3ZhciBlPXRoaXMuX3Bvc2l0aW9uPXRoaXMuX2NyZWF0ZVBvc2l0aW9uU3RyYXRlZ3koKSx0PW5ldyBUbih7ZGlyZWN0aW9uOnRoaXMuX2Rpcixwb3NpdGlvblN0cmF0ZWd5OmUsc2Nyb2xsU3RyYXRlZ3k6dGhpcy5zY3JvbGxTdHJhdGVneSxoYXNCYWNrZHJvcDp0aGlzLmhhc0JhY2tkcm9wfSk7cmV0dXJuKHRoaXMud2lkdGh8fDA9PT10aGlzLndpZHRoKSYmKHQud2lkdGg9dGhpcy53aWR0aCksKHRoaXMuaGVpZ2h0fHwwPT09dGhpcy5oZWlnaHQpJiYodC5oZWlnaHQ9dGhpcy5oZWlnaHQpLCh0aGlzLm1pbldpZHRofHwwPT09dGhpcy5taW5XaWR0aCkmJih0Lm1pbldpZHRoPXRoaXMubWluV2lkdGgpLCh0aGlzLm1pbkhlaWdodHx8MD09PXRoaXMubWluSGVpZ2h0KSYmKHQubWluSGVpZ2h0PXRoaXMubWluSGVpZ2h0KSx0aGlzLmJhY2tkcm9wQ2xhc3MmJih0LmJhY2tkcm9wQ2xhc3M9dGhpcy5iYWNrZHJvcENsYXNzKSx0aGlzLnBhbmVsQ2xhc3MmJih0LnBhbmVsQ2xhc3M9dGhpcy5wYW5lbENsYXNzKSx0fSxlLnByb3RvdHlwZS5fdXBkYXRlUG9zaXRpb25TdHJhdGVneT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLG49dGhpcy5wb3NpdGlvbnMubWFwKGZ1bmN0aW9uKGUpe3JldHVybntvcmlnaW5YOmUub3JpZ2luWCxvcmlnaW5ZOmUub3JpZ2luWSxvdmVybGF5WDplLm92ZXJsYXlYLG92ZXJsYXlZOmUub3ZlcmxheVksb2Zmc2V0WDplLm9mZnNldFh8fHQub2Zmc2V0WCxvZmZzZXRZOmUub2Zmc2V0WXx8dC5vZmZzZXRZfX0pO3JldHVybiBlLnNldE9yaWdpbih0aGlzLm9yaWdpbi5lbGVtZW50UmVmKS53aXRoUG9zaXRpb25zKG4pLndpdGhGbGV4aWJsZURpbWVuc2lvbnModGhpcy5mbGV4aWJsZURpbWVuc2lvbnMpLndpdGhQdXNoKHRoaXMucHVzaCkud2l0aEdyb3dBZnRlck9wZW4odGhpcy5ncm93QWZ0ZXJPcGVuKS53aXRoVmlld3BvcnRNYXJnaW4odGhpcy52aWV3cG9ydE1hcmdpbikud2l0aExvY2tlZFBvc2l0aW9uKHRoaXMubG9ja1Bvc2l0aW9uKX0sZS5wcm90b3R5cGUuX2NyZWF0ZVBvc2l0aW9uU3RyYXRlZ3k9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9dGhpcy5fb3ZlcmxheS5wb3NpdGlvbigpLmZsZXhpYmxlQ29ubmVjdGVkVG8odGhpcy5vcmlnaW4uZWxlbWVudFJlZik7cmV0dXJuIHRoaXMuX3VwZGF0ZVBvc2l0aW9uU3RyYXRlZ3kodCksdC5wb3NpdGlvbkNoYW5nZXMuc3Vic2NyaWJlKGZ1bmN0aW9uKHQpe3JldHVybiBlLnBvc2l0aW9uQ2hhbmdlLmVtaXQodCl9KSx0fSxlLnByb3RvdHlwZS5fYXR0YWNoT3ZlcmxheT1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5fb3ZlcmxheVJlZj90aGlzLl9vdmVybGF5UmVmLnVwZGF0ZVNpemUoe3dpZHRoOnRoaXMud2lkdGgsbWluV2lkdGg6dGhpcy5taW5XaWR0aCxoZWlnaHQ6dGhpcy5oZWlnaHQsbWluSGVpZ2h0OnRoaXMubWluSGVpZ2h0fSk6dGhpcy5fY3JlYXRlT3ZlcmxheSgpLHRoaXMuX292ZXJsYXlSZWYuaGFzQXR0YWNoZWQoKXx8KHRoaXMuX292ZXJsYXlSZWYuYXR0YWNoKHRoaXMuX3RlbXBsYXRlUG9ydGFsKSx0aGlzLmF0dGFjaC5lbWl0KCkpLHRoaXMuaGFzQmFja2Ryb3AmJih0aGlzLl9iYWNrZHJvcFN1YnNjcmlwdGlvbj10aGlzLl9vdmVybGF5UmVmLmJhY2tkcm9wQ2xpY2soKS5zdWJzY3JpYmUoZnVuY3Rpb24odCl7ZS5iYWNrZHJvcENsaWNrLmVtaXQodCl9KSl9LGUucHJvdG90eXBlLl9kZXRhY2hPdmVybGF5PWZ1bmN0aW9uKCl7dGhpcy5fb3ZlcmxheVJlZiYmKHRoaXMuX292ZXJsYXlSZWYuZGV0YWNoKCksdGhpcy5kZXRhY2guZW1pdCgpKSx0aGlzLl9iYWNrZHJvcFN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpfSxlLnByb3RvdHlwZS5fZGVzdHJveU92ZXJsYXk9ZnVuY3Rpb24oKXt0aGlzLl9vdmVybGF5UmVmJiZ0aGlzLl9vdmVybGF5UmVmLmRpc3Bvc2UoKSx0aGlzLl9iYWNrZHJvcFN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpfSxlLmRlY29yYXRvcnM9W3t0eXBlOnQuRGlyZWN0aXZlLGFyZ3M6W3tzZWxlY3RvcjpcIltjZGstY29ubmVjdGVkLW92ZXJsYXldLCBbY29ubmVjdGVkLW92ZXJsYXldLCBbY2RrQ29ubmVjdGVkT3ZlcmxheV1cIixleHBvcnRBczpcImNka0Nvbm5lY3RlZE92ZXJsYXlcIn1dfV0sZS5jdG9yUGFyYW1ldGVycz1mdW5jdGlvbigpe3JldHVyblt7dHlwZTpIbn0se3R5cGU6dC5UZW1wbGF0ZVJlZn0se3R5cGU6dC5WaWV3Q29udGFpbmVyUmVmfSx7dHlwZTp2b2lkIDAsZGVjb3JhdG9yczpbe3R5cGU6dC5JbmplY3QsYXJnczpbV25dfV19LHt0eXBlOld0LGRlY29yYXRvcnM6W3t0eXBlOnQuT3B0aW9uYWx9XX1dfSxlLnByb3BEZWNvcmF0b3JzPXtvcmlnaW46W3t0eXBlOnQuSW5wdXQsYXJnczpbXCJjZGtDb25uZWN0ZWRPdmVybGF5T3JpZ2luXCJdfV0scG9zaXRpb25zOlt7dHlwZTp0LklucHV0LGFyZ3M6W1wiY2RrQ29ubmVjdGVkT3ZlcmxheVBvc2l0aW9uc1wiXX1dLG9mZnNldFg6W3t0eXBlOnQuSW5wdXQsYXJnczpbXCJjZGtDb25uZWN0ZWRPdmVybGF5T2Zmc2V0WFwiXX1dLG9mZnNldFk6W3t0eXBlOnQuSW5wdXQsYXJnczpbXCJjZGtDb25uZWN0ZWRPdmVybGF5T2Zmc2V0WVwiXX1dLHdpZHRoOlt7dHlwZTp0LklucHV0LGFyZ3M6W1wiY2RrQ29ubmVjdGVkT3ZlcmxheVdpZHRoXCJdfV0saGVpZ2h0Olt7dHlwZTp0LklucHV0LGFyZ3M6W1wiY2RrQ29ubmVjdGVkT3ZlcmxheUhlaWdodFwiXX1dLG1pbldpZHRoOlt7dHlwZTp0LklucHV0LGFyZ3M6W1wiY2RrQ29ubmVjdGVkT3ZlcmxheU1pbldpZHRoXCJdfV0sbWluSGVpZ2h0Olt7dHlwZTp0LklucHV0LGFyZ3M6W1wiY2RrQ29ubmVjdGVkT3ZlcmxheU1pbkhlaWdodFwiXX1dLGJhY2tkcm9wQ2xhc3M6W3t0eXBlOnQuSW5wdXQsYXJnczpbXCJjZGtDb25uZWN0ZWRPdmVybGF5QmFja2Ryb3BDbGFzc1wiXX1dLHBhbmVsQ2xhc3M6W3t0eXBlOnQuSW5wdXQsYXJnczpbXCJjZGtDb25uZWN0ZWRPdmVybGF5UGFuZWxDbGFzc1wiXX1dLHZpZXdwb3J0TWFyZ2luOlt7dHlwZTp0LklucHV0LGFyZ3M6W1wiY2RrQ29ubmVjdGVkT3ZlcmxheVZpZXdwb3J0TWFyZ2luXCJdfV0sc2Nyb2xsU3RyYXRlZ3k6W3t0eXBlOnQuSW5wdXQsYXJnczpbXCJjZGtDb25uZWN0ZWRPdmVybGF5U2Nyb2xsU3RyYXRlZ3lcIl19XSxvcGVuOlt7dHlwZTp0LklucHV0LGFyZ3M6W1wiY2RrQ29ubmVjdGVkT3ZlcmxheU9wZW5cIl19XSxoYXNCYWNrZHJvcDpbe3R5cGU6dC5JbnB1dCxhcmdzOltcImNka0Nvbm5lY3RlZE92ZXJsYXlIYXNCYWNrZHJvcFwiXX1dLGxvY2tQb3NpdGlvbjpbe3R5cGU6dC5JbnB1dCxhcmdzOltcImNka0Nvbm5lY3RlZE92ZXJsYXlMb2NrUG9zaXRpb25cIl19XSxmbGV4aWJsZURpbWVuc2lvbnM6W3t0eXBlOnQuSW5wdXQsYXJnczpbXCJjZGtDb25uZWN0ZWRPdmVybGF5RmxleGlibGVEaW1lbnNpb25zXCJdfV0sZ3Jvd0FmdGVyT3Blbjpbe3R5cGU6dC5JbnB1dCxhcmdzOltcImNka0Nvbm5lY3RlZE92ZXJsYXlHcm93QWZ0ZXJPcGVuXCJdfV0scHVzaDpbe3R5cGU6dC5JbnB1dCxhcmdzOltcImNka0Nvbm5lY3RlZE92ZXJsYXlQdXNoXCJdfV0sYmFja2Ryb3BDbGljazpbe3R5cGU6dC5PdXRwdXR9XSxwb3NpdGlvbkNoYW5nZTpbe3R5cGU6dC5PdXRwdXR9XSxhdHRhY2g6W3t0eXBlOnQuT3V0cHV0fV0sZGV0YWNoOlt7dHlwZTp0Lk91dHB1dH1dLG92ZXJsYXlLZXlkb3duOlt7dHlwZTp0Lk91dHB1dH1dfSxlfSgpO3ZhciAkbj17cHJvdmlkZTpXbixkZXBzOltIbl0sdXNlRmFjdG9yeTpmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZS5zY3JvbGxTdHJhdGVnaWVzLnJlcG9zaXRpb24oKX19fSxLbj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGUuZGVjb3JhdG9ycz1be3R5cGU6dC5OZ01vZHVsZSxhcmdzOlt7aW1wb3J0czpbWHQsbW4sb25dLGV4cG9ydHM6W1huLFpuLG9uXSxkZWNsYXJhdGlvbnM6W1huLFpuXSxwcm92aWRlcnM6W0huLCRuXX1dfV0sZX0oKSxVbj0oZnVuY3Rpb24oZSl7ZnVuY3Rpb24gaSh0KXtyZXR1cm4gZS5jYWxsKHRoaXMsdCl8fHRoaXN9aXQoaSxlKSxpLnByb3RvdHlwZS5uZ09uRGVzdHJveT1mdW5jdGlvbigpe2UucHJvdG90eXBlLm5nT25EZXN0cm95LmNhbGwodGhpcyksdGhpcy5fZnVsbFNjcmVlbkV2ZW50TmFtZSYmdGhpcy5fZnVsbFNjcmVlbkxpc3RlbmVyJiZ0aGlzLl9kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMuX2Z1bGxTY3JlZW5FdmVudE5hbWUsdGhpcy5fZnVsbFNjcmVlbkxpc3RlbmVyKX0saS5wcm90b3R5cGUuX2NyZWF0ZUNvbnRhaW5lcj1mdW5jdGlvbigpe3ZhciB0PXRoaXM7ZS5wcm90b3R5cGUuX2NyZWF0ZUNvbnRhaW5lci5jYWxsKHRoaXMpLHRoaXMuX2FkanVzdFBhcmVudEZvckZ1bGxzY3JlZW5DaGFuZ2UoKSx0aGlzLl9hZGRGdWxsc2NyZWVuQ2hhbmdlTGlzdGVuZXIoZnVuY3Rpb24oKXtyZXR1cm4gdC5fYWRqdXN0UGFyZW50Rm9yRnVsbHNjcmVlbkNoYW5nZSgpfSl9LGkucHJvdG90eXBlLl9hZGp1c3RQYXJlbnRGb3JGdWxsc2NyZWVuQ2hhbmdlPWZ1bmN0aW9uKCl7dGhpcy5fY29udGFpbmVyRWxlbWVudCYmKHRoaXMuZ2V0RnVsbHNjcmVlbkVsZW1lbnQoKXx8dGhpcy5fZG9jdW1lbnQuYm9keSkuYXBwZW5kQ2hpbGQodGhpcy5fY29udGFpbmVyRWxlbWVudCl9LGkucHJvdG90eXBlLl9hZGRGdWxsc2NyZWVuQ2hhbmdlTGlzdGVuZXI9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fZ2V0RXZlbnROYW1lKCk7dCYmKHRoaXMuX2Z1bGxTY3JlZW5MaXN0ZW5lciYmdGhpcy5fZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0LHRoaXMuX2Z1bGxTY3JlZW5MaXN0ZW5lciksdGhpcy5fZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcih0LGUpLHRoaXMuX2Z1bGxTY3JlZW5MaXN0ZW5lcj1lKX0saS5wcm90b3R5cGUuX2dldEV2ZW50TmFtZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9mdWxsU2NyZWVuRXZlbnROYW1lfHwodGhpcy5fZG9jdW1lbnQuZnVsbHNjcmVlbkVuYWJsZWQ/dGhpcy5fZnVsbFNjcmVlbkV2ZW50TmFtZT1cImZ1bGxzY3JlZW5jaGFuZ2VcIjp0aGlzLl9kb2N1bWVudC53ZWJraXRGdWxsc2NyZWVuRW5hYmxlZD90aGlzLl9mdWxsU2NyZWVuRXZlbnROYW1lPVwid2Via2l0ZnVsbHNjcmVlbmNoYW5nZVwiOnRoaXMuX2RvY3VtZW50Lm1vekZ1bGxTY3JlZW5FbmFibGVkP3RoaXMuX2Z1bGxTY3JlZW5FdmVudE5hbWU9XCJtb3pmdWxsc2NyZWVuY2hhbmdlXCI6dGhpcy5fZG9jdW1lbnQubXNGdWxsc2NyZWVuRW5hYmxlZCYmKHRoaXMuX2Z1bGxTY3JlZW5FdmVudE5hbWU9XCJNU0Z1bGxzY3JlZW5DaGFuZ2VcIikpLHRoaXMuX2Z1bGxTY3JlZW5FdmVudE5hbWV9LGkucHJvdG90eXBlLmdldEZ1bGxzY3JlZW5FbGVtZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RvY3VtZW50LmZ1bGxzY3JlZW5FbGVtZW50fHx0aGlzLl9kb2N1bWVudC53ZWJraXRGdWxsc2NyZWVuRWxlbWVudHx8dGhpcy5fZG9jdW1lbnQubW96RnVsbFNjcmVlbkVsZW1lbnR8fHRoaXMuX2RvY3VtZW50Lm1zRnVsbHNjcmVlbkVsZW1lbnR8fG51bGx9LGkuZGVjb3JhdG9ycz1be3R5cGU6dC5JbmplY3RhYmxlfV0saS5jdG9yUGFyYW1ldGVycz1mdW5jdGlvbigpe3JldHVyblt7dHlwZTp2b2lkIDAsZGVjb3JhdG9yczpbe3R5cGU6dC5JbmplY3QsYXJnczpbbi5ET0NVTUVOVF19XX1dfX0oQW4pLGZ1bmN0aW9uKGUsdCxuLGkpe3ZhciByLG89YXJndW1lbnRzLmxlbmd0aCxzPW88Mz90Om51bGw9PT1pP2k9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LG4pOmk7aWYoXCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3QmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUpcz1SZWZsZWN0LmRlY29yYXRlKGUsdCxuLGkpO2Vsc2UgZm9yKHZhciBhPWUubGVuZ3RoLTE7YT49MDthLS0pKHI9ZVthXSkmJihzPShvPDM/cihzKTpvPjM/cih0LG4scyk6cih0LG4pKXx8cyk7cmV0dXJuIG8+MyYmcyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsbixzKSxzfSksR249ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5jaGFuZ2VzPW5ldyBQLHRoaXMudXBTZWNvbmRMYWJlbD1cIkFkZCBhIHNlY29uZFwiLHRoaXMuZG93blNlY29uZExhYmVsPVwiTWludXMgYSBzZWNvbmRcIix0aGlzLnVwTWludXRlTGFiZWw9XCJBZGQgYSBtaW51dGVcIix0aGlzLmRvd25NaW51dGVMYWJlbD1cIk1pbnVzIGEgbWludXRlXCIsdGhpcy51cEhvdXJMYWJlbD1cIkFkZCBhIGhvdXJcIix0aGlzLmRvd25Ib3VyTGFiZWw9XCJNaW51cyBhIGhvdXJcIix0aGlzLnByZXZNb250aExhYmVsPVwiUHJldmlvdXMgbW9udGhcIix0aGlzLm5leHRNb250aExhYmVsPVwiTmV4dCBtb250aFwiLHRoaXMucHJldlllYXJMYWJlbD1cIlByZXZpb3VzIHllYXJcIix0aGlzLm5leHRZZWFyTGFiZWw9XCJOZXh0IHllYXJcIix0aGlzLnByZXZNdWx0aVllYXJMYWJlbD1cIlByZXZpb3VzIDIxIHllYXJzXCIsdGhpcy5uZXh0TXVsdGlZZWFyTGFiZWw9XCJOZXh0IDIxIHllYXJzXCIsdGhpcy5zd2l0Y2hUb01vbnRoVmlld0xhYmVsPVwiQ2hhbmdlIHRvIG1vbnRoIHZpZXdcIix0aGlzLnN3aXRjaFRvTXVsdGlZZWFyVmlld0xhYmVsPVwiQ2hvb3NlIG1vbnRoIGFuZCB5ZWFyXCIsdGhpcy5jYW5jZWxCdG5MYWJlbD1cIkNhbmNlbFwiLHRoaXMuc2V0QnRuTGFiZWw9XCJTZXRcIix0aGlzLnJhbmdlRnJvbUxhYmVsPVwiRnJvbVwiLHRoaXMucmFuZ2VUb0xhYmVsPVwiVG9cIix0aGlzLmhvdXIxMkFNTGFiZWw9XCJBTVwiLHRoaXMuaG91cjEyUE1MYWJlbD1cIlBNXCJ9cmV0dXJuIGU9VW4oW3QuSW5qZWN0YWJsZSh7cHJvdmlkZWRJbjpcInJvb3RcIn0pXSxlKX0oKSxxbj1uZXcgdC5JbmplY3Rpb25Ub2tlbihcIk9XTF9EQVRFX1RJTUVfTE9DQUxFXCIse3Byb3ZpZGVkSW46XCJyb290XCIsZmFjdG9yeTpmdW5jdGlvbigpe3JldHVybiB0LmluamVjdCh0LkxPQ0FMRV9JRCl9fSk7dmFyIEpuLFFuPXtwcm92aWRlOnFuLHVzZUV4aXN0aW5nOnQuTE9DQUxFX0lEfSxlaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLl9sb2NhbGVDaGFuZ2VzPW5ldyBQLHRoaXMubWlsbGlzZWNvbmRzSW5EYXk9ODY0ZTUsdGhpcy5taWxsaXNlb25kc0luTWludXRlPTZlNH1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwibG9jYWxlQ2hhbmdlc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbG9jYWxlQ2hhbmdlc30sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5jb21wYXJlPWZ1bmN0aW9uKGUsdCl7aWYoIXRoaXMuaXNWYWxpZChlKXx8IXRoaXMuaXNWYWxpZCh0KSl0aHJvdyBFcnJvcihcIkpTTmF0aXZlRGF0ZTogQ2Fubm90IGNvbXBhcmUgaW52YWxpZCBkYXRlcy5cIik7dmFyIG49dGhpcy5jbG9uZShlKSxpPXRoaXMuY2xvbmUodCkscj10aGlzLmdldFRpbWUobiktdGhpcy5nZXRUaW1lKGkpO3JldHVybiByPDA/LTE6cj4wPzE6cn0sZS5wcm90b3R5cGUuY29tcGFyZVllYXI9ZnVuY3Rpb24oZSx0KXtpZighdGhpcy5pc1ZhbGlkKGUpfHwhdGhpcy5pc1ZhbGlkKHQpKXRocm93IEVycm9yKFwiSlNOYXRpdmVEYXRlOiBDYW5ub3QgY29tcGFyZSBpbnZhbGlkIGRhdGVzLlwiKTt2YXIgbj10aGlzLmdldFllYXIoZSktdGhpcy5nZXRZZWFyKHQpO3JldHVybiBuPDA/LTE6bj4wPzE6MH0sZS5wcm90b3R5cGUuZGVzZXJpYWxpemU9ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PWV8fHRoaXMuaXNEYXRlSW5zdGFuY2UoZSkmJnRoaXMuaXNWYWxpZChlKT9lOnRoaXMuaW52YWxpZCgpfSxlLnByb3RvdHlwZS5zZXRMb2NhbGU9ZnVuY3Rpb24oZSl7dGhpcy5sb2NhbGU9ZSx0aGlzLl9sb2NhbGVDaGFuZ2VzLm5leHQoKX0sZS5wcm90b3R5cGUuY2xhbXBEYXRlPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdCYmdGhpcy5jb21wYXJlKGUsdCk8MD90Om4mJnRoaXMuY29tcGFyZShlLG4pPjA/bjplfSxlfSgpLHRpPW5ldyB0LkluamVjdGlvblRva2VuKFwiT1dMX0RBVEVfVElNRV9GT1JNQVRTXCIpLG5pPWZ1bmN0aW9uKGUsdCxuLGkpe3ZhciByLG89YXJndW1lbnRzLmxlbmd0aCxzPW88Mz90Om51bGw9PT1pP2k9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LG4pOmk7aWYoXCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3QmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUpcz1SZWZsZWN0LmRlY29yYXRlKGUsdCxuLGkpO2Vsc2UgZm9yKHZhciBhPWUubGVuZ3RoLTE7YT49MDthLS0pKHI9ZVthXSkmJihzPShvPDM/cihzKTpvPjM/cih0LG4scyk6cih0LG4pKXx8cyk7cmV0dXJuIG8+MyYmcyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsbixzKSxzfSxpaT1mdW5jdGlvbihlLHQpe2lmKFwib2JqZWN0XCI9PXR5cGVvZiBSZWZsZWN0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhKXJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKGUsdCl9LHJpPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKG4saSl7dChuLGksZSl9fSxvaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSxuLGkscixvLHMpe3ZhciBhPXRoaXM7dGhpcy5lbG1SZWY9ZSx0aGlzLnBpY2tlckludGw9bix0aGlzLm5nWm9uZT1pLHRoaXMuY2RSZWY9cix0aGlzLmRhdGVUaW1lQWRhcHRlcj1vLHRoaXMuZGF0ZVRpbWVGb3JtYXRzPXMsdGhpcy5maXJzdERheU9mV2Vlaz0wLHRoaXMuX3NlbGVjdGVkcz1bXSx0aGlzLnN0YXJ0Vmlldz1cIm1vbnRoXCIsdGhpcy5waWNrZXJNb21lbnRDaGFuZ2U9bmV3IHQuRXZlbnRFbWl0dGVyLHRoaXMuc2VsZWN0ZWRDaGFuZ2U9bmV3IHQuRXZlbnRFbWl0dGVyLHRoaXMudXNlclNlbGVjdGlvbj1uZXcgdC5FdmVudEVtaXR0ZXIsdGhpcy55ZWFyU2VsZWN0ZWQ9bmV3IHQuRXZlbnRFbWl0dGVyLHRoaXMubW9udGhTZWxlY3RlZD1uZXcgdC5FdmVudEVtaXR0ZXIsdGhpcy5kYXRlRmlsdGVyRm9yVmlld3M9ZnVuY3Rpb24oZSl7cmV0dXJuISFlJiYoIWEuZGF0ZUZpbHRlcnx8YS5kYXRlRmlsdGVyKGUpKSYmKCFhLm1pbkRhdGV8fGEuZGF0ZVRpbWVBZGFwdGVyLmNvbXBhcmUoZSxhLm1pbkRhdGUpPj0wKSYmKCFhLm1heERhdGV8fGEuZGF0ZVRpbWVBZGFwdGVyLmNvbXBhcmUoZSxhLm1heERhdGUpPD0wKX0sdGhpcy5pbnRsQ2hhbmdlc1N1Yj1fLkVNUFRZLHRoaXMubW92ZUZvY3VzT25OZXh0VGljaz0hMSx0aGlzLmludGxDaGFuZ2VzU3ViPXRoaXMucGlja2VySW50bC5jaGFuZ2VzLnN1YnNjcmliZShmdW5jdGlvbigpe2EuY2RSZWYubWFya0ZvckNoZWNrKCl9KX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwibWluRGF0ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWluRGF0ZX0sc2V0OmZ1bmN0aW9uKGUpe2U9dGhpcy5kYXRlVGltZUFkYXB0ZXIuZGVzZXJpYWxpemUoZSksZT10aGlzLmdldFZhbGlkRGF0ZShlKSx0aGlzLl9taW5EYXRlPWU/dGhpcy5kYXRlVGltZUFkYXB0ZXIuY3JlYXRlRGF0ZSh0aGlzLmRhdGVUaW1lQWRhcHRlci5nZXRZZWFyKGUpLHRoaXMuZGF0ZVRpbWVBZGFwdGVyLmdldE1vbnRoKGUpLHRoaXMuZGF0ZVRpbWVBZGFwdGVyLmdldERhdGUoZSkpOm51bGx9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwibWF4RGF0ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWF4RGF0ZX0sc2V0OmZ1bmN0aW9uKGUpe2U9dGhpcy5kYXRlVGltZUFkYXB0ZXIuZGVzZXJpYWxpemUoZSksZT10aGlzLmdldFZhbGlkRGF0ZShlKSx0aGlzLl9tYXhEYXRlPWU/dGhpcy5kYXRlVGltZUFkYXB0ZXIuY3JlYXRlRGF0ZSh0aGlzLmRhdGVUaW1lQWRhcHRlci5nZXRZZWFyKGUpLHRoaXMuZGF0ZVRpbWVBZGFwdGVyLmdldE1vbnRoKGUpLHRoaXMuZGF0ZVRpbWVBZGFwdGVyLmdldERhdGUoZSkpOm51bGx9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwicGlja2VyTW9tZW50XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9waWNrZXJNb21lbnR9LHNldDpmdW5jdGlvbihlKXtlPXRoaXMuZGF0ZVRpbWVBZGFwdGVyLmRlc2VyaWFsaXplKGUpLHRoaXMuX3BpY2tlck1vbWVudD10aGlzLmdldFZhbGlkRGF0ZShlKXx8dGhpcy5kYXRlVGltZUFkYXB0ZXIubm93KCl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwic2VsZWN0ZWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NlbGVjdGVkfSxzZXQ6ZnVuY3Rpb24oZSl7ZT10aGlzLmRhdGVUaW1lQWRhcHRlci5kZXNlcmlhbGl6ZShlKSx0aGlzLl9zZWxlY3RlZD10aGlzLmdldFZhbGlkRGF0ZShlKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJzZWxlY3RlZHNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NlbGVjdGVkc30sc2V0OmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dGhpcy5fc2VsZWN0ZWRzPWUubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlPXQuZGF0ZVRpbWVBZGFwdGVyLmRlc2VyaWFsaXplKGUpLHQuZ2V0VmFsaWREYXRlKGUpfSl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwicGVyaW9kQnV0dG9uVGV4dFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc01vbnRoVmlldz90aGlzLmRhdGVUaW1lQWRhcHRlci5mb3JtYXQodGhpcy5waWNrZXJNb21lbnQsdGhpcy5kYXRlVGltZUZvcm1hdHMubW9udGhZZWFyTGFiZWwpOnRoaXMuZGF0ZVRpbWVBZGFwdGVyLmdldFllYXJOYW1lKHRoaXMucGlja2VyTW9tZW50KX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJwZXJpb2RCdXR0b25MYWJlbFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc01vbnRoVmlldz90aGlzLnBpY2tlckludGwuc3dpdGNoVG9NdWx0aVllYXJWaWV3TGFiZWw6dGhpcy5waWNrZXJJbnRsLnN3aXRjaFRvTW9udGhWaWV3TGFiZWx9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwicHJldkJ1dHRvbkxhYmVsXCIse2dldDpmdW5jdGlvbigpe3JldHVyblwibW9udGhcIj09PXRoaXMuX2N1cnJlbnRWaWV3P3RoaXMucGlja2VySW50bC5wcmV2TW9udGhMYWJlbDpcInllYXJcIj09PXRoaXMuX2N1cnJlbnRWaWV3P3RoaXMucGlja2VySW50bC5wcmV2WWVhckxhYmVsOm51bGx9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwibmV4dEJ1dHRvbkxhYmVsXCIse2dldDpmdW5jdGlvbigpe3JldHVyblwibW9udGhcIj09PXRoaXMuX2N1cnJlbnRWaWV3P3RoaXMucGlja2VySW50bC5uZXh0TW9udGhMYWJlbDpcInllYXJcIj09PXRoaXMuX2N1cnJlbnRWaWV3P3RoaXMucGlja2VySW50bC5uZXh0WWVhckxhYmVsOm51bGx9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiY3VycmVudFZpZXdcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2N1cnJlbnRWaWV3fSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fY3VycmVudFZpZXc9ZSx0aGlzLm1vdmVGb2N1c09uTmV4dFRpY2s9ITB9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiaXNJblNpbmdsZU1vZGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuXCJzaW5nbGVcIj09PXRoaXMuc2VsZWN0TW9kZX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJpc0luUmFuZ2VNb2RlXCIse2dldDpmdW5jdGlvbigpe3JldHVyblwicmFuZ2VcIj09PXRoaXMuc2VsZWN0TW9kZXx8XCJyYW5nZUZyb21cIj09PXRoaXMuc2VsZWN0TW9kZXx8XCJyYW5nZVRvXCI9PT10aGlzLnNlbGVjdE1vZGV9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwic2hvd0NvbnRyb2xBcnJvd3NcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuXCJtdWx0aS15ZWFyc1wiIT09dGhpcy5fY3VycmVudFZpZXd9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiaXNNb250aFZpZXdcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuXCJtb250aFwiPT09dGhpcy5fY3VycmVudFZpZXd9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwib3dsRFRDYWxlbmRhckNsYXNzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiEwfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLm5nT25Jbml0PWZ1bmN0aW9uKCl7fSxlLnByb3RvdHlwZS5uZ0FmdGVyQ29udGVudEluaXQ9ZnVuY3Rpb24oKXt0aGlzLl9jdXJyZW50Vmlldz10aGlzLnN0YXJ0Vmlld30sZS5wcm90b3R5cGUubmdBZnRlclZpZXdDaGVja2VkPWZ1bmN0aW9uKCl7dGhpcy5tb3ZlRm9jdXNPbk5leHRUaWNrJiYodGhpcy5tb3ZlRm9jdXNPbk5leHRUaWNrPSExLHRoaXMuZm9jdXNBY3RpdmVDZWxsKCkpfSxlLnByb3RvdHlwZS5uZ09uRGVzdHJveT1mdW5jdGlvbigpe3RoaXMuaW50bENoYW5nZXNTdWIudW5zdWJzY3JpYmUoKX0sZS5wcm90b3R5cGUudG9nZ2xlVmlld3M9ZnVuY3Rpb24oKXt0aGlzLmN1cnJlbnRWaWV3PVwibW9udGhcIj09dGhpcy5fY3VycmVudFZpZXc/XCJtdWx0aS15ZWFyc1wiOlwibW9udGhcIn0sZS5wcm90b3R5cGUucHJldmlvdXNDbGlja2VkPWZ1bmN0aW9uKCl7dGhpcy5waWNrZXJNb21lbnQ9dGhpcy5pc01vbnRoVmlldz90aGlzLmRhdGVUaW1lQWRhcHRlci5hZGRDYWxlbmRhck1vbnRocyh0aGlzLnBpY2tlck1vbWVudCwtMSk6dGhpcy5kYXRlVGltZUFkYXB0ZXIuYWRkQ2FsZW5kYXJZZWFycyh0aGlzLnBpY2tlck1vbWVudCwtMSksdGhpcy5waWNrZXJNb21lbnRDaGFuZ2UuZW1pdCh0aGlzLnBpY2tlck1vbWVudCl9LGUucHJvdG90eXBlLm5leHRDbGlja2VkPWZ1bmN0aW9uKCl7dGhpcy5waWNrZXJNb21lbnQ9dGhpcy5pc01vbnRoVmlldz90aGlzLmRhdGVUaW1lQWRhcHRlci5hZGRDYWxlbmRhck1vbnRocyh0aGlzLnBpY2tlck1vbWVudCwxKTp0aGlzLmRhdGVUaW1lQWRhcHRlci5hZGRDYWxlbmRhclllYXJzKHRoaXMucGlja2VyTW9tZW50LDEpLHRoaXMucGlja2VyTW9tZW50Q2hhbmdlLmVtaXQodGhpcy5waWNrZXJNb21lbnQpfSxlLnByb3RvdHlwZS5kYXRlU2VsZWN0ZWQ9ZnVuY3Rpb24oZSl7dGhpcy5kYXRlRmlsdGVyRm9yVmlld3MoZSkmJnRoaXMuc2VsZWN0ZWRDaGFuZ2UuZW1pdChlKX0sZS5wcm90b3R5cGUuZ29Ub0RhdGVJblZpZXc9ZnVuY3Rpb24oZSx0KXt0aGlzLmhhbmRsZVBpY2tlck1vbWVudENoYW5nZShlKSx0aGlzLmN1cnJlbnRWaWV3PXR9LGUucHJvdG90eXBlLmhhbmRsZVBpY2tlck1vbWVudENoYW5nZT1mdW5jdGlvbihlKXt0aGlzLnBpY2tlck1vbWVudD10aGlzLmRhdGVUaW1lQWRhcHRlci5jbGFtcERhdGUoZSx0aGlzLm1pbkRhdGUsdGhpcy5tYXhEYXRlKSx0aGlzLnBpY2tlck1vbWVudENoYW5nZS5lbWl0KHRoaXMucGlja2VyTW9tZW50KX0sZS5wcm90b3R5cGUudXNlclNlbGVjdGVkPWZ1bmN0aW9uKCl7dGhpcy51c2VyU2VsZWN0aW9uLmVtaXQoKX0sZS5wcm90b3R5cGUucHJldkJ1dHRvbkVuYWJsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5taW5EYXRlfHwhdGhpcy5pc1NhbWVWaWV3KHRoaXMucGlja2VyTW9tZW50LHRoaXMubWluRGF0ZSl9LGUucHJvdG90eXBlLm5leHRCdXR0b25FbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMubWF4RGF0ZXx8IXRoaXMuaXNTYW1lVmlldyh0aGlzLnBpY2tlck1vbWVudCx0aGlzLm1heERhdGUpfSxlLnByb3RvdHlwZS5mb2N1c0FjdGl2ZUNlbGw9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMubmdab25lLnJ1bk91dHNpZGVBbmd1bGFyKGZ1bmN0aW9uKCl7ZS5uZ1pvbmUub25TdGFibGUuYXNPYnNlcnZhYmxlKCkucGlwZShXZSgxKSkuc3Vic2NyaWJlKGZ1bmN0aW9uKCl7ZS5lbG1SZWYubmF0aXZlRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm93bC1kdC1jYWxlbmRhci1jZWxsLWFjdGl2ZVwiKS5mb2N1cygpfSl9KX0sZS5wcm90b3R5cGUuc2VsZWN0WWVhckluTXVsdGlZZWFyVmlldz1mdW5jdGlvbihlKXt0aGlzLnllYXJTZWxlY3RlZC5lbWl0KGUpfSxlLnByb3RvdHlwZS5zZWxlY3RNb250aEluWWVhclZpZXc9ZnVuY3Rpb24oZSl7dGhpcy5tb250aFNlbGVjdGVkLmVtaXQoZSl9LGUucHJvdG90eXBlLmlzU2FtZVZpZXc9ZnVuY3Rpb24oZSx0KXtyZXR1cm5cIm1vbnRoXCI9PT10aGlzLl9jdXJyZW50Vmlldz8hKCFlfHwhdHx8dGhpcy5kYXRlVGltZUFkYXB0ZXIuZ2V0WWVhcihlKSE9PXRoaXMuZGF0ZVRpbWVBZGFwdGVyLmdldFllYXIodCl8fHRoaXMuZGF0ZVRpbWVBZGFwdGVyLmdldE1vbnRoKGUpIT09dGhpcy5kYXRlVGltZUFkYXB0ZXIuZ2V0TW9udGgodCkpOlwieWVhclwiPT09dGhpcy5fY3VycmVudFZpZXcmJiEoIWV8fCF0fHx0aGlzLmRhdGVUaW1lQWRhcHRlci5nZXRZZWFyKGUpIT09dGhpcy5kYXRlVGltZUFkYXB0ZXIuZ2V0WWVhcih0KSl9LGUucHJvdG90eXBlLmdldFZhbGlkRGF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5kYXRlVGltZUFkYXB0ZXIuaXNEYXRlSW5zdGFuY2UoZSkmJnRoaXMuZGF0ZVRpbWVBZGFwdGVyLmlzVmFsaWQoZSk/ZTpudWxsfSxuaShbdC5JbnB1dCgpLGlpKFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbildLGUucHJvdG90eXBlLFwiZGF0ZUZpbHRlclwiLHZvaWQgMCksbmkoW3QuSW5wdXQoKSxpaShcImRlc2lnbjp0eXBlXCIsT2JqZWN0KV0sZS5wcm90b3R5cGUsXCJmaXJzdERheU9mV2Vla1wiLHZvaWQgMCksbmkoW3QuSW5wdXQoKSxpaShcImRlc2lnbjp0eXBlXCIsT2JqZWN0KSxpaShcImRlc2lnbjpwYXJhbXR5cGVzXCIsW09iamVjdF0pXSxlLnByb3RvdHlwZSxcIm1pbkRhdGVcIixudWxsKSxuaShbdC5JbnB1dCgpLGlpKFwiZGVzaWduOnR5cGVcIixPYmplY3QpLGlpKFwiZGVzaWduOnBhcmFtdHlwZXNcIixbT2JqZWN0XSldLGUucHJvdG90eXBlLFwibWF4RGF0ZVwiLG51bGwpLG5pKFt0LklucHV0KCksaWkoXCJkZXNpZ246dHlwZVwiLE9iamVjdCksaWkoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtPYmplY3RdKV0sZS5wcm90b3R5cGUsXCJwaWNrZXJNb21lbnRcIixudWxsKSxuaShbdC5JbnB1dCgpLGlpKFwiZGVzaWduOnR5cGVcIixTdHJpbmcpXSxlLnByb3RvdHlwZSxcInNlbGVjdE1vZGVcIix2b2lkIDApLG5pKFt0LklucHV0KCksaWkoXCJkZXNpZ246dHlwZVwiLE9iamVjdCksaWkoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtPYmplY3RdKV0sZS5wcm90b3R5cGUsXCJzZWxlY3RlZFwiLG51bGwpLG5pKFt0LklucHV0KCksaWkoXCJkZXNpZ246dHlwZVwiLEFycmF5KSxpaShcImRlc2lnbjpwYXJhbXR5cGVzXCIsW0FycmF5XSldLGUucHJvdG90eXBlLFwic2VsZWN0ZWRzXCIsbnVsbCksbmkoW3QuSW5wdXQoKSxpaShcImRlc2lnbjp0eXBlXCIsU3RyaW5nKV0sZS5wcm90b3R5cGUsXCJzdGFydFZpZXdcIix2b2lkIDApLG5pKFt0LklucHV0KCksaWkoXCJkZXNpZ246dHlwZVwiLEJvb2xlYW4pXSxlLnByb3RvdHlwZSxcImhpZGVPdGhlck1vbnRoc1wiLHZvaWQgMCksbmkoW3QuT3V0cHV0KCksaWkoXCJkZXNpZ246dHlwZVwiLE9iamVjdCldLGUucHJvdG90eXBlLFwicGlja2VyTW9tZW50Q2hhbmdlXCIsdm9pZCAwKSxuaShbdC5PdXRwdXQoKSxpaShcImRlc2lnbjp0eXBlXCIsT2JqZWN0KV0sZS5wcm90b3R5cGUsXCJzZWxlY3RlZENoYW5nZVwiLHZvaWQgMCksbmkoW3QuT3V0cHV0KCksaWkoXCJkZXNpZ246dHlwZVwiLE9iamVjdCldLGUucHJvdG90eXBlLFwidXNlclNlbGVjdGlvblwiLHZvaWQgMCksbmkoW3QuT3V0cHV0KCksaWkoXCJkZXNpZ246dHlwZVwiLE9iamVjdCldLGUucHJvdG90eXBlLFwieWVhclNlbGVjdGVkXCIsdm9pZCAwKSxuaShbdC5PdXRwdXQoKSxpaShcImRlc2lnbjp0eXBlXCIsT2JqZWN0KV0sZS5wcm90b3R5cGUsXCJtb250aFNlbGVjdGVkXCIsdm9pZCAwKSxuaShbdC5Ib3N0QmluZGluZyhcImNsYXNzLm93bC1kdC1jYWxlbmRhclwiKSxpaShcImRlc2lnbjp0eXBlXCIsQm9vbGVhbiksaWkoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtdKV0sZS5wcm90b3R5cGUsXCJvd2xEVENhbGVuZGFyQ2xhc3NcIixudWxsKSxlPW5pKFt0LkNvbXBvbmVudCh7c2VsZWN0b3I6XCJvd2wtZGF0ZS10aW1lLWNhbGVuZGFyXCIsZXhwb3J0QXM6XCJvd2xEYXRlVGltZUNhbGVuZGFyXCIsdGVtcGxhdGU6JzxkaXYgY2xhc3M9XCJvd2wtZHQtY2FsZW5kYXItY29udHJvbFwiPlxceDNjIS0tIGZvY3VzIHdoZW4ga2V5Ym9hcmQgdGFiIChodHRwOi8va2l6dS5ydS9lbi9ibG9nL2tleWJvYXJkLW9ubHktZm9jdXMvI3gpIC0tXFx4M2UgPGJ1dHRvbiBjbGFzcz1cIm93bC1kdC1jb250cm9sIG93bC1kdC1jb250cm9sLWJ1dHRvbiBvd2wtZHQtY29udHJvbC1hcnJvdy1idXR0b25cIiB0eXBlPVwiYnV0dG9uXCIgdGFiaW5kZXg9XCIwXCIgW3N0eWxlLnZpc2liaWxpdHldPVwic2hvd0NvbnRyb2xBcnJvd3M/IFxcJ3Zpc2libGVcXCc6IFxcJ2hpZGRlblxcJ1wiIFtkaXNhYmxlZF09XCIhcHJldkJ1dHRvbkVuYWJsZWQoKVwiIFthdHRyLmFyaWEtbGFiZWxdPVwicHJldkJ1dHRvbkxhYmVsXCIgKGNsaWNrKT1cInByZXZpb3VzQ2xpY2tlZCgpXCI+PHNwYW4gY2xhc3M9XCJvd2wtZHQtY29udHJvbC1jb250ZW50IG93bC1kdC1jb250cm9sLWJ1dHRvbi1jb250ZW50XCIgdGFiaW5kZXg9XCItMVwiPlxceDNjIS0tIDxlZGl0b3ItZm9sZCBkZXNjPVwiU1ZHIEFycm93IExlZnRcIj4gLS1cXHgzZSA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB4bWxuczp4bGluaz1cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIiB2ZXJzaW9uPVwiMS4xXCIgeD1cIjBweFwiIHk9XCIwcHhcIiB2aWV3Qm94PVwiMCAwIDI1MC43MzggMjUwLjczOFwiIHN0eWxlPVwiZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAyNTAuNzM4IDI1MC43Mzg7XCIgeG1sOnNwYWNlPVwicHJlc2VydmVcIiB3aWR0aD1cIjEwMCVcIiBoZWlnaHQ9XCIxMDAlXCI+PHBhdGggc3R5bGU9XCJmaWxsLXJ1bGU6IGV2ZW5vZGQ7IGNsaXAtcnVsZTogZXZlbm9kZDtcIiBkPVwiTTk2LjYzMywxMjUuMzY5bDk1LjA1My05NC41MzNjNy4xMDEtNy4wNTUsNy4xMDEtMTguNDkyLDAtMjUuNTQ2ICAgYy03LjEtNy4wNTQtMTguNjEzLTcuMDU0LTI1LjcxNCwwTDU4Ljk4OSwxMTEuNjg5Yy0zLjc4NCwzLjc1OS01LjQ4Nyw4Ljc1OS01LjIzOCwxMy42OGMtMC4yNDksNC45MjIsMS40NTQsOS45MjEsNS4yMzgsMTMuNjgxICAgbDEwNi45ODMsMTA2LjM5OGM3LjEwMSw3LjA1NSwxOC42MTMsNy4wNTUsMjUuNzE0LDBjNy4xMDEtNy4wNTQsNy4xMDEtMTguNDkxLDAtMjUuNTQ0TDk2LjYzMywxMjUuMzY5elwiLz48L3N2Zz5cXHgzYyEtLSA8L2VkaXRvci1mb2xkPiAtLVxceDNlPC9zcGFuPjwvYnV0dG9uPjxkaXYgY2xhc3M9XCJvd2wtZHQtY2FsZW5kYXItY29udHJvbC1jb250ZW50XCI+PGJ1dHRvbiBjbGFzcz1cIm93bC1kdC1jb250cm9sIG93bC1kdC1jb250cm9sLWJ1dHRvbiBvd2wtZHQtY29udHJvbC1wZXJpb2QtYnV0dG9uXCIgdHlwZT1cImJ1dHRvblwiIHRhYmluZGV4PVwiMFwiIFthdHRyLmFyaWEtbGFiZWxdPVwicGVyaW9kQnV0dG9uTGFiZWxcIiAoY2xpY2spPVwidG9nZ2xlVmlld3MoKVwiPjxzcGFuIGNsYXNzPVwib3dsLWR0LWNvbnRyb2wtY29udGVudCBvd2wtZHQtY29udHJvbC1idXR0b24tY29udGVudFwiIHRhYmluZGV4PVwiLTFcIj57e3BlcmlvZEJ1dHRvblRleHR9fSA8c3BhbiBjbGFzcz1cIm93bC1kdC1jb250cm9sLWJ1dHRvbi1hcnJvd1wiIFtzdHlsZS50cmFuc2Zvcm1dPVwiXFwncm90YXRlKFxcJyArIChpc01vbnRoVmlldz8gMCA6IDE4MCkgK1xcJ2RlZylcXCdcIj5cXHgzYyEtLSA8ZWRpdG9yLWZvbGQgZGVzYz1cIlNWRyBBcnJvd1wiPiAtLVxceDNlIDxzdmcgdmVyc2lvbj1cIjEuMVwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB4bWxuczp4bGluaz1cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIiB4PVwiMHB4XCIgeT1cIjBweFwiIHdpZHRoPVwiNTAlXCIgaGVpZ2h0PVwiNTAlXCIgdmlld0JveD1cIjAgMCAyOTIuMzYyIDI5Mi4zNjJcIiBzdHlsZT1cImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMjkyLjM2MiAyOTIuMzYyO1wiIHhtbDpzcGFjZT1cInByZXNlcnZlXCI+PGc+PHBhdGggZD1cIk0yODYuOTM1LDY5LjM3N2MtMy42MTQtMy42MTctNy44OTgtNS40MjQtMTIuODQ4LTUuNDI0SDE4LjI3NGMtNC45NTIsMC05LjIzMywxLjgwNy0xMi44NSw1LjQyNFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQzEuODA3LDcyLjk5OCwwLDc3LjI3OSwwLDgyLjIyOGMwLDQuOTQ4LDEuODA3LDkuMjI5LDUuNDI0LDEyLjg0N2wxMjcuOTA3LDEyNy45MDdjMy42MjEsMy42MTcsNy45MDIsNS40MjgsMTIuODUsNS40MjhcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHM5LjIzMy0xLjgxMSwxMi44NDctNS40MjhMMjg2LjkzNSw5NS4wNzRjMy42MTMtMy42MTcsNS40MjctNy44OTgsNS40MjctMTIuODQ3QzI5Mi4zNjIsNzcuMjc5LDI5MC41NDgsNzIuOTk4LDI4Ni45MzUsNjkuMzc3elwiLz48L2c+PC9zdmc+XFx4M2MhLS0gPC9lZGl0b3ItZm9sZD4gLS1cXHgzZTwvc3Bhbj48L3NwYW4+PC9idXR0b24+PC9kaXY+PGJ1dHRvbiBjbGFzcz1cIm93bC1kdC1jb250cm9sIG93bC1kdC1jb250cm9sLWJ1dHRvbiBvd2wtZHQtY29udHJvbC1hcnJvdy1idXR0b25cIiB0eXBlPVwiYnV0dG9uXCIgdGFiaW5kZXg9XCIwXCIgW3N0eWxlLnZpc2liaWxpdHldPVwic2hvd0NvbnRyb2xBcnJvd3M/IFxcJ3Zpc2libGVcXCc6IFxcJ2hpZGRlblxcJ1wiIFtkaXNhYmxlZF09XCIhbmV4dEJ1dHRvbkVuYWJsZWQoKVwiIFthdHRyLmFyaWEtbGFiZWxdPVwibmV4dEJ1dHRvbkxhYmVsXCIgKGNsaWNrKT1cIm5leHRDbGlja2VkKClcIj48c3BhbiBjbGFzcz1cIm93bC1kdC1jb250cm9sLWNvbnRlbnQgb3dsLWR0LWNvbnRyb2wtYnV0dG9uLWNvbnRlbnRcIiB0YWJpbmRleD1cIi0xXCI+XFx4M2MhLS0gPGVkaXRvci1mb2xkIGRlc2M9XCJTVkcgQXJyb3cgUmlnaHRcIj4gLS1cXHgzZSA8c3ZnIHZlcnNpb249XCIxLjFcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgeG1sbnM6eGxpbms9XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCIgeD1cIjBweFwiIHk9XCIwcHhcIiB2aWV3Qm94PVwiMCAwIDI1MC43MzggMjUwLjczOFwiIHN0eWxlPVwiZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAyNTAuNzM4IDI1MC43Mzg7XCIgeG1sOnNwYWNlPVwicHJlc2VydmVcIj48cGF0aCBzdHlsZT1cImZpbGwtcnVsZTpldmVub2RkO2NsaXAtcnVsZTpldmVub2RkO1wiIGQ9XCJNMTkxLjc1LDExMS42ODlMODQuNzY2LDUuMjkxYy03LjEtNy4wNTUtMTguNjEzLTcuMDU1LTI1LjcxMywwXFxuICAgICAgICAgICAgICAgICAgICBjLTcuMTAxLDcuMDU0LTcuMTAxLDE4LjQ5LDAsMjUuNTQ0bDk1LjA1Myw5NC41MzRsLTk1LjA1Myw5NC41MzNjLTcuMTAxLDcuMDU0LTcuMTAxLDE4LjQ5MSwwLDI1LjU0NVxcbiAgICAgICAgICAgICAgICAgICAgYzcuMSw3LjA1NCwxOC42MTMsNy4wNTQsMjUuNzEzLDBMMTkxLjc1LDEzOS4wNWMzLjc4NC0zLjc1OSw1LjQ4Ny04Ljc1OSw1LjIzOC0xMy42ODFcXG4gICAgICAgICAgICAgICAgICAgIEMxOTcuMjM3LDEyMC40NDcsMTk1LjUzNCwxMTUuNDQ4LDE5MS43NSwxMTEuNjg5elwiLz48L3N2Zz5cXHgzYyEtLSA8L2VkaXRvci1mb2xkPiAtLVxceDNlPC9zcGFuPjwvYnV0dG9uPjwvZGl2PjxkaXYgY2xhc3M9XCJvd2wtZHQtY2FsZW5kYXItbWFpblwiIGNka01vbml0b3JTdWJ0cmVlRm9jdXMgW25nU3dpdGNoXT1cImN1cnJlbnRWaWV3XCIgdGFiaW5kZXg9XCItMVwiPjxvd2wtZGF0ZS10aW1lLW1vbnRoLXZpZXcgKm5nU3dpdGNoQ2FzZT1cIlxcJ21vbnRoXFwnXCIgW3BpY2tlck1vbWVudF09XCJwaWNrZXJNb21lbnRcIiBbZmlyc3REYXlPZldlZWtdPVwiZmlyc3REYXlPZldlZWtcIiBbc2VsZWN0ZWRdPVwic2VsZWN0ZWRcIiBbc2VsZWN0ZWRzXT1cInNlbGVjdGVkc1wiIFtzZWxlY3RNb2RlXT1cInNlbGVjdE1vZGVcIiBbbWluRGF0ZV09XCJtaW5EYXRlXCIgW21heERhdGVdPVwibWF4RGF0ZVwiIFtkYXRlRmlsdGVyXT1cImRhdGVGaWx0ZXJcIiBbaGlkZU90aGVyTW9udGhzXT1cImhpZGVPdGhlck1vbnRoc1wiIChwaWNrZXJNb21lbnRDaGFuZ2UpPVwiaGFuZGxlUGlja2VyTW9tZW50Q2hhbmdlKCRldmVudClcIiAoc2VsZWN0ZWRDaGFuZ2UpPVwiZGF0ZVNlbGVjdGVkKCRldmVudClcIiAodXNlclNlbGVjdGlvbik9XCJ1c2VyU2VsZWN0ZWQoKVwiPjwvb3dsLWRhdGUtdGltZS1tb250aC12aWV3Pjxvd2wtZGF0ZS10aW1lLXllYXItdmlldyAqbmdTd2l0Y2hDYXNlPVwiXFwneWVhclxcJ1wiIFtwaWNrZXJNb21lbnRdPVwicGlja2VyTW9tZW50XCIgW3NlbGVjdGVkXT1cInNlbGVjdGVkXCIgW3NlbGVjdGVkc109XCJzZWxlY3RlZHNcIiBbc2VsZWN0TW9kZV09XCJzZWxlY3RNb2RlXCIgW21pbkRhdGVdPVwibWluRGF0ZVwiIFttYXhEYXRlXT1cIm1heERhdGVcIiBbZGF0ZUZpbHRlcl09XCJkYXRlRmlsdGVyXCIgKGtleWJvYXJkRW50ZXIpPVwiZm9jdXNBY3RpdmVDZWxsKClcIiAocGlja2VyTW9tZW50Q2hhbmdlKT1cImhhbmRsZVBpY2tlck1vbWVudENoYW5nZSgkZXZlbnQpXCIgKG1vbnRoU2VsZWN0ZWQpPVwic2VsZWN0TW9udGhJblllYXJWaWV3KCRldmVudClcIiAoY2hhbmdlKT1cImdvVG9EYXRlSW5WaWV3KCRldmVudCwgXFwnbW9udGhcXCcpXCI+PC9vd2wtZGF0ZS10aW1lLXllYXItdmlldz48b3dsLWRhdGUtdGltZS1tdWx0aS15ZWFyLXZpZXcgKm5nU3dpdGNoQ2FzZT1cIlxcJ211bHRpLXllYXJzXFwnXCIgW3BpY2tlck1vbWVudF09XCJwaWNrZXJNb21lbnRcIiBbc2VsZWN0ZWRdPVwic2VsZWN0ZWRcIiBbc2VsZWN0ZWRzXT1cInNlbGVjdGVkc1wiIFtzZWxlY3RNb2RlXT1cInNlbGVjdE1vZGVcIiBbbWluRGF0ZV09XCJtaW5EYXRlXCIgW21heERhdGVdPVwibWF4RGF0ZVwiIFtkYXRlRmlsdGVyXT1cImRhdGVGaWx0ZXJcIiAoa2V5Ym9hcmRFbnRlcik9XCJmb2N1c0FjdGl2ZUNlbGwoKVwiIChwaWNrZXJNb21lbnRDaGFuZ2UpPVwiaGFuZGxlUGlja2VyTW9tZW50Q2hhbmdlKCRldmVudClcIiAoeWVhclNlbGVjdGVkKT1cInNlbGVjdFllYXJJbk11bHRpWWVhclZpZXcoJGV2ZW50KVwiIChjaGFuZ2UpPVwiZ29Ub0RhdGVJblZpZXcoJGV2ZW50LCBcXCd5ZWFyXFwnKVwiPjwvb3dsLWRhdGUtdGltZS1tdWx0aS15ZWFyLXZpZXc+PC9kaXY+JyxzdHlsZXM6W1wiXCJdLHByZXNlcnZlV2hpdGVzcGFjZXM6ITEsY2hhbmdlRGV0ZWN0aW9uOnQuQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNofSkscmkoNCx0Lk9wdGlvbmFsKCkpLHJpKDUsdC5PcHRpb25hbCgpKSxyaSg1LHQuSW5qZWN0KHRpKSksaWkoXCJkZXNpZ246cGFyYW10eXBlc1wiLFt0LkVsZW1lbnRSZWYsR24sdC5OZ1pvbmUsdC5DaGFuZ2VEZXRlY3RvclJlZixlaSxPYmplY3RdKV0sZSl9KCksc2k9ZnVuY3Rpb24oZSx0LG4saSl7dmFyIHIsbz1hcmd1bWVudHMubGVuZ3RoLHM9bzwzP3Q6bnVsbD09PWk/aT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsbik6aTtpZihcIm9iamVjdFwiPT10eXBlb2YgUmVmbGVjdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSlzPVJlZmxlY3QuZGVjb3JhdGUoZSx0LG4saSk7ZWxzZSBmb3IodmFyIGE9ZS5sZW5ndGgtMTthPj0wO2EtLSkocj1lW2FdKSYmKHM9KG88Mz9yKHMpOm8+Mz9yKHQsbixzKTpyKHQsbikpfHxzKTtyZXR1cm4gbz4zJiZzJiZPYmplY3QuZGVmaW5lUHJvcGVydHkodCxuLHMpLHN9LGFpPWZ1bmN0aW9uKGUsdCl7aWYoXCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3QmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFJlZmxlY3QubWV0YWRhdGEpcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEoZSx0KX0sY2k9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZnVuY3Rpb24obixpKXt0KG4saSxlKX19LGxpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLG4saSxyLG8pe3RoaXMubmdab25lPWUsdGhpcy5lbG1SZWY9bix0aGlzLnBpY2tlckludGw9aSx0aGlzLmNkUmVmPXIsdGhpcy5kYXRlVGltZUFkYXB0ZXI9byx0aGlzLmlzUE09ITEsdGhpcy5zdGVwSG91cj0xLHRoaXMuc3RlcE1pbnV0ZT0xLHRoaXMuc3RlcFNlY29uZD0xLHRoaXMuc2VsZWN0ZWRDaGFuZ2U9bmV3IHQuRXZlbnRFbWl0dGVyfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJwaWNrZXJNb21lbnRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BpY2tlck1vbWVudH0sc2V0OmZ1bmN0aW9uKGUpe2U9dGhpcy5kYXRlVGltZUFkYXB0ZXIuZGVzZXJpYWxpemUoZSksdGhpcy5fcGlja2VyTW9tZW50PXRoaXMuZ2V0VmFsaWREYXRlKGUpfHx0aGlzLmRhdGVUaW1lQWRhcHRlci5ub3coKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJtaW5EYXRlVGltZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWluRGF0ZVRpbWV9LHNldDpmdW5jdGlvbihlKXtlPXRoaXMuZGF0ZVRpbWVBZGFwdGVyLmRlc2VyaWFsaXplKGUpLHRoaXMuX21pbkRhdGVUaW1lPXRoaXMuZ2V0VmFsaWREYXRlKGUpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcIm1heERhdGVUaW1lXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tYXhEYXRlVGltZX0sc2V0OmZ1bmN0aW9uKGUpe2U9dGhpcy5kYXRlVGltZUFkYXB0ZXIuZGVzZXJpYWxpemUoZSksdGhpcy5fbWF4RGF0ZVRpbWU9dGhpcy5nZXRWYWxpZERhdGUoZSl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiaG91clZhbHVlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGVUaW1lQWRhcHRlci5nZXRIb3Vycyh0aGlzLnBpY2tlck1vbWVudCl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiaG91ckJveFZhbHVlXCIse2dldDpmdW5jdGlvbigpe3ZhciBlPXRoaXMuaG91clZhbHVlO3JldHVybiB0aGlzLmhvdXIxMlRpbWVyPygwPT09ZT8oZT0xMix0aGlzLmlzUE09ITEpOmU+MCYmZTwxMj90aGlzLmlzUE09ITE6MTI9PT1lP3RoaXMuaXNQTT0hMDplPjEyJiZlPDI0JiYoZS09MTIsdGhpcy5pc1BNPSEwKSxlKTplfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcIm1pbnV0ZVZhbHVlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGVUaW1lQWRhcHRlci5nZXRNaW51dGVzKHRoaXMucGlja2VyTW9tZW50KX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJzZWNvbmRWYWx1ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kYXRlVGltZUFkYXB0ZXIuZ2V0U2Vjb25kcyh0aGlzLnBpY2tlck1vbWVudCl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwidXBIb3VyQnV0dG9uTGFiZWxcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGlja2VySW50bC51cEhvdXJMYWJlbH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJkb3duSG91ckJ1dHRvbkxhYmVsXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBpY2tlckludGwuZG93bkhvdXJMYWJlbH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJ1cE1pbnV0ZUJ1dHRvbkxhYmVsXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBpY2tlckludGwudXBNaW51dGVMYWJlbH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJkb3duTWludXRlQnV0dG9uTGFiZWxcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGlja2VySW50bC5kb3duTWludXRlTGFiZWx9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwidXBTZWNvbmRCdXR0b25MYWJlbFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5waWNrZXJJbnRsLnVwU2Vjb25kTGFiZWx9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiZG93blNlY29uZEJ1dHRvbkxhYmVsXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBpY2tlckludGwuZG93blNlY29uZExhYmVsfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImhvdXIxMkJ1dHRvbkxhYmVsXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlzUE0/dGhpcy5waWNrZXJJbnRsLmhvdXIxMlBNTGFiZWw6dGhpcy5waWNrZXJJbnRsLmhvdXIxMkFNTGFiZWx9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwib3dsRFRUaW1lckNsYXNzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiEwfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcIm93bERUVGltZVRhYkluZGV4XCIse2dldDpmdW5jdGlvbigpe3JldHVybi0xfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLm5nT25Jbml0PWZ1bmN0aW9uKCl7fSxlLnByb3RvdHlwZS5mb2N1cz1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5uZ1pvbmUucnVuT3V0c2lkZUFuZ3VsYXIoZnVuY3Rpb24oKXtlLm5nWm9uZS5vblN0YWJsZS5hc09ic2VydmFibGUoKS5waXBlKFdlKDEpKS5zdWJzY3JpYmUoZnVuY3Rpb24oKXtlLmVsbVJlZi5uYXRpdmVFbGVtZW50LmZvY3VzKCl9KX0pfSxlLnByb3RvdHlwZS5zZXRIb3VyVmFsdWVWaWFJbnB1dD1mdW5jdGlvbihlKXt0aGlzLmhvdXIxMlRpbWVyJiZ0aGlzLmlzUE0mJmU+PTEmJmU8PTExP2UrPTEyOnRoaXMuaG91cjEyVGltZXImJiF0aGlzLmlzUE0mJjEyPT09ZSYmKGU9MCksdGhpcy5zZXRIb3VyVmFsdWUoZSl9LGUucHJvdG90eXBlLnNldEhvdXJWYWx1ZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmRhdGVUaW1lQWRhcHRlci5zZXRIb3Vycyh0aGlzLnBpY2tlck1vbWVudCxlKTt0aGlzLnNlbGVjdGVkQ2hhbmdlLmVtaXQodCksdGhpcy5jZFJlZi5tYXJrRm9yQ2hlY2soKX0sZS5wcm90b3R5cGUuc2V0TWludXRlVmFsdWU9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5kYXRlVGltZUFkYXB0ZXIuc2V0TWludXRlcyh0aGlzLnBpY2tlck1vbWVudCxlKTt0aGlzLnNlbGVjdGVkQ2hhbmdlLmVtaXQodCksdGhpcy5jZFJlZi5tYXJrRm9yQ2hlY2soKX0sZS5wcm90b3R5cGUuc2V0U2Vjb25kVmFsdWU9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5kYXRlVGltZUFkYXB0ZXIuc2V0U2Vjb25kcyh0aGlzLnBpY2tlck1vbWVudCxlKTt0aGlzLnNlbGVjdGVkQ2hhbmdlLmVtaXQodCksdGhpcy5jZFJlZi5tYXJrRm9yQ2hlY2soKX0sZS5wcm90b3R5cGUuc2V0TWVyaWRpZW09ZnVuY3Rpb24oZSl7dGhpcy5pc1BNPSF0aGlzLmlzUE07dmFyIHQ9dGhpcy5ob3VyVmFsdWU7dGhpcy5pc1BNP3QrPTEyOnQtPTEyLHQ+PTAmJnQ8PTIzJiZ0aGlzLnNldEhvdXJWYWx1ZSh0KSx0aGlzLmNkUmVmLm1hcmtGb3JDaGVjaygpLGUucHJldmVudERlZmF1bHQoKX0sZS5wcm90b3R5cGUudXBIb3VyRW5hYmxlZD1mdW5jdGlvbigpe3JldHVybiF0aGlzLm1heERhdGVUaW1lfHx0aGlzLmNvbXBhcmVIb3Vycyh0aGlzLnN0ZXBIb3VyLHRoaXMubWF4RGF0ZVRpbWUpPDF9LGUucHJvdG90eXBlLmRvd25Ib3VyRW5hYmxlZD1mdW5jdGlvbigpe3JldHVybiF0aGlzLm1pbkRhdGVUaW1lfHx0aGlzLmNvbXBhcmVIb3VycygtdGhpcy5zdGVwSG91cix0aGlzLm1pbkRhdGVUaW1lKT4tMX0sZS5wcm90b3R5cGUudXBNaW51dGVFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMubWF4RGF0ZVRpbWV8fHRoaXMuY29tcGFyZU1pbnV0ZXModGhpcy5zdGVwTWludXRlLHRoaXMubWF4RGF0ZVRpbWUpPDF9LGUucHJvdG90eXBlLmRvd25NaW51dGVFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMubWluRGF0ZVRpbWV8fHRoaXMuY29tcGFyZU1pbnV0ZXMoLXRoaXMuc3RlcE1pbnV0ZSx0aGlzLm1pbkRhdGVUaW1lKT4tMX0sZS5wcm90b3R5cGUudXBTZWNvbmRFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMubWF4RGF0ZVRpbWV8fHRoaXMuY29tcGFyZVNlY29uZHModGhpcy5zdGVwU2Vjb25kLHRoaXMubWF4RGF0ZVRpbWUpPDF9LGUucHJvdG90eXBlLmRvd25TZWNvbmRFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMubWluRGF0ZVRpbWV8fHRoaXMuY29tcGFyZVNlY29uZHMoLXRoaXMuc3RlcFNlY29uZCx0aGlzLm1pbkRhdGVUaW1lKT4tMX0sZS5wcm90b3R5cGUuY29tcGFyZUhvdXJzPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5kYXRlVGltZUFkYXB0ZXIuZ2V0SG91cnModGhpcy5waWNrZXJNb21lbnQpK2UsaT10aGlzLmRhdGVUaW1lQWRhcHRlci5zZXRIb3Vycyh0aGlzLnBpY2tlck1vbWVudCxuKTtyZXR1cm4gdGhpcy5kYXRlVGltZUFkYXB0ZXIuY29tcGFyZShpLHQpfSxlLnByb3RvdHlwZS5jb21wYXJlTWludXRlcz1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuZGF0ZVRpbWVBZGFwdGVyLmdldE1pbnV0ZXModGhpcy5waWNrZXJNb21lbnQpK2UsaT10aGlzLmRhdGVUaW1lQWRhcHRlci5zZXRNaW51dGVzKHRoaXMucGlja2VyTW9tZW50LG4pO3JldHVybiB0aGlzLmRhdGVUaW1lQWRhcHRlci5jb21wYXJlKGksdCl9LGUucHJvdG90eXBlLmNvbXBhcmVTZWNvbmRzPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5kYXRlVGltZUFkYXB0ZXIuZ2V0U2Vjb25kcyh0aGlzLnBpY2tlck1vbWVudCkrZSxpPXRoaXMuZGF0ZVRpbWVBZGFwdGVyLnNldFNlY29uZHModGhpcy5waWNrZXJNb21lbnQsbik7cmV0dXJuIHRoaXMuZGF0ZVRpbWVBZGFwdGVyLmNvbXBhcmUoaSx0KX0sZS5wcm90b3R5cGUuZ2V0VmFsaWREYXRlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmRhdGVUaW1lQWRhcHRlci5pc0RhdGVJbnN0YW5jZShlKSYmdGhpcy5kYXRlVGltZUFkYXB0ZXIuaXNWYWxpZChlKT9lOm51bGx9LHNpKFt0LklucHV0KCksYWkoXCJkZXNpZ246dHlwZVwiLE9iamVjdCksYWkoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtPYmplY3RdKV0sZS5wcm90b3R5cGUsXCJwaWNrZXJNb21lbnRcIixudWxsKSxzaShbdC5JbnB1dCgpLGFpKFwiZGVzaWduOnR5cGVcIixPYmplY3QpLGFpKFwiZGVzaWduOnBhcmFtdHlwZXNcIixbT2JqZWN0XSldLGUucHJvdG90eXBlLFwibWluRGF0ZVRpbWVcIixudWxsKSxzaShbdC5JbnB1dCgpLGFpKFwiZGVzaWduOnR5cGVcIixPYmplY3QpLGFpKFwiZGVzaWduOnBhcmFtdHlwZXNcIixbT2JqZWN0XSldLGUucHJvdG90eXBlLFwibWF4RGF0ZVRpbWVcIixudWxsKSxzaShbdC5JbnB1dCgpLGFpKFwiZGVzaWduOnR5cGVcIixCb29sZWFuKV0sZS5wcm90b3R5cGUsXCJzaG93U2Vjb25kc1RpbWVyXCIsdm9pZCAwKSxzaShbdC5JbnB1dCgpLGFpKFwiZGVzaWduOnR5cGVcIixCb29sZWFuKV0sZS5wcm90b3R5cGUsXCJob3VyMTJUaW1lclwiLHZvaWQgMCksc2koW3QuSW5wdXQoKSxhaShcImRlc2lnbjp0eXBlXCIsT2JqZWN0KV0sZS5wcm90b3R5cGUsXCJzdGVwSG91clwiLHZvaWQgMCksc2koW3QuSW5wdXQoKSxhaShcImRlc2lnbjp0eXBlXCIsT2JqZWN0KV0sZS5wcm90b3R5cGUsXCJzdGVwTWludXRlXCIsdm9pZCAwKSxzaShbdC5JbnB1dCgpLGFpKFwiZGVzaWduOnR5cGVcIixPYmplY3QpXSxlLnByb3RvdHlwZSxcInN0ZXBTZWNvbmRcIix2b2lkIDApLHNpKFt0Lk91dHB1dCgpLGFpKFwiZGVzaWduOnR5cGVcIixPYmplY3QpXSxlLnByb3RvdHlwZSxcInNlbGVjdGVkQ2hhbmdlXCIsdm9pZCAwKSxzaShbdC5Ib3N0QmluZGluZyhcImNsYXNzLm93bC1kdC10aW1lclwiKSxhaShcImRlc2lnbjp0eXBlXCIsQm9vbGVhbiksYWkoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtdKV0sZS5wcm90b3R5cGUsXCJvd2xEVFRpbWVyQ2xhc3NcIixudWxsKSxzaShbdC5Ib3N0QmluZGluZyhcImF0dHIudGFiaW5kZXhcIiksYWkoXCJkZXNpZ246dHlwZVwiLE51bWJlciksYWkoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtdKV0sZS5wcm90b3R5cGUsXCJvd2xEVFRpbWVUYWJJbmRleFwiLG51bGwpLGU9c2koW3QuQ29tcG9uZW50KHtleHBvcnRBczpcIm93bERhdGVUaW1lVGltZXJcIixzZWxlY3RvcjpcIm93bC1kYXRlLXRpbWUtdGltZXJcIix0ZW1wbGF0ZTonPG93bC1kYXRlLXRpbWUtdGltZXItYm94IFt1cEJ0bkFyaWFMYWJlbF09XCJ1cEhvdXJCdXR0b25MYWJlbFwiIFtkb3duQnRuQXJpYUxhYmVsXT1cImRvd25Ib3VyQnV0dG9uTGFiZWxcIiBbdXBCdG5EaXNhYmxlZF09XCIhdXBIb3VyRW5hYmxlZCgpXCIgW2Rvd25CdG5EaXNhYmxlZF09XCIhZG93bkhvdXJFbmFibGVkKClcIiBbYm94VmFsdWVdPVwiaG91ckJveFZhbHVlXCIgW3ZhbHVlXT1cImhvdXJWYWx1ZVwiIFttaW5dPVwiMFwiIFttYXhdPVwiMjNcIiBbc3RlcF09XCJzdGVwSG91clwiIFtpbnB1dExhYmVsXT1cIlxcJ0hvdXJcXCdcIiAoaW5wdXRDaGFuZ2UpPVwic2V0SG91clZhbHVlVmlhSW5wdXQoJGV2ZW50KVwiICh2YWx1ZUNoYW5nZSk9XCJzZXRIb3VyVmFsdWUoJGV2ZW50KVwiPjwvb3dsLWRhdGUtdGltZS10aW1lci1ib3g+PG93bC1kYXRlLXRpbWUtdGltZXItYm94IFtzaG93RGl2aWRlcl09XCJ0cnVlXCIgW3VwQnRuQXJpYUxhYmVsXT1cInVwTWludXRlQnV0dG9uTGFiZWxcIiBbZG93bkJ0bkFyaWFMYWJlbF09XCJkb3duTWludXRlQnV0dG9uTGFiZWxcIiBbdXBCdG5EaXNhYmxlZF09XCIhdXBNaW51dGVFbmFibGVkKClcIiBbZG93bkJ0bkRpc2FibGVkXT1cIiFkb3duTWludXRlRW5hYmxlZCgpXCIgW3ZhbHVlXT1cIm1pbnV0ZVZhbHVlXCIgW21pbl09XCIwXCIgW21heF09XCI1OVwiIFtzdGVwXT1cInN0ZXBNaW51dGVcIiBbaW5wdXRMYWJlbF09XCJcXCdNaW51dGVcXCdcIiAoaW5wdXRDaGFuZ2UpPVwic2V0TWludXRlVmFsdWUoJGV2ZW50KVwiICh2YWx1ZUNoYW5nZSk9XCJzZXRNaW51dGVWYWx1ZSgkZXZlbnQpXCI+PC9vd2wtZGF0ZS10aW1lLXRpbWVyLWJveD48b3dsLWRhdGUtdGltZS10aW1lci1ib3ggKm5nSWY9XCJzaG93U2Vjb25kc1RpbWVyXCIgW3Nob3dEaXZpZGVyXT1cInRydWVcIiBbdXBCdG5BcmlhTGFiZWxdPVwidXBTZWNvbmRCdXR0b25MYWJlbFwiIFtkb3duQnRuQXJpYUxhYmVsXT1cImRvd25TZWNvbmRCdXR0b25MYWJlbFwiIFt1cEJ0bkRpc2FibGVkXT1cIiF1cFNlY29uZEVuYWJsZWQoKVwiIFtkb3duQnRuRGlzYWJsZWRdPVwiIWRvd25TZWNvbmRFbmFibGVkKClcIiBbdmFsdWVdPVwic2Vjb25kVmFsdWVcIiBbbWluXT1cIjBcIiBbbWF4XT1cIjU5XCIgW3N0ZXBdPVwic3RlcFNlY29uZFwiIFtpbnB1dExhYmVsXT1cIlxcJ1NlY29uZFxcJ1wiIChpbnB1dENoYW5nZSk9XCJzZXRTZWNvbmRWYWx1ZSgkZXZlbnQpXCIgKHZhbHVlQ2hhbmdlKT1cInNldFNlY29uZFZhbHVlKCRldmVudClcIj48L293bC1kYXRlLXRpbWUtdGltZXItYm94PjxkaXYgKm5nSWY9XCJob3VyMTJUaW1lclwiIGNsYXNzPVwib3dsLWR0LXRpbWVyLWhvdXIxMlwiPjxidXR0b24gY2xhc3M9XCJvd2wtZHQtY29udHJvbC1idXR0b24gb3dsLWR0LXRpbWVyLWhvdXIxMi1ib3hcIiB0eXBlPVwiYnV0dG9uXCIgdGFiaW5kZXg9XCIwXCIgKGNsaWNrKT1cInNldE1lcmlkaWVtKCRldmVudClcIj48c3BhbiBjbGFzcz1cIm93bC1kdC1jb250cm9sLWJ1dHRvbi1jb250ZW50XCIgdGFiaW5kZXg9XCItMVwiPnt7aG91cjEyQnV0dG9uTGFiZWx9fTwvc3Bhbj48L2J1dHRvbj48L2Rpdj4nLHN0eWxlczpbXCJcIl0scHJlc2VydmVXaGl0ZXNwYWNlczohMSxjaGFuZ2VEZXRlY3Rpb246dC5DaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2h9KSxjaSg0LHQuT3B0aW9uYWwoKSksYWkoXCJkZXNpZ246cGFyYW10eXBlc1wiLFt0Lk5nWm9uZSx0LkVsZW1lbnRSZWYsR24sdC5DaGFuZ2VEZXRlY3RvclJlZixlaV0pXSxlKX0oKSx1aT17dHJhbnNmb3JtUGlja2VyOmkudHJpZ2dlcihcInRyYW5zZm9ybVBpY2tlclwiLFtpLnN0YXRlKFwidm9pZFwiLGkuc3R5bGUoe29wYWNpdHk6MCx0cmFuc2Zvcm06XCJzY2FsZSgxLCAwKVwifSkpLGkuc3RhdGUoXCJlbnRlclwiLGkuc3R5bGUoe29wYWNpdHk6MSx0cmFuc2Zvcm06XCJzY2FsZSgxLCAxKVwifSkpLGkudHJhbnNpdGlvbihcInZvaWQgPT4gZW50ZXJcIixpLmdyb3VwKFtpLnF1ZXJ5KFwiQGZhZGVJblBpY2tlclwiLGkuYW5pbWF0ZUNoaWxkKCkse29wdGlvbmFsOiEwfSksaS5hbmltYXRlKFwiNDAwbXMgY3ViaWMtYmV6aWVyKDAuMjUsIDAuOCwgMC4yNSwgMSlcIildKSksaS50cmFuc2l0aW9uKFwiZW50ZXIgPT4gdm9pZFwiLGkuYW5pbWF0ZShcIjEwMG1zIGxpbmVhclwiLGkuc3R5bGUoe29wYWNpdHk6MH0pKSldKSxmYWRlSW5QaWNrZXI6aS50cmlnZ2VyKFwiZmFkZUluUGlja2VyXCIsW2kuc3RhdGUoXCJlbnRlclwiLGkuc3R5bGUoe29wYWNpdHk6MX0pKSxpLnN0YXRlKFwidm9pZFwiLGkuc3R5bGUoe29wYWNpdHk6MH0pKSxpLnRyYW5zaXRpb24oXCJ2b2lkID0+IGVudGVyXCIsaS5hbmltYXRlKFwiNDAwbXMgMTAwbXMgY3ViaWMtYmV6aWVyKDAuNTUsIDAsIDAuNTUsIDAuMilcIikpXSl9LHBpPWZ1bmN0aW9uKGUsdCxuLGkpe3ZhciByLG89YXJndW1lbnRzLmxlbmd0aCxzPW88Mz90Om51bGw9PT1pP2k9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LG4pOmk7aWYoXCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3QmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUpcz1SZWZsZWN0LmRlY29yYXRlKGUsdCxuLGkpO2Vsc2UgZm9yKHZhciBhPWUubGVuZ3RoLTE7YT49MDthLS0pKHI9ZVthXSkmJihzPShvPDM/cihzKTpvPjM/cih0LG4scyk6cih0LG4pKXx8cyk7cmV0dXJuIG8+MyYmcyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsbixzKSxzfSxoaT1mdW5jdGlvbihlLHQpe2lmKFwib2JqZWN0XCI9PXR5cGVvZiBSZWZsZWN0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhKXJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKGUsdCl9LGRpPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKG4saSl7dChuLGksZSl9fSxmaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0LG4saSl7dGhpcy5jZFJlZj1lLHRoaXMuZWxtUmVmPXQsdGhpcy5waWNrZXJJbnRsPW4sdGhpcy5kYXRlVGltZUFkYXB0ZXI9aSx0aGlzLmFjdGl2ZVNlbGVjdGVkSW5kZXg9MCx0aGlzLmhpZGVQaWNrZXIkPW5ldyBQLHRoaXMuY29uZmlybVNlbGVjdGVkJD1uZXcgUCx0aGlzLnBpY2tlck9wZW5lZCQ9bmV3IFB9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImhpZGVQaWNrZXJTdHJlYW1cIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaGlkZVBpY2tlciQuYXNPYnNlcnZhYmxlKCl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiY29uZmlybVNlbGVjdGVkU3RyZWFtXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbmZpcm1TZWxlY3RlZCQuYXNPYnNlcnZhYmxlKCl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwicGlja2VyT3BlbmVkU3RyZWFtXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBpY2tlck9wZW5lZCQuYXNPYnNlcnZhYmxlKCl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwicGlja2VyTW9tZW50XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jbGFtUGlja2VyTW9tZW50fSxzZXQ6ZnVuY3Rpb24oZSl7ZSYmKHRoaXMuX2NsYW1QaWNrZXJNb21lbnQ9dGhpcy5kYXRlVGltZUFkYXB0ZXIuY2xhbXBEYXRlKGUsdGhpcy5waWNrZXIubWluRGF0ZVRpbWUsdGhpcy5waWNrZXIubWF4RGF0ZVRpbWUpKSx0aGlzLmNkUmVmLm1hcmtGb3JDaGVjaygpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcInBpY2tlclR5cGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGlja2VyLnBpY2tlclR5cGV9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiY2FuY2VsTGFiZWxcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGlja2VySW50bC5jYW5jZWxCdG5MYWJlbH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJzZXRMYWJlbFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5waWNrZXJJbnRsLnNldEJ0bkxhYmVsfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImZyb21MYWJlbFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5waWNrZXJJbnRsLnJhbmdlRnJvbUxhYmVsfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcInRvTGFiZWxcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGlja2VySW50bC5yYW5nZVRvTGFiZWx9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiZnJvbUZvcm1hdHRlZFZhbHVlXCIse2dldDpmdW5jdGlvbigpe3ZhciBlPXRoaXMucGlja2VyLnNlbGVjdGVkc1swXTtyZXR1cm4gZT90aGlzLmRhdGVUaW1lQWRhcHRlci5mb3JtYXQoZSx0aGlzLnBpY2tlci5mb3JtYXRTdHJpbmcpOlwiXCJ9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwidG9Gb3JtYXR0ZWRWYWx1ZVwiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnBpY2tlci5zZWxlY3RlZHNbMV07cmV0dXJuIGU/dGhpcy5kYXRlVGltZUFkYXB0ZXIuZm9ybWF0KGUsdGhpcy5waWNrZXIuZm9ybWF0U3RyaW5nKTpcIlwifSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcInNob3dDb250cm9sQnV0dG9uc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm5cImRpYWxvZ1wiPT09dGhpcy5waWNrZXIucGlja2VyTW9kZXx8XCJjYWxlbmRhclwiIT09dGhpcy5waWNrZXIucGlja2VyVHlwZSYmXCJpbmxpbmVcIiE9PXRoaXMucGlja2VyLnBpY2tlck1vZGV9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiY29udGFpbmVyRWxtXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVsbVJlZi5uYXRpdmVFbGVtZW50fSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcIm93bERUQ29udGFpbmVyQ2xhc3NcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuITB9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwib3dsRFRQb3B1cENvbnRhaW5lckNsYXNzXCIse2dldDpmdW5jdGlvbigpe3JldHVyblwicG9wdXBcIj09PXRoaXMucGlja2VyLnBpY2tlck1vZGV9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwib3dsRFREaWFsb2dDb250YWluZXJDbGFzc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm5cImRpYWxvZ1wiPT09dGhpcy5waWNrZXIucGlja2VyTW9kZX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJvd2xEVElubGluZUNvbnRhaW5lckNsYXNzXCIse2dldDpmdW5jdGlvbigpe3JldHVyblwiaW5saW5lXCI9PT10aGlzLnBpY2tlci5waWNrZXJNb2RlfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcIm93bERUQ29udGFpbmVyRGlzYWJsZWRDbGFzc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5waWNrZXIuZGlzYWJsZWR9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwib3dsRFRDb250YWluZXJJZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5waWNrZXIuaWR9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwib3dsRFRDb250YWluZXJBbmltYXRpb25cIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuXCJpbmxpbmVcIj09PXRoaXMucGlja2VyLnBpY2tlck1vZGU/XCJcIjpcImVudGVyXCJ9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUubmdPbkluaXQ9ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLm5nQWZ0ZXJDb250ZW50SW5pdD1mdW5jdGlvbigpe3RoaXMuaW5pdFBpY2tlcigpfSxlLnByb3RvdHlwZS5uZ0FmdGVyVmlld0luaXQ9ZnVuY3Rpb24oKXt0aGlzLmZvY3VzUGlja2VyKCl9LGUucHJvdG90eXBlLmhhbmRsZUNvbnRhaW5lckFuaW1hdGlvbkRvbmU9ZnVuY3Rpb24oZSl7XCJlbnRlclwiPT09ZS50b1N0YXRlJiZ0aGlzLnBpY2tlck9wZW5lZCQubmV4dCgpfSxlLnByb3RvdHlwZS5kYXRlU2VsZWN0ZWQ9ZnVuY3Rpb24oZSl7dmFyIHQ7dGhpcy5waWNrZXIuaXNJblNpbmdsZU1vZGU/KHQ9dGhpcy5kYXRlU2VsZWN0ZWRJblNpbmdsZU1vZGUoZSkpPyh0aGlzLnBpY2tlck1vbWVudD10LHRoaXMucGlja2VyLnNlbGVjdCh0KSk6XCJjYWxlbmRhclwiPT09dGhpcy5waWNrZXJUeXBlJiZ0aGlzLmhpZGVQaWNrZXIkLm5leHQobnVsbCk6dGhpcy5waWNrZXIuaXNJblJhbmdlTW9kZSYmKHQ9dGhpcy5kYXRlU2VsZWN0ZWRJblJhbmdlTW9kZShlKSkmJih0aGlzLnBpY2tlck1vbWVudD10W3RoaXMuYWN0aXZlU2VsZWN0ZWRJbmRleF0sdGhpcy5waWNrZXIuc2VsZWN0KHQpKX0sZS5wcm90b3R5cGUudGltZVNlbGVjdGVkPWZ1bmN0aW9uKGUpe2lmKHRoaXMucGlja2VyTW9tZW50PXRoaXMuZGF0ZVRpbWVBZGFwdGVyLmNsb25lKGUpLHRoaXMucGlja2VyLmRhdGVUaW1lQ2hlY2tlcih0aGlzLnBpY2tlck1vbWVudCkpaWYodGhpcy5waWNrZXIuaXNJblNpbmdsZU1vZGUpdGhpcy5waWNrZXIuc2VsZWN0KHRoaXMucGlja2VyTW9tZW50KTtlbHNlIGlmKHRoaXMucGlja2VyLmlzSW5SYW5nZU1vZGUpe3ZhciB0PXRoaXMucGlja2VyLnNlbGVjdGVkcy5zbGljZSgpOzA9PT10aGlzLmFjdGl2ZVNlbGVjdGVkSW5kZXgmJnRbMV0mJjE9PT10aGlzLmRhdGVUaW1lQWRhcHRlci5jb21wYXJlKHRoaXMucGlja2VyTW9tZW50LHRbMV0pfHwxPT09dGhpcy5hY3RpdmVTZWxlY3RlZEluZGV4JiZ0WzBdJiYtMT09PXRoaXMuZGF0ZVRpbWVBZGFwdGVyLmNvbXBhcmUodGhpcy5waWNrZXJNb21lbnQsdFswXSk/KHRbMF09dGhpcy5waWNrZXJNb21lbnQsdFsxXT10aGlzLnBpY2tlck1vbWVudCk6dFt0aGlzLmFjdGl2ZVNlbGVjdGVkSW5kZXhdPXRoaXMucGlja2VyTW9tZW50LHRoaXMucGlja2VyLnNlbGVjdCh0KX19LGUucHJvdG90eXBlLm9uQ2FuY2VsQ2xpY2tlZD1mdW5jdGlvbihlKXt0aGlzLmhpZGVQaWNrZXIkLm5leHQobnVsbCksZS5wcmV2ZW50RGVmYXVsdCgpfSxlLnByb3RvdHlwZS5vblNldENsaWNrZWQ9ZnVuY3Rpb24oZSl7aWYoIXRoaXMucGlja2VyLmRhdGVUaW1lQ2hlY2tlcih0aGlzLnBpY2tlck1vbWVudCkpcmV0dXJuIHRoaXMuaGlkZVBpY2tlciQubmV4dChudWxsKSx2b2lkIGUucHJldmVudERlZmF1bHQoKTt0aGlzLmNvbmZpcm1TZWxlY3RlZCQubmV4dChlKSxlLnByZXZlbnREZWZhdWx0KCl9LGUucHJvdG90eXBlLmhhbmRsZUNsaWNrT25JbmZvR3JvdXA9ZnVuY3Rpb24oZSx0KXt0aGlzLnNldEFjdGl2ZVNlbGVjdGVkSW5kZXgodCksZS5wcmV2ZW50RGVmYXVsdCgpLGUuc3RvcFByb3BhZ2F0aW9uKCl9LGUucHJvdG90eXBlLmhhbmRsZUtleWRvd25PbkluZm9Hcm91cD1mdW5jdGlvbihlLHQsbil7c3dpdGNoKGUua2V5Q29kZSl7Y2FzZSA0MDpjYXNlIDM5OmNhc2UgMzg6Y2FzZSAzNzp0LmZvY3VzKCksdGhpcy5zZXRBY3RpdmVTZWxlY3RlZEluZGV4KDA9PT1uPzE6MCksZS5wcmV2ZW50RGVmYXVsdCgpLGUuc3RvcFByb3BhZ2F0aW9uKCk7YnJlYWs7Y2FzZSAzMjp0aGlzLnNldEFjdGl2ZVNlbGVjdGVkSW5kZXgobiksZS5wcmV2ZW50RGVmYXVsdCgpLGUuc3RvcFByb3BhZ2F0aW9uKCk7YnJlYWs7ZGVmYXVsdDpyZXR1cm59fSxlLnByb3RvdHlwZS5zZXRBY3RpdmVTZWxlY3RlZEluZGV4PWZ1bmN0aW9uKGUpe2lmKFwicmFuZ2VcIj09PXRoaXMucGlja2VyLnNlbGVjdE1vZGUmJnRoaXMuYWN0aXZlU2VsZWN0ZWRJbmRleCE9PWUpe3RoaXMuYWN0aXZlU2VsZWN0ZWRJbmRleD1lO3ZhciB0PXRoaXMucGlja2VyLnNlbGVjdGVkc1t0aGlzLmFjdGl2ZVNlbGVjdGVkSW5kZXhdO3RoaXMucGlja2VyLnNlbGVjdGVkcyYmdCYmKHRoaXMucGlja2VyTW9tZW50PXRoaXMuZGF0ZVRpbWVBZGFwdGVyLmNsb25lKHQpKX19LGUucHJvdG90eXBlLmluaXRQaWNrZXI9ZnVuY3Rpb24oKXt0aGlzLnBpY2tlck1vbWVudD10aGlzLnBpY2tlci5zdGFydEF0fHx0aGlzLmRhdGVUaW1lQWRhcHRlci5ub3coKSx0aGlzLmFjdGl2ZVNlbGVjdGVkSW5kZXg9XCJyYW5nZVRvXCI9PT10aGlzLnBpY2tlci5zZWxlY3RNb2RlPzE6MH0sZS5wcm90b3R5cGUuZGF0ZVNlbGVjdGVkSW5TaW5nbGVNb2RlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmRhdGVUaW1lQWRhcHRlci5pc1NhbWVEYXkoZSx0aGlzLnBpY2tlci5zZWxlY3RlZCk/bnVsbDp0aGlzLnVwZGF0ZUFuZENoZWNrQ2FsZW5kYXJEYXRlKGUpfSxlLnByb3RvdHlwZS5kYXRlU2VsZWN0ZWRJblJhbmdlTW9kZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLnBpY2tlci5zZWxlY3RlZHNbMF0sbj10aGlzLnBpY2tlci5zZWxlY3RlZHNbMV0saT10aGlzLnVwZGF0ZUFuZENoZWNrQ2FsZW5kYXJEYXRlKGUpO3JldHVybiBpPyhcInJhbmdlXCI9PT10aGlzLnBpY2tlci5zZWxlY3RNb2RlP3RoaXMucGlja2VyLnNlbGVjdGVkcyYmdGhpcy5waWNrZXIuc2VsZWN0ZWRzLmxlbmd0aCYmIW4mJnQmJnRoaXMuZGF0ZVRpbWVBZGFwdGVyLmRpZmZlcmVuY2VJbkNhbGVuZGFyRGF5cyhpLHQpPj0wPyhuPWksdGhpcy5hY3RpdmVTZWxlY3RlZEluZGV4PTEpOih0PWksbj1udWxsLHRoaXMuYWN0aXZlU2VsZWN0ZWRJbmRleD0wKTpcInJhbmdlRnJvbVwiPT09dGhpcy5waWNrZXIuc2VsZWN0TW9kZT8odD1pLG4mJnRoaXMuZGF0ZVRpbWVBZGFwdGVyLmNvbXBhcmUodCxuKT4wJiYobj1udWxsKSk6XCJyYW5nZVRvXCI9PT10aGlzLnBpY2tlci5zZWxlY3RNb2RlJiYobj1pLHQmJnRoaXMuZGF0ZVRpbWVBZGFwdGVyLmNvbXBhcmUodCxuKT4wJiYodD1udWxsKSksW3Qsbl0pOm51bGx9LGUucHJvdG90eXBlLnVwZGF0ZUFuZENoZWNrQ2FsZW5kYXJEYXRlPWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVyblwiYm90aFwiPT09dGhpcy5waWNrZXIucGlja2VyVHlwZT8odD10aGlzLmRhdGVUaW1lQWRhcHRlci5jcmVhdGVEYXRlKHRoaXMuZGF0ZVRpbWVBZGFwdGVyLmdldFllYXIoZSksdGhpcy5kYXRlVGltZUFkYXB0ZXIuZ2V0TW9udGgoZSksdGhpcy5kYXRlVGltZUFkYXB0ZXIuZ2V0RGF0ZShlKSx0aGlzLmRhdGVUaW1lQWRhcHRlci5nZXRIb3Vycyh0aGlzLnBpY2tlck1vbWVudCksdGhpcy5kYXRlVGltZUFkYXB0ZXIuZ2V0TWludXRlcyh0aGlzLnBpY2tlck1vbWVudCksdGhpcy5kYXRlVGltZUFkYXB0ZXIuZ2V0U2Vjb25kcyh0aGlzLnBpY2tlck1vbWVudCkpLHQ9dGhpcy5kYXRlVGltZUFkYXB0ZXIuY2xhbXBEYXRlKHQsdGhpcy5waWNrZXIubWluRGF0ZVRpbWUsdGhpcy5waWNrZXIubWF4RGF0ZVRpbWUpKTp0PXRoaXMuZGF0ZVRpbWVBZGFwdGVyLmNsb25lKGUpLHRoaXMucGlja2VyLmRhdGVUaW1lQ2hlY2tlcih0KT90Om51bGx9LGUucHJvdG90eXBlLmZvY3VzUGlja2VyPWZ1bmN0aW9uKCl7XCJpbmxpbmVcIiE9PXRoaXMucGlja2VyLnBpY2tlck1vZGUmJih0aGlzLmNhbGVuZGFyP3RoaXMuY2FsZW5kYXIuZm9jdXNBY3RpdmVDZWxsKCk6dGhpcy50aW1lciYmdGhpcy50aW1lci5mb2N1cygpKX0scGkoW3QuVmlld0NoaWxkKG9pKSxoaShcImRlc2lnbjp0eXBlXCIsb2kpXSxlLnByb3RvdHlwZSxcImNhbGVuZGFyXCIsdm9pZCAwKSxwaShbdC5WaWV3Q2hpbGQobGkpLGhpKFwiZGVzaWduOnR5cGVcIixsaSldLGUucHJvdG90eXBlLFwidGltZXJcIix2b2lkIDApLHBpKFt0Lkhvc3RCaW5kaW5nKFwiY2xhc3Mub3dsLWR0LWNvbnRhaW5lclwiKSxoaShcImRlc2lnbjp0eXBlXCIsQm9vbGVhbiksaGkoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtdKV0sZS5wcm90b3R5cGUsXCJvd2xEVENvbnRhaW5lckNsYXNzXCIsbnVsbCkscGkoW3QuSG9zdEJpbmRpbmcoXCJjbGFzcy5vd2wtZHQtcG9wdXAtY29udGFpbmVyXCIpLGhpKFwiZGVzaWduOnR5cGVcIixCb29sZWFuKSxoaShcImRlc2lnbjpwYXJhbXR5cGVzXCIsW10pXSxlLnByb3RvdHlwZSxcIm93bERUUG9wdXBDb250YWluZXJDbGFzc1wiLG51bGwpLHBpKFt0Lkhvc3RCaW5kaW5nKFwiY2xhc3Mub3dsLWR0LWRpYWxvZy1jb250YWluZXJcIiksaGkoXCJkZXNpZ246dHlwZVwiLEJvb2xlYW4pLGhpKFwiZGVzaWduOnBhcmFtdHlwZXNcIixbXSldLGUucHJvdG90eXBlLFwib3dsRFREaWFsb2dDb250YWluZXJDbGFzc1wiLG51bGwpLHBpKFt0Lkhvc3RCaW5kaW5nKFwiY2xhc3Mub3dsLWR0LWlubGluZS1jb250YWluZXJcIiksaGkoXCJkZXNpZ246dHlwZVwiLEJvb2xlYW4pLGhpKFwiZGVzaWduOnBhcmFtdHlwZXNcIixbXSldLGUucHJvdG90eXBlLFwib3dsRFRJbmxpbmVDb250YWluZXJDbGFzc1wiLG51bGwpLHBpKFt0Lkhvc3RCaW5kaW5nKFwiY2xhc3Mub3dsLWR0LWNvbnRhaW5lci1kaXNhYmxlZFwiKSxoaShcImRlc2lnbjp0eXBlXCIsQm9vbGVhbiksaGkoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtdKV0sZS5wcm90b3R5cGUsXCJvd2xEVENvbnRhaW5lckRpc2FibGVkQ2xhc3NcIixudWxsKSxwaShbdC5Ib3N0QmluZGluZyhcImF0dHIuaWRcIiksaGkoXCJkZXNpZ246dHlwZVwiLFN0cmluZyksaGkoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtdKV0sZS5wcm90b3R5cGUsXCJvd2xEVENvbnRhaW5lcklkXCIsbnVsbCkscGkoW3QuSG9zdEJpbmRpbmcoXCJAdHJhbnNmb3JtUGlja2VyXCIpLGhpKFwiZGVzaWduOnR5cGVcIixPYmplY3QpLGhpKFwiZGVzaWduOnBhcmFtdHlwZXNcIixbXSldLGUucHJvdG90eXBlLFwib3dsRFRDb250YWluZXJBbmltYXRpb25cIixudWxsKSxwaShbdC5Ib3N0TGlzdGVuZXIoXCJAdHJhbnNmb3JtUGlja2VyLmRvbmVcIixbXCIkZXZlbnRcIl0pLGhpKFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksaGkoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtPYmplY3RdKSxoaShcImRlc2lnbjpyZXR1cm50eXBlXCIsdm9pZCAwKV0sZS5wcm90b3R5cGUsXCJoYW5kbGVDb250YWluZXJBbmltYXRpb25Eb25lXCIsbnVsbCksZT1waShbdC5Db21wb25lbnQoe2V4cG9ydEFzOlwib3dsRGF0ZVRpbWVDb250YWluZXJcIixzZWxlY3RvcjpcIm93bC1kYXRlLXRpbWUtY29udGFpbmVyXCIsdGVtcGxhdGU6JzxkaXYgW2Nka1RyYXBGb2N1c109XCJwaWNrZXIucGlja2VyTW9kZSAhPT0gXFwnaW5saW5lXFwnXCIgW0BmYWRlSW5QaWNrZXJdPVwicGlja2VyLnBpY2tlck1vZGUgPT09IFxcJ2lubGluZVxcJz8gXFwnXFwnIDogXFwnZW50ZXJcXCdcIiBjbGFzcz1cIm93bC1kdC1jb250YWluZXItaW5uZXJcIj48b3dsLWRhdGUtdGltZS1jYWxlbmRhciAqbmdJZj1cInBpY2tlclR5cGUgPT09IFxcJ2JvdGhcXCcgfHwgcGlja2VyVHlwZSA9PT0gXFwnY2FsZW5kYXJcXCdcIiBjbGFzcz1cIm93bC1kdC1jb250YWluZXItcm93XCIgW2ZpcnN0RGF5T2ZXZWVrXT1cInBpY2tlci5maXJzdERheU9mV2Vla1wiIFsocGlja2VyTW9tZW50KV09XCJwaWNrZXJNb21lbnRcIiBbc2VsZWN0ZWRdPVwicGlja2VyLnNlbGVjdGVkXCIgW3NlbGVjdGVkc109XCJwaWNrZXIuc2VsZWN0ZWRzXCIgW3NlbGVjdE1vZGVdPVwicGlja2VyLnNlbGVjdE1vZGVcIiBbbWluRGF0ZV09XCJwaWNrZXIubWluRGF0ZVRpbWVcIiBbbWF4RGF0ZV09XCJwaWNrZXIubWF4RGF0ZVRpbWVcIiBbZGF0ZUZpbHRlcl09XCJwaWNrZXIuZGF0ZVRpbWVGaWx0ZXJcIiBbc3RhcnRWaWV3XT1cInBpY2tlci5zdGFydFZpZXdcIiBbaGlkZU90aGVyTW9udGhzXT1cInBpY2tlci5oaWRlT3RoZXJNb250aHNcIiAoeWVhclNlbGVjdGVkKT1cInBpY2tlci5zZWxlY3RZZWFyKCRldmVudClcIiAobW9udGhTZWxlY3RlZCk9XCJwaWNrZXIuc2VsZWN0TW9udGgoJGV2ZW50KVwiIChzZWxlY3RlZENoYW5nZSk9XCJkYXRlU2VsZWN0ZWQoJGV2ZW50KVwiPjwvb3dsLWRhdGUtdGltZS1jYWxlbmRhcj48b3dsLWRhdGUtdGltZS10aW1lciAqbmdJZj1cInBpY2tlclR5cGUgPT09IFxcJ2JvdGhcXCcgfHwgcGlja2VyVHlwZSA9PT0gXFwndGltZXJcXCdcIiBjbGFzcz1cIm93bC1kdC1jb250YWluZXItcm93XCIgW3BpY2tlck1vbWVudF09XCJwaWNrZXJNb21lbnRcIiBbbWluRGF0ZVRpbWVdPVwicGlja2VyLm1pbkRhdGVUaW1lXCIgW21heERhdGVUaW1lXT1cInBpY2tlci5tYXhEYXRlVGltZVwiIFtzaG93U2Vjb25kc1RpbWVyXT1cInBpY2tlci5zaG93U2Vjb25kc1RpbWVyXCIgW2hvdXIxMlRpbWVyXT1cInBpY2tlci5ob3VyMTJUaW1lclwiIFtzdGVwSG91cl09XCJwaWNrZXIuc3RlcEhvdXJcIiBbc3RlcE1pbnV0ZV09XCJwaWNrZXIuc3RlcE1pbnV0ZVwiIFtzdGVwU2Vjb25kXT1cInBpY2tlci5zdGVwU2Vjb25kXCIgKHNlbGVjdGVkQ2hhbmdlKT1cInRpbWVTZWxlY3RlZCgkZXZlbnQpXCI+PC9vd2wtZGF0ZS10aW1lLXRpbWVyPjxkaXYgKm5nSWY9XCJwaWNrZXIuaXNJblJhbmdlTW9kZVwiIHJvbGU9XCJyYWRpb2dyb3VwXCIgY2xhc3M9XCJvd2wtZHQtY29udGFpbmVyLWluZm8gb3dsLWR0LWNvbnRhaW5lci1yb3dcIj48ZGl2IHJvbGU9XCJyYWRpb1wiIFt0YWJpbmRleF09XCJhY3RpdmVTZWxlY3RlZEluZGV4ID09PSAwID8gMCA6IC0xXCIgW2F0dHIuYXJpYS1jaGVja2VkXT1cImFjdGl2ZVNlbGVjdGVkSW5kZXggPT09IDBcIiBjbGFzcz1cIm93bC1kdC1jb250cm9sIG93bC1kdC1jb250YWluZXItcmFuZ2Ugb3dsLWR0LWNvbnRhaW5lci1mcm9tXCIgW25nQ2xhc3NdPVwie1xcJ293bC1kdC1jb250YWluZXItaW5mby1hY3RpdmVcXCc6IGFjdGl2ZVNlbGVjdGVkSW5kZXggPT09IDB9XCIgKGNsaWNrKT1cImhhbmRsZUNsaWNrT25JbmZvR3JvdXAoJGV2ZW50LCAwKVwiIChrZXlkb3duKT1cImhhbmRsZUtleWRvd25PbkluZm9Hcm91cCgkZXZlbnQsIHRvLCAwKVwiICNmcm9tPjxzcGFuIGNsYXNzPVwib3dsLWR0LWNvbnRyb2wtY29udGVudCBvd2wtZHQtY29udGFpbmVyLXJhbmdlLWNvbnRlbnRcIiB0YWJpbmRleD1cIi0xXCI+PHNwYW4gY2xhc3M9XCJvd2wtZHQtY29udGFpbmVyLWluZm8tbGFiZWxcIj57e2Zyb21MYWJlbH19Ojwvc3Bhbj4gPHNwYW4gY2xhc3M9XCJvd2wtZHQtY29udGFpbmVyLWluZm8tdmFsdWVcIj57e2Zyb21Gb3JtYXR0ZWRWYWx1ZX19PC9zcGFuPjwvc3Bhbj48L2Rpdj48ZGl2IHJvbGU9XCJyYWRpb1wiIFt0YWJpbmRleF09XCJhY3RpdmVTZWxlY3RlZEluZGV4ID09PSAxID8gMCA6IC0xXCIgW2F0dHIuYXJpYS1jaGVja2VkXT1cImFjdGl2ZVNlbGVjdGVkSW5kZXggPT09IDFcIiBjbGFzcz1cIm93bC1kdC1jb250cm9sIG93bC1kdC1jb250YWluZXItcmFuZ2Ugb3dsLWR0LWNvbnRhaW5lci10b1wiIFtuZ0NsYXNzXT1cIntcXCdvd2wtZHQtY29udGFpbmVyLWluZm8tYWN0aXZlXFwnOiBhY3RpdmVTZWxlY3RlZEluZGV4ID09PSAxfVwiIChjbGljayk9XCJoYW5kbGVDbGlja09uSW5mb0dyb3VwKCRldmVudCwgMSlcIiAoa2V5ZG93bik9XCJoYW5kbGVLZXlkb3duT25JbmZvR3JvdXAoJGV2ZW50LCBmcm9tLCAxKVwiICN0bz48c3BhbiBjbGFzcz1cIm93bC1kdC1jb250cm9sLWNvbnRlbnQgb3dsLWR0LWNvbnRhaW5lci1yYW5nZS1jb250ZW50XCIgdGFiaW5kZXg9XCItMVwiPjxzcGFuIGNsYXNzPVwib3dsLWR0LWNvbnRhaW5lci1pbmZvLWxhYmVsXCI+e3t0b0xhYmVsfX06PC9zcGFuPiA8c3BhbiBjbGFzcz1cIm93bC1kdC1jb250YWluZXItaW5mby12YWx1ZVwiPnt7dG9Gb3JtYXR0ZWRWYWx1ZX19PC9zcGFuPjwvc3Bhbj48L2Rpdj48L2Rpdj48ZGl2ICpuZ0lmPVwic2hvd0NvbnRyb2xCdXR0b25zXCIgY2xhc3M9XCJvd2wtZHQtY29udGFpbmVyLWJ1dHRvbnMgb3dsLWR0LWNvbnRhaW5lci1yb3dcIj48YnV0dG9uIGNsYXNzPVwib3dsLWR0LWNvbnRyb2wgb3dsLWR0LWNvbnRyb2wtYnV0dG9uIG93bC1kdC1jb250YWluZXItY29udHJvbC1idXR0b25cIiB0eXBlPVwiYnV0dG9uXCIgdGFiaW5kZXg9XCIwXCIgKGNsaWNrKT1cIm9uQ2FuY2VsQ2xpY2tlZCgkZXZlbnQpXCI+PHNwYW4gY2xhc3M9XCJvd2wtZHQtY29udHJvbC1jb250ZW50IG93bC1kdC1jb250cm9sLWJ1dHRvbi1jb250ZW50XCIgdGFiaW5kZXg9XCItMVwiPnt7Y2FuY2VsTGFiZWx9fTwvc3Bhbj48L2J1dHRvbj4gPGJ1dHRvbiBjbGFzcz1cIm93bC1kdC1jb250cm9sIG93bC1kdC1jb250cm9sLWJ1dHRvbiBvd2wtZHQtY29udGFpbmVyLWNvbnRyb2wtYnV0dG9uXCIgdHlwZT1cImJ1dHRvblwiIHRhYmluZGV4PVwiMFwiIChjbGljayk9XCJvblNldENsaWNrZWQoJGV2ZW50KVwiPjxzcGFuIGNsYXNzPVwib3dsLWR0LWNvbnRyb2wtY29udGVudCBvd2wtZHQtY29udHJvbC1idXR0b24tY29udGVudFwiIHRhYmluZGV4PVwiLTFcIj57e3NldExhYmVsfX08L3NwYW4+PC9idXR0b24+PC9kaXY+PC9kaXY+JyxzdHlsZXM6W1wiXCJdLGNoYW5nZURldGVjdGlvbjp0LkNoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCxwcmVzZXJ2ZVdoaXRlc3BhY2VzOiExLGFuaW1hdGlvbnM6W3VpLnRyYW5zZm9ybVBpY2tlcix1aS5mYWRlSW5QaWNrZXJdfSksZGkoMyx0Lk9wdGlvbmFsKCkpLGhpKFwiZGVzaWduOnBhcmFtdHlwZXNcIixbdC5DaGFuZ2VEZXRlY3RvclJlZix0LkVsZW1lbnRSZWYsR24sZWldKV0sZSl9KCksbWk9ZnVuY3Rpb24oZSx0LG4saSl7dmFyIHIsbz1hcmd1bWVudHMubGVuZ3RoLHM9bzwzP3Q6bnVsbD09PWk/aT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsbik6aTtpZihcIm9iamVjdFwiPT10eXBlb2YgUmVmbGVjdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSlzPVJlZmxlY3QuZGVjb3JhdGUoZSx0LG4saSk7ZWxzZSBmb3IodmFyIGE9ZS5sZW5ndGgtMTthPj0wO2EtLSkocj1lW2FdKSYmKHM9KG88Mz9yKHMpOm8+Mz9yKHQsbixzKTpyKHQsbikpfHxzKTtyZXR1cm4gbz4zJiZzJiZPYmplY3QuZGVmaW5lUHJvcGVydHkodCxuLHMpLHN9LHlpPWZ1bmN0aW9uKGUsdCl7aWYoXCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3QmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFJlZmxlY3QubWV0YWRhdGEpcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEoZSx0KX0sZ2k9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZnVuY3Rpb24obixpKXt0KG4saSxlKX19LGJpPTAsdmk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7dmFyIG49dGhpcztpZih0aGlzLmRhdGVUaW1lQWRhcHRlcj1lLHRoaXMuZGF0ZVRpbWVGb3JtYXRzPXQsdGhpcy5fc2hvd1NlY29uZHNUaW1lcj0hMSx0aGlzLl9ob3VyMTJUaW1lcj0hMSx0aGlzLnN0YXJ0Vmlldz1cIm1vbnRoXCIsdGhpcy5fc3RlcEhvdXI9MSx0aGlzLl9zdGVwTWludXRlPTEsdGhpcy5fc3RlcFNlY29uZD0xLHRoaXMuX2ZpcnN0RGF5T2ZXZWVrPTAsdGhpcy5faGlkZU90aGVyTW9udGhzPSExLHRoaXMuZGF0ZVRpbWVDaGVja2VyPWZ1bmN0aW9uKGUpe3JldHVybiEhZSYmKCFuLmRhdGVUaW1lRmlsdGVyfHxuLmRhdGVUaW1lRmlsdGVyKGUpKSYmKCFuLm1pbkRhdGVUaW1lfHxuLmRhdGVUaW1lQWRhcHRlci5jb21wYXJlKGUsbi5taW5EYXRlVGltZSk+PTApJiYoIW4ubWF4RGF0ZVRpbWV8fG4uZGF0ZVRpbWVBZGFwdGVyLmNvbXBhcmUoZSxuLm1heERhdGVUaW1lKTw9MCl9LCF0aGlzLmRhdGVUaW1lQWRhcHRlcil0aHJvdyBFcnJvcihcIk93bERhdGVUaW1lUGlja2VyOiBObyBwcm92aWRlciBmb3VuZCBmb3IgRGF0ZVRpbWVBZGFwdGVyLiBZb3UgbXVzdCBpbXBvcnQgb25lIG9mIHRoZSBmb2xsb3dpbmcgbW9kdWxlcyBhdCB5b3VyIGFwcGxpY2F0aW9uIHJvb3Q6IE93bE5hdGl2ZURhdGVUaW1lTW9kdWxlLCBPd2xNb21lbnREYXRlVGltZU1vZHVsZSwgb3IgcHJvdmlkZSBhIGN1c3RvbSBpbXBsZW1lbnRhdGlvbi5cIik7aWYoIXRoaXMuZGF0ZVRpbWVGb3JtYXRzKXRocm93IEVycm9yKFwiT3dsRGF0ZVRpbWVQaWNrZXI6IE5vIHByb3ZpZGVyIGZvdW5kIGZvciBPV0xfREFURV9USU1FX0ZPUk1BVFMuIFlvdSBtdXN0IGltcG9ydCBvbmUgb2YgdGhlIGZvbGxvd2luZyBtb2R1bGVzIGF0IHlvdXIgYXBwbGljYXRpb24gcm9vdDogT3dsTmF0aXZlRGF0ZVRpbWVNb2R1bGUsIE93bE1vbWVudERhdGVUaW1lTW9kdWxlLCBvciBwcm92aWRlIGEgY3VzdG9tIGltcGxlbWVudGF0aW9uLlwiKTt0aGlzLl9pZD1cIm93bC1kdC1waWNrZXItXCIrYmkrK31yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwic2hvd1NlY29uZHNUaW1lclwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2hvd1NlY29uZHNUaW1lcn0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX3Nob3dTZWNvbmRzVGltZXI9ZHQoZSl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiaG91cjEyVGltZXJcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2hvdXIxMlRpbWVyfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5faG91cjEyVGltZXI9ZHQoZSl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwic3RlcEhvdXJcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0ZXBIb3VyfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fc3RlcEhvdXI9ZnQoZSwxKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJzdGVwTWludXRlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdGVwTWludXRlfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fc3RlcE1pbnV0ZT1mdChlLDEpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcInN0ZXBTZWNvbmRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0ZXBTZWNvbmR9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9zdGVwU2Vjb25kPWZ0KGUsMSl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiZmlyc3REYXlPZldlZWtcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ZpcnN0RGF5T2ZXZWVrfSxzZXQ6ZnVuY3Rpb24oZSl7ZT1mdChlLDApLHRoaXMuX2ZpcnN0RGF5T2ZXZWVrPWU+Nnx8ZTwwPzA6ZX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJoaWRlT3RoZXJNb250aHNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2hpZGVPdGhlck1vbnRoc30sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2hpZGVPdGhlck1vbnRocz1kdChlKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJpZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faWR9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiZm9ybWF0U3RyaW5nXCIse2dldDpmdW5jdGlvbigpe3JldHVyblwiYm90aFwiPT09dGhpcy5waWNrZXJUeXBlP3RoaXMuZGF0ZVRpbWVGb3JtYXRzLmZ1bGxQaWNrZXJJbnB1dDpcImNhbGVuZGFyXCI9PT10aGlzLnBpY2tlclR5cGU/dGhpcy5kYXRlVGltZUZvcm1hdHMuZGF0ZVBpY2tlcklucHV0OnRoaXMuZGF0ZVRpbWVGb3JtYXRzLnRpbWVQaWNrZXJJbnB1dH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJkaXNhYmxlZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4hMX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5nZXRWYWxpZERhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZGF0ZVRpbWVBZGFwdGVyLmlzRGF0ZUluc3RhbmNlKGUpJiZ0aGlzLmRhdGVUaW1lQWRhcHRlci5pc1ZhbGlkKGUpP2U6bnVsbH0sbWkoW3QuSW5wdXQoKSx5aShcImRlc2lnbjp0eXBlXCIsQm9vbGVhbikseWkoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtCb29sZWFuXSldLGUucHJvdG90eXBlLFwic2hvd1NlY29uZHNUaW1lclwiLG51bGwpLG1pKFt0LklucHV0KCkseWkoXCJkZXNpZ246dHlwZVwiLEJvb2xlYW4pLHlpKFwiZGVzaWduOnBhcmFtdHlwZXNcIixbQm9vbGVhbl0pXSxlLnByb3RvdHlwZSxcImhvdXIxMlRpbWVyXCIsbnVsbCksbWkoW3QuSW5wdXQoKSx5aShcImRlc2lnbjp0eXBlXCIsU3RyaW5nKV0sZS5wcm90b3R5cGUsXCJzdGFydFZpZXdcIix2b2lkIDApLG1pKFt0LklucHV0KCkseWkoXCJkZXNpZ246dHlwZVwiLE51bWJlcikseWkoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtOdW1iZXJdKV0sZS5wcm90b3R5cGUsXCJzdGVwSG91clwiLG51bGwpLG1pKFt0LklucHV0KCkseWkoXCJkZXNpZ246dHlwZVwiLE51bWJlcikseWkoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtOdW1iZXJdKV0sZS5wcm90b3R5cGUsXCJzdGVwTWludXRlXCIsbnVsbCksbWkoW3QuSW5wdXQoKSx5aShcImRlc2lnbjp0eXBlXCIsTnVtYmVyKSx5aShcImRlc2lnbjpwYXJhbXR5cGVzXCIsW051bWJlcl0pXSxlLnByb3RvdHlwZSxcInN0ZXBTZWNvbmRcIixudWxsKSxtaShbdC5JbnB1dCgpLHlpKFwiZGVzaWduOnR5cGVcIixOdW1iZXIpLHlpKFwiZGVzaWduOnBhcmFtdHlwZXNcIixbTnVtYmVyXSldLGUucHJvdG90eXBlLFwiZmlyc3REYXlPZldlZWtcIixudWxsKSxtaShbdC5JbnB1dCgpLHlpKFwiZGVzaWduOnR5cGVcIixCb29sZWFuKSx5aShcImRlc2lnbjpwYXJhbXR5cGVzXCIsW0Jvb2xlYW5dKV0sZS5wcm90b3R5cGUsXCJoaWRlT3RoZXJNb250aHNcIixudWxsKSxlPW1pKFtnaSgwLHQuT3B0aW9uYWwoKSksZ2koMSx0Lk9wdGlvbmFsKCkpLGdpKDEsdC5JbmplY3QodGkpKSx5aShcImRlc2lnbjpwYXJhbXR5cGVzXCIsW2VpLE9iamVjdF0pXSxlKX0oKSxfaT0wLHdpPWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dGhpcy5hcmlhRGVzY3JpYmVkQnk9bnVsbCx0aGlzLmF1dG9Gb2N1cz0hMCx0aGlzLmhhc0JhY2tkcm9wPSEwLHRoaXMuZGF0YT1udWxsLHRoaXMuZGlzYWJsZUNsb3NlPSExLHRoaXMucm9sZT1cImRpYWxvZ1wiLHRoaXMucGFuZUNsYXNzPVwiXCIsdGhpcy5ldmVudD1udWxsLHRoaXMuYmFja2Ryb3BDbGFzcz1cIlwiLHRoaXMuY2xvc2VPbk5hdmlnYXRpb249ITAsdGhpcy53aWR0aD1cIlwiLHRoaXMuaGVpZ2h0PVwiXCIsdGhpcy5tYXhXaWR0aD1cIjg1dndcIix0aGlzLnNjcm9sbFN0cmF0ZWd5PW5ldyBfbix0aGlzLmlkPVwib3dsLWRpYWxvZy1cIitfaSsrfX0oKSxPaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0LG4saSl7dmFyIHI9dGhpczt0aGlzLm92ZXJsYXlSZWY9ZSx0aGlzLmNvbnRhaW5lcj10LHRoaXMuaWQ9bix0aGlzLl9iZWZvcmVDbG9zZSQ9bmV3IFAsdGhpcy5fYWZ0ZXJPcGVuJD1uZXcgUCx0aGlzLl9hZnRlckNsb3NlZCQ9bmV3IFAsdGhpcy5sb2NhdGlvbkNoYW5nZWQ9Xy5FTVBUWSx0aGlzLmRpc2FibGVDbG9zZT10aGlzLmNvbnRhaW5lci5jb25maWcuZGlzYWJsZUNsb3NlLHRoaXMuY29udGFpbmVyLmFuaW1hdGlvblN0YXRlQ2hhbmdlZC5waXBlKEJlKGZ1bmN0aW9uKGUpe3JldHVyblwiZG9uZVwiPT09ZS5waGFzZU5hbWUmJlwiZW50ZXJcIj09PWUudG9TdGF0ZX0pLFdlKDEpKS5zdWJzY3JpYmUoZnVuY3Rpb24oKXtyLl9hZnRlck9wZW4kLm5leHQoKSxyLl9hZnRlck9wZW4kLmNvbXBsZXRlKCl9KSx0aGlzLmNvbnRhaW5lci5hbmltYXRpb25TdGF0ZUNoYW5nZWQucGlwZShCZShmdW5jdGlvbihlKXtyZXR1cm5cImRvbmVcIj09PWUucGhhc2VOYW1lJiZcImV4aXRcIj09PWUudG9TdGF0ZX0pLFdlKDEpKS5zdWJzY3JpYmUoZnVuY3Rpb24oKXtyLm92ZXJsYXlSZWYuZGlzcG9zZSgpLHIubG9jYXRpb25DaGFuZ2VkLnVuc3Vic2NyaWJlKCksci5fYWZ0ZXJDbG9zZWQkLm5leHQoci5yZXN1bHQpLHIuX2FmdGVyQ2xvc2VkJC5jb21wbGV0ZSgpLHIuY29tcG9uZW50SW5zdGFuY2U9bnVsbH0pLHRoaXMub3ZlcmxheVJlZi5rZXlkb3duRXZlbnRzKCkucGlwZShCZShmdW5jdGlvbihlKXtyZXR1cm4gZS5rZXlDb2RlPT09SWUmJiFyLmRpc2FibGVDbG9zZX0pKS5zdWJzY3JpYmUoZnVuY3Rpb24oKXtyZXR1cm4gci5jbG9zZSgpfSksaSYmKHRoaXMubG9jYXRpb25DaGFuZ2VkPWkuc3Vic2NyaWJlKGZ1bmN0aW9uKCl7ci5jb250YWluZXIuY29uZmlnLmNsb3NlT25OYXZpZ2F0aW9uJiZyLmNsb3NlKCl9KSl9cmV0dXJuIGUucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dGhpcy5yZXN1bHQ9ZSx0aGlzLmNvbnRhaW5lci5hbmltYXRpb25TdGF0ZUNoYW5nZWQucGlwZShCZShmdW5jdGlvbihlKXtyZXR1cm5cInN0YXJ0XCI9PT1lLnBoYXNlTmFtZX0pLFdlKDEpKS5zdWJzY3JpYmUoZnVuY3Rpb24oKXt0Ll9iZWZvcmVDbG9zZSQubmV4dChlKSx0Ll9iZWZvcmVDbG9zZSQuY29tcGxldGUoKSx0Lm92ZXJsYXlSZWYuZGV0YWNoQmFja2Ryb3AoKX0pLHRoaXMuY29udGFpbmVyLnN0YXJ0RXhpdEFuaW1hdGlvbigpfSxlLnByb3RvdHlwZS5iYWNrZHJvcENsaWNrPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3ZlcmxheVJlZi5iYWNrZHJvcENsaWNrKCl9LGUucHJvdG90eXBlLmtleWRvd25FdmVudHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vdmVybGF5UmVmLmtleWRvd25FdmVudHMoKX0sZS5wcm90b3R5cGUudXBkYXRlUG9zaXRpb249ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5nZXRQb3NpdGlvblN0cmF0ZWd5KCk7cmV0dXJuIGUmJihlLmxlZnR8fGUucmlnaHQpP2UubGVmdD90LmxlZnQoZS5sZWZ0KTp0LnJpZ2h0KGUucmlnaHQpOnQuY2VudGVySG9yaXpvbnRhbGx5KCksZSYmKGUudG9wfHxlLmJvdHRvbSk/ZS50b3A/dC50b3AoZS50b3ApOnQuYm90dG9tKGUuYm90dG9tKTp0LmNlbnRlclZlcnRpY2FsbHkoKSx0aGlzLm92ZXJsYXlSZWYudXBkYXRlUG9zaXRpb24oKSx0aGlzfSxlLnByb3RvdHlwZS51cGRhdGVTaXplPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHZvaWQgMD09PWUmJihlPVwiYXV0b1wiKSx2b2lkIDA9PT10JiYodD1cImF1dG9cIiksdGhpcy5nZXRQb3NpdGlvblN0cmF0ZWd5KCkud2lkdGgoZSkuaGVpZ2h0KHQpLHRoaXMub3ZlcmxheVJlZi51cGRhdGVQb3NpdGlvbigpLHRoaXN9LGUucHJvdG90eXBlLmlzQW5pbWF0aW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGFpbmVyLmlzQW5pbWF0aW5nfSxlLnByb3RvdHlwZS5hZnRlck9wZW49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYWZ0ZXJPcGVuJC5hc09ic2VydmFibGUoKX0sZS5wcm90b3R5cGUuYmVmb3JlQ2xvc2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYmVmb3JlQ2xvc2UkLmFzT2JzZXJ2YWJsZSgpfSxlLnByb3RvdHlwZS5hZnRlckNsb3NlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9hZnRlckNsb3NlZCQuYXNPYnNlcnZhYmxlKCl9LGUucHJvdG90eXBlLmdldFBvc2l0aW9uU3RyYXRlZ3k9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vdmVybGF5UmVmLmdldENvbmZpZygpLnBvc2l0aW9uU3RyYXRlZ3l9LGV9KCksa2k9KEpuPWZ1bmN0aW9uKGUsdCl7cmV0dXJuKEpuPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbihlLHQpe2UuX19wcm90b19fPXR9fHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgbiBpbiB0KXQuaGFzT3duUHJvcGVydHkobikmJihlW25dPXRbbl0pfSkoZSx0KX0sZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfUpuKGUsdCksZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KToobi5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IG4pfSksQ2k9ZnVuY3Rpb24oZSx0LG4saSl7dmFyIHIsbz1hcmd1bWVudHMubGVuZ3RoLHM9bzwzP3Q6bnVsbD09PWk/aT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsbik6aTtpZihcIm9iamVjdFwiPT10eXBlb2YgUmVmbGVjdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSlzPVJlZmxlY3QuZGVjb3JhdGUoZSx0LG4saSk7ZWxzZSBmb3IodmFyIGE9ZS5sZW5ndGgtMTthPj0wO2EtLSkocj1lW2FdKSYmKHM9KG88Mz9yKHMpOm8+Mz9yKHQsbixzKTpyKHQsbikpfHxzKTtyZXR1cm4gbz4zJiZzJiZPYmplY3QuZGVmaW5lUHJvcGVydHkodCxuLHMpLHN9LFRpPWZ1bmN0aW9uKGUsdCl7aWYoXCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3QmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFJlZmxlY3QubWV0YWRhdGEpcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEoZSx0KX0sU2k9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZnVuY3Rpb24obixpKXt0KG4saSxlKX19LERpPXtvcGFjaXR5OjAsdHJhbnNmb3JtOlwidHJhbnNsYXRlWCh7eyB4IH19KSB0cmFuc2xhdGVZKHt7IHkgfX0pIHNjYWxlKHt7c2NhbGV9fSlcIn0sSWk9e29wYWNpdHk6MCx0cmFuc2Zvcm06XCJ0cmFuc2xhdGVYKHt7IHggfX0pIHRyYW5zbGF0ZVkoe3sgeSB9fSkgc2NhbGUoe3tzY2FsZX19KVwiLHRyYW5zZm9ybU9yaWdpbjpcInt7IG94IH19IHt7IG95IH19XCJ9LE1pPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHIobixpLHIsbyl7dmFyIHM9ZS5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBzLmNoYW5nZURldGVjdG9yPW4scy5lbGVtZW50UmVmPWkscy5mb2N1c1RyYXBGYWN0b3J5PXIscy5kb2N1bWVudD1vLHMuYXJpYUxhYmVsbGVkQnk9bnVsbCxzLmFuaW1hdGlvblN0YXRlQ2hhbmdlZD1uZXcgdC5FdmVudEVtaXR0ZXIscy5pc0FuaW1hdGluZz0hMSxzLnN0YXRlPVwiZW50ZXJcIixzLnBhcmFtcz17eDpcIjBweFwiLHk6XCIwcHhcIixveDpcIjUwJVwiLG95OlwiNTAlXCIsc2NhbGU6MH0scy5lbGVtZW50Rm9jdXNlZEJlZm9yZURpYWxvZ1dhc09wZW5lZD1udWxsLHN9cmV0dXJuIGtpKHIsZSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHIucHJvdG90eXBlLFwiY29uZmlnXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb25maWd9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHIucHJvdG90eXBlLFwib3dsRGlhbG9nQ29udGFpbmVyQ2xhc3NcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuITB9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHIucHJvdG90eXBlLFwib3dsRGlhbG9nQ29udGFpbmVyVGFiSW5kZXhcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuLTF9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHIucHJvdG90eXBlLFwib3dsRGlhbG9nQ29udGFpbmVySWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbmZpZy5pZH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoci5wcm90b3R5cGUsXCJvd2xEaWFsb2dDb250YWluZXJSb2xlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb25maWcucm9sZXx8bnVsbH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoci5wcm90b3R5cGUsXCJvd2xEaWFsb2dDb250YWluZXJBcmlhTGFiZWxsZWRieVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hcmlhTGFiZWxsZWRCeX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoci5wcm90b3R5cGUsXCJvd2xEaWFsb2dDb250YWluZXJBcmlhRGVzY3JpYmVkYnlcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbmZpZy5hcmlhRGVzY3JpYmVkQnl8fG51bGx9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHIucHJvdG90eXBlLFwib3dsRGlhbG9nQ29udGFpbmVyQW5pbWF0aW9uXCIse2dldDpmdW5jdGlvbigpe3JldHVybnt2YWx1ZTp0aGlzLnN0YXRlLHBhcmFtczp0aGlzLnBhcmFtc319LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksci5wcm90b3R5cGUubmdPbkluaXQ9ZnVuY3Rpb24oKXt9LHIucHJvdG90eXBlLmF0dGFjaENvbXBvbmVudFBvcnRhbD1mdW5jdGlvbihlKXtpZih0aGlzLnBvcnRhbE91dGxldC5oYXNBdHRhY2hlZCgpKXRocm93IEVycm9yKFwiQXR0ZW1wdGluZyB0byBhdHRhY2ggZGlhbG9nIGNvbnRlbnQgYWZ0ZXIgY29udGVudCBpcyBhbHJlYWR5IGF0dGFjaGVkXCIpO3JldHVybiB0aGlzLnNhdmVQcmV2aW91c2x5Rm9jdXNlZEVsZW1lbnQoKSx0aGlzLnBvcnRhbE91dGxldC5hdHRhY2hDb21wb25lbnRQb3J0YWwoZSl9LHIucHJvdG90eXBlLmF0dGFjaFRlbXBsYXRlUG9ydGFsPWZ1bmN0aW9uKGUpe3Rocm93IG5ldyBFcnJvcihcIk1ldGhvZCBub3QgaW1wbGVtZW50ZWQuXCIpfSxyLnByb3RvdHlwZS5zZXRDb25maWc9ZnVuY3Rpb24oZSl7dGhpcy5fY29uZmlnPWUsZS5ldmVudCYmdGhpcy5jYWxjdWxhdGVab29tT3JpZ2luKGV2ZW50KX0sci5wcm90b3R5cGUub25BbmltYXRpb25TdGFydD1mdW5jdGlvbihlKXt0aGlzLmlzQW5pbWF0aW5nPSEwLHRoaXMuYW5pbWF0aW9uU3RhdGVDaGFuZ2VkLmVtaXQoZSl9LHIucHJvdG90eXBlLm9uQW5pbWF0aW9uRG9uZT1mdW5jdGlvbihlKXtcImVudGVyXCI9PT1lLnRvU3RhdGU/dGhpcy50cmFwRm9jdXMoKTpcImV4aXRcIj09PWUudG9TdGF0ZSYmdGhpcy5yZXN0b3JlRm9jdXMoKSx0aGlzLmFuaW1hdGlvblN0YXRlQ2hhbmdlZC5lbWl0KGUpLHRoaXMuaXNBbmltYXRpbmc9ITF9LHIucHJvdG90eXBlLnN0YXJ0RXhpdEFuaW1hdGlvbj1mdW5jdGlvbigpe3RoaXMuc3RhdGU9XCJleGl0XCIsdGhpcy5jaGFuZ2VEZXRlY3Rvci5tYXJrRm9yQ2hlY2soKX0sci5wcm90b3R5cGUuY2FsY3VsYXRlWm9vbU9yaWdpbj1mdW5jdGlvbihlKXtpZihlKXt2YXIgdD1lLmNsaWVudFgsbj1lLmNsaWVudFksaT10LXdpbmRvdy5pbm5lcldpZHRoLzIscj1uLXdpbmRvdy5pbm5lckhlaWdodC8yLG89dC93aW5kb3cuaW5uZXJXaWR0aCxzPW4vd2luZG93LmlubmVySGVpZ2h0O3RoaXMucGFyYW1zLng9aStcInB4XCIsdGhpcy5wYXJhbXMueT1yK1wicHhcIix0aGlzLnBhcmFtcy5veD0xMDAqbytcIiVcIix0aGlzLnBhcmFtcy5veT0xMDAqcytcIiVcIix0aGlzLnBhcmFtcy5zY2FsZT0wfX0sci5wcm90b3R5cGUuc2F2ZVByZXZpb3VzbHlGb2N1c2VkRWxlbWVudD1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5kb2N1bWVudCYmKHRoaXMuZWxlbWVudEZvY3VzZWRCZWZvcmVEaWFsb2dXYXNPcGVuZWQ9dGhpcy5kb2N1bWVudC5hY3RpdmVFbGVtZW50LFByb21pc2UucmVzb2x2ZSgpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gZS5lbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnQuZm9jdXMoKX0pKX0sci5wcm90b3R5cGUudHJhcEZvY3VzPWZ1bmN0aW9uKCl7dGhpcy5mb2N1c1RyYXB8fCh0aGlzLmZvY3VzVHJhcD10aGlzLmZvY3VzVHJhcEZhY3RvcnkuY3JlYXRlKHRoaXMuZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50KSksdGhpcy5fY29uZmlnLmF1dG9Gb2N1cyYmdGhpcy5mb2N1c1RyYXAuZm9jdXNJbml0aWFsRWxlbWVudFdoZW5SZWFkeSgpfSxyLnByb3RvdHlwZS5yZXN0b3JlRm9jdXM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmVsZW1lbnRGb2N1c2VkQmVmb3JlRGlhbG9nV2FzT3BlbmVkO2UmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGUuZm9jdXMmJmUuZm9jdXMoKSx0aGlzLmZvY3VzVHJhcCYmdGhpcy5mb2N1c1RyYXAuZGVzdHJveSgpfSxDaShbdC5WaWV3Q2hpbGQoZm4pLFRpKFwiZGVzaWduOnR5cGVcIixmbildLHIucHJvdG90eXBlLFwicG9ydGFsT3V0bGV0XCIsdm9pZCAwKSxDaShbdC5Ib3N0QmluZGluZyhcImNsYXNzLm93bC1kaWFsb2ctY29udGFpbmVyXCIpLFRpKFwiZGVzaWduOnR5cGVcIixCb29sZWFuKSxUaShcImRlc2lnbjpwYXJhbXR5cGVzXCIsW10pXSxyLnByb3RvdHlwZSxcIm93bERpYWxvZ0NvbnRhaW5lckNsYXNzXCIsbnVsbCksQ2koW3QuSG9zdEJpbmRpbmcoXCJhdHRyLnRhYmluZGV4XCIpLFRpKFwiZGVzaWduOnR5cGVcIixOdW1iZXIpLFRpKFwiZGVzaWduOnBhcmFtdHlwZXNcIixbXSldLHIucHJvdG90eXBlLFwib3dsRGlhbG9nQ29udGFpbmVyVGFiSW5kZXhcIixudWxsKSxDaShbdC5Ib3N0QmluZGluZyhcImF0dHIuaWRcIiksVGkoXCJkZXNpZ246dHlwZVwiLFN0cmluZyksVGkoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtdKV0sci5wcm90b3R5cGUsXCJvd2xEaWFsb2dDb250YWluZXJJZFwiLG51bGwpLENpKFt0Lkhvc3RCaW5kaW5nKFwiYXR0ci5yb2xlXCIpLFRpKFwiZGVzaWduOnR5cGVcIixTdHJpbmcpLFRpKFwiZGVzaWduOnBhcmFtdHlwZXNcIixbXSldLHIucHJvdG90eXBlLFwib3dsRGlhbG9nQ29udGFpbmVyUm9sZVwiLG51bGwpLENpKFt0Lkhvc3RCaW5kaW5nKFwiYXR0ci5hcmlhLWxhYmVsbGVkYnlcIiksVGkoXCJkZXNpZ246dHlwZVwiLFN0cmluZyksVGkoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtdKV0sci5wcm90b3R5cGUsXCJvd2xEaWFsb2dDb250YWluZXJBcmlhTGFiZWxsZWRieVwiLG51bGwpLENpKFt0Lkhvc3RCaW5kaW5nKFwiYXR0ci5hcmlhLWRlc2NyaWJlZGJ5XCIpLFRpKFwiZGVzaWduOnR5cGVcIixTdHJpbmcpLFRpKFwiZGVzaWduOnBhcmFtdHlwZXNcIixbXSldLHIucHJvdG90eXBlLFwib3dsRGlhbG9nQ29udGFpbmVyQXJpYURlc2NyaWJlZGJ5XCIsbnVsbCksQ2koW3QuSG9zdEJpbmRpbmcoXCJAc2xpZGVNb2RhbFwiKSxUaShcImRlc2lnbjp0eXBlXCIsT2JqZWN0KSxUaShcImRlc2lnbjpwYXJhbXR5cGVzXCIsW10pXSxyLnByb3RvdHlwZSxcIm93bERpYWxvZ0NvbnRhaW5lckFuaW1hdGlvblwiLG51bGwpLENpKFt0Lkhvc3RMaXN0ZW5lcihcIkBzbGlkZU1vZGFsLnN0YXJ0XCIsW1wiJGV2ZW50XCJdKSxUaShcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLFRpKFwiZGVzaWduOnBhcmFtdHlwZXNcIixbT2JqZWN0XSksVGkoXCJkZXNpZ246cmV0dXJudHlwZVwiLHZvaWQgMCldLHIucHJvdG90eXBlLFwib25BbmltYXRpb25TdGFydFwiLG51bGwpLENpKFt0Lkhvc3RMaXN0ZW5lcihcIkBzbGlkZU1vZGFsLmRvbmVcIixbXCIkZXZlbnRcIl0pLFRpKFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksVGkoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtPYmplY3RdKSxUaShcImRlc2lnbjpyZXR1cm50eXBlXCIsdm9pZCAwKV0sci5wcm90b3R5cGUsXCJvbkFuaW1hdGlvbkRvbmVcIixudWxsKSxyPUNpKFt0LkNvbXBvbmVudCh7c2VsZWN0b3I6XCJvd2wtZGlhbG9nLWNvbnRhaW5lclwiLHRlbXBsYXRlOlwiPG5nLXRlbXBsYXRlIGNka1BvcnRhbE91dGxldD48L25nLXRlbXBsYXRlPlwiLGFuaW1hdGlvbnM6W2kudHJpZ2dlcihcInNsaWRlTW9kYWxcIixbaS50cmFuc2l0aW9uKFwidm9pZCA9PiBlbnRlclwiLFtpLnN0eWxlKElpKSxpLmFuaW1hdGUoXCIzMDBtcyBjdWJpYy1iZXppZXIoMC4zNSwgMCwgMC4yNSwgMSlcIixpLnN0eWxlKFwiKlwiKSksaS5hbmltYXRlKFwiMTUwbXNcIixpLmtleWZyYW1lcyhbaS5zdHlsZSh7dHJhbnNmb3JtOlwic2NhbGUoMSlcIixvZmZzZXQ6MH0pLGkuc3R5bGUoe3RyYW5zZm9ybTpcInNjYWxlKDEuMDUpXCIsb2Zmc2V0Oi4zfSksaS5zdHlsZSh7dHJhbnNmb3JtOlwic2NhbGUoLjk1KVwiLG9mZnNldDouOH0pLGkuc3R5bGUoe3RyYW5zZm9ybTpcInNjYWxlKDEpXCIsb2Zmc2V0OjF9KV0pKSxpLmFuaW1hdGVDaGlsZCgpXSx7cGFyYW1zOnt4OlwiMHB4XCIseTpcIjBweFwiLG94OlwiNTAlXCIsb3k6XCI1MCVcIixzY2FsZToxfX0pLGkudHJhbnNpdGlvbihcImVudGVyID0+IGV4aXRcIixbaS5hbmltYXRlQ2hpbGQoKSxpLmFuaW1hdGUoMjAwLGkuc3R5bGUoRGkpKV0se3BhcmFtczp7eDpcIjBweFwiLHk6XCIwcHhcIixveDpcIjUwJVwiLG95OlwiNTAlXCJ9fSldKV19KSxTaSgzLHQuT3B0aW9uYWwoKSksU2koMyx0LkluamVjdChuLkRPQ1VNRU5UKSksVGkoXCJkZXNpZ246cGFyYW10eXBlc1wiLFt0LkNoYW5nZURldGVjdG9yUmVmLHQuRWxlbWVudFJlZixSdCxPYmplY3RdKV0scil9KHBuKTt2YXIgRWk9ZnVuY3Rpb24oZSx0LG4saSl7dmFyIHIsbz1hcmd1bWVudHMubGVuZ3RoLHM9bzwzP3Q6bnVsbD09PWk/aT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsbik6aTtpZihcIm9iamVjdFwiPT10eXBlb2YgUmVmbGVjdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSlzPVJlZmxlY3QuZGVjb3JhdGUoZSx0LG4saSk7ZWxzZSBmb3IodmFyIGE9ZS5sZW5ndGgtMTthPj0wO2EtLSkocj1lW2FdKSYmKHM9KG88Mz9yKHMpOm8+Mz9yKHQsbixzKTpyKHQsbikpfHxzKTtyZXR1cm4gbz4zJiZzJiZPYmplY3QuZGVmaW5lUHJvcGVydHkodCxuLHMpLHN9LHhpPWZ1bmN0aW9uKGUsdCl7aWYoXCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3QmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFJlZmxlY3QubWV0YWRhdGEpcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEoZSx0KX0sQWk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZnVuY3Rpb24obixpKXt0KG4saSxlKX19LFBpPW5ldyB0LkluamVjdGlvblRva2VuKFwiT3dsRGlhbG9nRGF0YVwiKSxqaT1uZXcgdC5JbmplY3Rpb25Ub2tlbihcIm93bC1kaWFsb2ctc2Nyb2xsLXN0cmF0ZWd5XCIpO3ZhciBSaT17cHJvdmlkZTpqaSxkZXBzOltIbl0sdXNlRmFjdG9yeTpmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZS5zY3JvbGxTdHJhdGVnaWVzLmJsb2NrKCl9fX0sVmk9bmV3IHQuSW5qZWN0aW9uVG9rZW4oXCJvd2wtZGlhbG9nLWRlZmF1bHQtb3B0aW9uc1wiKSxGaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0LG4saSxyLG8scyl7dmFyIGEsYz10aGlzO3RoaXMub3ZlcmxheT1lLHRoaXMuaW5qZWN0b3I9dCx0aGlzLmxvY2F0aW9uPW4sdGhpcy5zY3JvbGxTdHJhdGVneT1pLHRoaXMuZGVmYXVsdE9wdGlvbnM9cix0aGlzLnBhcmVudERpYWxvZz1vLHRoaXMub3ZlcmxheUNvbnRhaW5lcj1zLHRoaXMuYXJpYUhpZGRlbkVsZW1lbnRzPW5ldyBNYXAsdGhpcy5fb3BlbkRpYWxvZ3NBdFRoaXNMZXZlbD1bXSx0aGlzLl9hZnRlck9wZW5BdFRoaXNMZXZlbD1uZXcgUCx0aGlzLl9hZnRlckFsbENsb3NlZEF0VGhpc0xldmVsPW5ldyBQLHRoaXMuYWZ0ZXJBbGxDbG9zZWQ9KGE9ZnVuY3Rpb24oKXtyZXR1cm4gYy5fb3BlbkRpYWxvZ3NBdFRoaXNMZXZlbC5sZW5ndGg/Yy5fYWZ0ZXJBbGxDbG9zZWQ6Yy5fYWZ0ZXJBbGxDbG9zZWQucGlwZShHZSh2b2lkIDApKX0sbmV3IEQoZnVuY3Rpb24oZSl7dmFyIHQ7dHJ5e3Q9YSgpfWNhdGNoKHQpe3JldHVybiB2b2lkIGUuZXJyb3IodCl9cmV0dXJuKHQ/dmUodCk6WSgpKS5zdWJzY3JpYmUoZSl9KSksIW8mJm4mJm4uc3Vic2NyaWJlKGZ1bmN0aW9uKCl7cmV0dXJuIGMuY2xvc2VBbGwoKX0pfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJvcGVuRGlhbG9nc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXJlbnREaWFsb2c/dGhpcy5wYXJlbnREaWFsb2cub3BlbkRpYWxvZ3M6dGhpcy5fb3BlbkRpYWxvZ3NBdFRoaXNMZXZlbH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJhZnRlck9wZW5cIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFyZW50RGlhbG9nP3RoaXMucGFyZW50RGlhbG9nLmFmdGVyT3Blbjp0aGlzLl9hZnRlck9wZW5BdFRoaXNMZXZlbH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJfYWZ0ZXJBbGxDbG9zZWRcIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5wYXJlbnREaWFsb2c7cmV0dXJuIGU/ZS5fYWZ0ZXJBbGxDbG9zZWQ6dGhpcy5fYWZ0ZXJBbGxDbG9zZWRBdFRoaXNMZXZlbH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5vcGVuPWZ1bmN0aW9uKGUsdCl7dmFyIG4saSxyPXRoaXM7aWYobj10LGk9dGhpcy5kZWZhdWx0T3B0aW9ucywodD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10sbj0xO248YXJndW1lbnRzLmxlbmd0aDtuKyspdFtuLTFdPWFyZ3VtZW50c1tuXTtpZihudWxsPT1lKXRocm93IFR5cGVFcnJvcihcIkNhbm5vdCBjb252ZXJ0IHVuZGVmaW5lZCBvciBudWxsIHRvIG9iamVjdFwiKTtmb3IodmFyIGk9MCxyPXQ7aTxyLmxlbmd0aDtpKyspe3ZhciBvPXJbaV07aWYobnVsbCE9bylmb3IodmFyIHMgaW4gbylvLmhhc093blByb3BlcnR5KHMpJiYoZVtzXT1vW3NdKX1yZXR1cm4gZX0obmV3IHdpLG4saSkpLmlkJiZ0aGlzLmdldERpYWxvZ0J5SWQodC5pZCkpdGhyb3cgRXJyb3IoJ0RpYWxvZyB3aXRoIGlkIFwiJyt0LmlkKydcIiBleGlzdHMgYWxyZWFkeS4gVGhlIGRpYWxvZyBpZCBtdXN0IGJlIHVuaXF1ZS4nKTt2YXIgbz10aGlzLmNyZWF0ZU92ZXJsYXkodCkscz10aGlzLmF0dGFjaERpYWxvZ0NvbnRhaW5lcihvLHQpLGE9dGhpcy5hdHRhY2hEaWFsb2dDb250ZW50KGUscyxvLHQpO3JldHVybiB0aGlzLm9wZW5EaWFsb2dzLmxlbmd0aHx8dGhpcy5oaWRlTm9uRGlhbG9nQ29udGVudEZyb21Bc3Npc3RpdmVUZWNobm9sb2d5KCksdGhpcy5vcGVuRGlhbG9ncy5wdXNoKGEpLGEuYWZ0ZXJDbG9zZWQoKS5zdWJzY3JpYmUoZnVuY3Rpb24oKXtyZXR1cm4gci5yZW1vdmVPcGVuRGlhbG9nKGEpfSksdGhpcy5hZnRlck9wZW4ubmV4dChhKSxhfSxlLnByb3RvdHlwZS5jbG9zZUFsbD1mdW5jdGlvbigpe2Zvcih2YXIgZT10aGlzLm9wZW5EaWFsb2dzLmxlbmd0aDtlLS07KXRoaXMub3BlbkRpYWxvZ3NbZV0uY2xvc2UoKX0sZS5wcm90b3R5cGUuZ2V0RGlhbG9nQnlJZD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5vcGVuRGlhbG9ncy5maW5kKGZ1bmN0aW9uKHQpe3JldHVybiB0LmlkPT09ZX0pfSxlLnByb3RvdHlwZS5hdHRhY2hEaWFsb2dDb250ZW50PWZ1bmN0aW9uKGUsbixpLHIpe3ZhciBvPW5ldyBPaShpLG4sci5pZCx0aGlzLmxvY2F0aW9uKTtpZihyLmhhc0JhY2tkcm9wJiZpLmJhY2tkcm9wQ2xpY2soKS5zdWJzY3JpYmUoZnVuY3Rpb24oKXtvLmRpc2FibGVDbG9zZXx8by5jbG9zZSgpfSksZSBpbnN0YW5jZW9mIHQuVGVtcGxhdGVSZWYpO2Vsc2V7dmFyIHM9dGhpcy5jcmVhdGVJbmplY3RvcihyLG8sbiksYT1uLmF0dGFjaENvbXBvbmVudFBvcnRhbChuZXcgbG4oZSx2b2lkIDAscykpO28uY29tcG9uZW50SW5zdGFuY2U9YS5pbnN0YW5jZX1yZXR1cm4gby51cGRhdGVTaXplKHIud2lkdGgsci5oZWlnaHQpLnVwZGF0ZVBvc2l0aW9uKHIucG9zaXRpb24pLG99LGUucHJvdG90eXBlLmNyZWF0ZUluamVjdG9yPWZ1bmN0aW9uKGUsdCxuKXt2YXIgaT1lJiZlLnZpZXdDb250YWluZXJSZWYmJmUudmlld0NvbnRhaW5lclJlZi5pbmplY3RvcixyPW5ldyBXZWFrTWFwO3JldHVybiByLnNldChPaSx0KSxyLnNldChNaSxuKSxyLnNldChQaSxlLmRhdGEpLG5ldyB5bihpfHx0aGlzLmluamVjdG9yLHIpfSxlLnByb3RvdHlwZS5jcmVhdGVPdmVybGF5PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZ2V0T3ZlcmxheUNvbmZpZyhlKTtyZXR1cm4gdGhpcy5vdmVybGF5LmNyZWF0ZSh0KX0sZS5wcm90b3R5cGUuYXR0YWNoRGlhbG9nQ29udGFpbmVyPWZ1bmN0aW9uKGUsdCl7dmFyIG49bmV3IGxuKE1pLHQudmlld0NvbnRhaW5lclJlZiksaT1lLmF0dGFjaChuKTtyZXR1cm4gaS5pbnN0YW5jZS5zZXRDb25maWcodCksaS5pbnN0YW5jZX0sZS5wcm90b3R5cGUuZ2V0T3ZlcmxheUNvbmZpZz1mdW5jdGlvbihlKXt2YXIgdD1uZXcgVG4oe3Bvc2l0aW9uU3RyYXRlZ3k6dGhpcy5vdmVybGF5LnBvc2l0aW9uKCkuZ2xvYmFsKCksc2Nyb2xsU3RyYXRlZ3k6ZS5zY3JvbGxTdHJhdGVneXx8dGhpcy5zY3JvbGxTdHJhdGVneSgpLHBhbmVsQ2xhc3M6ZS5wYW5lQ2xhc3MsaGFzQmFja2Ryb3A6ZS5oYXNCYWNrZHJvcCxtaW5XaWR0aDplLm1pbldpZHRoLG1pbkhlaWdodDplLm1pbkhlaWdodCxtYXhXaWR0aDplLm1heFdpZHRoLG1heEhlaWdodDplLm1heEhlaWdodH0pO3JldHVybiBlLmJhY2tkcm9wQ2xhc3MmJih0LmJhY2tkcm9wQ2xhc3M9ZS5iYWNrZHJvcENsYXNzKSx0fSxlLnByb3RvdHlwZS5yZW1vdmVPcGVuRGlhbG9nPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX29wZW5EaWFsb2dzQXRUaGlzTGV2ZWwuaW5kZXhPZihlKTt0Pi0xJiYodGhpcy5vcGVuRGlhbG9ncy5zcGxpY2UodCwxKSx0aGlzLm9wZW5EaWFsb2dzLmxlbmd0aHx8KHRoaXMuYXJpYUhpZGRlbkVsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24oZSx0KXtlP3Quc2V0QXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIixlKTp0LnJlbW92ZUF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIpfSksdGhpcy5hcmlhSGlkZGVuRWxlbWVudHMuY2xlYXIoKSx0aGlzLl9hZnRlckFsbENsb3NlZC5uZXh0KCkpKX0sZS5wcm90b3R5cGUuaGlkZU5vbkRpYWxvZ0NvbnRlbnRGcm9tQXNzaXN0aXZlVGVjaG5vbG9neT1mdW5jdGlvbigpe3ZhciBlPXRoaXMub3ZlcmxheUNvbnRhaW5lci5nZXRDb250YWluZXJFbGVtZW50KCk7aWYoZS5wYXJlbnRFbGVtZW50KWZvcih2YXIgdD1lLnBhcmVudEVsZW1lbnQuY2hpbGRyZW4sbj10Lmxlbmd0aC0xO24+LTE7bi0tKXt2YXIgaT10W25dO2k9PT1lfHxcIlNDUklQVFwiPT09aS5ub2RlTmFtZXx8XCJTVFlMRVwiPT09aS5ub2RlTmFtZXx8aS5oYXNBdHRyaWJ1dGUoXCJhcmlhLWxpdmVcIil8fCh0aGlzLmFyaWFIaWRkZW5FbGVtZW50cy5zZXQoaSxpLmdldEF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIpKSxpLnNldEF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIsXCJ0cnVlXCIpKX19LGU9RWkoW3QuSW5qZWN0YWJsZSgpLEFpKDIsdC5PcHRpb25hbCgpKSxBaSgzLHQuSW5qZWN0KGppKSksQWkoNCx0Lk9wdGlvbmFsKCkpLEFpKDQsdC5JbmplY3QoVmkpKSxBaSg1LHQuT3B0aW9uYWwoKSksQWkoNSx0LlNraXBTZWxmKCkpLHhpKFwiZGVzaWduOnBhcmFtdHlwZXNcIixbSG4sdC5JbmplY3RvcixuLkxvY2F0aW9uLEZ1bmN0aW9uLHdpLGUsQW5dKV0sZSl9KCk7dmFyIExpLEJpPWZ1bmN0aW9uKGUsdCxuLGkpe3ZhciByLG89YXJndW1lbnRzLmxlbmd0aCxzPW88Mz90Om51bGw9PT1pP2k9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LG4pOmk7aWYoXCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3QmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUpcz1SZWZsZWN0LmRlY29yYXRlKGUsdCxuLGkpO2Vsc2UgZm9yKHZhciBhPWUubGVuZ3RoLTE7YT49MDthLS0pKHI9ZVthXSkmJihzPShvPDM/cihzKTpvPjM/cih0LG4scyk6cih0LG4pKXx8cyk7cmV0dXJuIG8+MyYmcyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsbixzKSxzfSxOaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGU9QmkoW3QuTmdNb2R1bGUoe2ltcG9ydHM6W24uQ29tbW9uTW9kdWxlLEh0LEtuLG1uXSxleHBvcnRzOltdLGRlY2xhcmF0aW9uczpbTWldLHByb3ZpZGVyczpbUmksRmldLGVudHJ5Q29tcG9uZW50czpbTWldfSldLGUpfSgpLFlpPShMaT1mdW5jdGlvbihlLHQpe3JldHVybihMaT1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24oZSx0KXtlLl9fcHJvdG9fXz10fXx8ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4gaW4gdCl0Lmhhc093blByb3BlcnR5KG4pJiYoZVtuXT10W25dKX0pKGUsdCl9LGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9ZX1MaShlLHQpLGUucHJvdG90eXBlPW51bGw9PT10P09iamVjdC5jcmVhdGUodCk6KG4ucHJvdG90eXBlPXQucHJvdG90eXBlLG5ldyBuKX0pLEhpPWZ1bmN0aW9uKGUsdCxuLGkpe3ZhciByLG89YXJndW1lbnRzLmxlbmd0aCxzPW88Mz90Om51bGw9PT1pP2k9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LG4pOmk7aWYoXCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3QmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUpcz1SZWZsZWN0LmRlY29yYXRlKGUsdCxuLGkpO2Vsc2UgZm9yKHZhciBhPWUubGVuZ3RoLTE7YT49MDthLS0pKHI9ZVthXSkmJihzPShvPDM/cihzKTpvPjM/cih0LG4scyk6cih0LG4pKXx8cyk7cmV0dXJuIG8+MyYmcyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsbixzKSxzfSx6aT1mdW5jdGlvbihlLHQpe2lmKFwib2JqZWN0XCI9PXR5cGVvZiBSZWZsZWN0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhKXJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKGUsdCl9LFdpPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKG4saSl7dChuLGksZSl9fSxaaT1uZXcgdC5JbmplY3Rpb25Ub2tlbihcIm93bC1kdHBpY2tlci1zY3JvbGwtc3RyYXRlZ3lcIik7dmFyIFhpLCRpLEtpPXtwcm92aWRlOlppLGRlcHM6W0huXSx1c2VGYWN0b3J5OmZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBlLnNjcm9sbFN0cmF0ZWdpZXMuYmxvY2soKX19fSxVaT1mdW5jdGlvbihlKXtmdW5jdGlvbiBpKG4saSxyLG8scyxhLGMsbCx1KXt2YXIgcD1lLmNhbGwodGhpcyxhLGwpfHx0aGlzO3JldHVybiBwLm92ZXJsYXk9bixwLnZpZXdDb250YWluZXJSZWY9aSxwLmRpYWxvZ1NlcnZpY2U9cixwLm5nWm9uZT1vLHAuY2hhbmdlRGV0ZWN0b3I9cyxwLmRhdGVUaW1lQWRhcHRlcj1hLHAuZGVmYXVsdFNjcm9sbFN0cmF0ZWd5PWMscC5kYXRlVGltZUZvcm1hdHM9bCxwLmRvY3VtZW50PXUscC5iYWNrZHJvcENsYXNzPVtdLHAucGFuZWxDbGFzcz1bXSxwLl9waWNrZXJUeXBlPVwiYm90aFwiLHAuX3BpY2tlck1vZGU9XCJwb3B1cFwiLHAuX29wZW5lZD0hMSxwLmFmdGVyUGlja2VyQ2xvc2VkPW5ldyB0LkV2ZW50RW1pdHRlcixwLmFmdGVyUGlja2VyT3Blbj1uZXcgdC5FdmVudEVtaXR0ZXIscC55ZWFyU2VsZWN0ZWQ9bmV3IHQuRXZlbnRFbWl0dGVyLHAubW9udGhTZWxlY3RlZD1uZXcgdC5FdmVudEVtaXR0ZXIscC5jb25maXJtU2VsZWN0ZWRDaGFuZ2U9bmV3IHQuRXZlbnRFbWl0dGVyLHAuZGlzYWJsZWRDaGFuZ2U9bmV3IHQuRXZlbnRFbWl0dGVyLHAuZHRJbnB1dFN1Yj1fLkVNUFRZLHAuaGlkZVBpY2tlclN0cmVhbVN1Yj1fLkVNUFRZLHAuY29uZmlybVNlbGVjdGVkU3RyZWFtU3ViPV8uRU1QVFkscC5waWNrZXJPcGVuZWRTdHJlYW1TdWI9Xy5FTVBUWSxwLmZvY3VzZWRFbGVtZW50QmVmb3JlT3Blbj1udWxsLHAuX3NlbGVjdGVkcz1bXSxwfXJldHVybiBZaShpLGUpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSxcInN0YXJ0QXRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0YXJ0QXQ/dGhpcy5fc3RhcnRBdDp0aGlzLl9kdElucHV0P1wic2luZ2xlXCI9PT10aGlzLl9kdElucHV0LnNlbGVjdE1vZGU/dGhpcy5fZHRJbnB1dC52YWx1ZXx8bnVsbDpcInJhbmdlXCI9PT10aGlzLl9kdElucHV0LnNlbGVjdE1vZGV8fFwicmFuZ2VGcm9tXCI9PT10aGlzLl9kdElucHV0LnNlbGVjdE1vZGU/dGhpcy5fZHRJbnB1dC52YWx1ZXNbMF18fG51bGw6XCJyYW5nZVRvXCI9PT10aGlzLl9kdElucHV0LnNlbGVjdE1vZGU/dGhpcy5fZHRJbnB1dC52YWx1ZXNbMV18fG51bGw6dm9pZCAwOm51bGx9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9zdGFydEF0PXRoaXMuZ2V0VmFsaWREYXRlKHRoaXMuZGF0ZVRpbWVBZGFwdGVyLmRlc2VyaWFsaXplKGUpKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsXCJwaWNrZXJUeXBlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9waWNrZXJUeXBlfSxzZXQ6ZnVuY3Rpb24oZSl7ZSE9PXRoaXMuX3BpY2tlclR5cGUmJih0aGlzLl9waWNrZXJUeXBlPWUsdGhpcy5fZHRJbnB1dCYmdGhpcy5fZHRJbnB1dC5mb3JtYXROYXRpdmVJbnB1dFZhbHVlKCkpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSxcInBpY2tlck1vZGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BpY2tlck1vZGV9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9waWNrZXJNb2RlPVwicG9wdXBcIj09PWU/ZTpcImRpYWxvZ1wifSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSxcImRpc2FibGVkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB2b2lkIDA9PT10aGlzLl9kaXNhYmxlZCYmdGhpcy5fZHRJbnB1dD90aGlzLl9kdElucHV0LmRpc2FibGVkOiEhdGhpcy5fZGlzYWJsZWR9LHNldDpmdW5jdGlvbihlKXsoZT1kdChlKSkhPT10aGlzLl9kaXNhYmxlZCYmKHRoaXMuX2Rpc2FibGVkPWUsdGhpcy5kaXNhYmxlZENoYW5nZS5uZXh0KGUpKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsXCJvcGVuZWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29wZW5lZH0sc2V0OmZ1bmN0aW9uKGUpe2U/dGhpcy5vcGVuKCk6dGhpcy5jbG9zZSgpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSxcImR0SW5wdXRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2R0SW5wdXR9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLFwic2VsZWN0ZWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NlbGVjdGVkfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fc2VsZWN0ZWQ9ZSx0aGlzLmNoYW5nZURldGVjdG9yLm1hcmtGb3JDaGVjaygpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSxcInNlbGVjdGVkc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2VsZWN0ZWRzfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fc2VsZWN0ZWRzPWUsdGhpcy5jaGFuZ2VEZXRlY3Rvci5tYXJrRm9yQ2hlY2soKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsXCJtaW5EYXRlVGltZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZHRJbnB1dCYmdGhpcy5fZHRJbnB1dC5taW59LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLFwibWF4RGF0ZVRpbWVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2R0SW5wdXQmJnRoaXMuX2R0SW5wdXQubWF4fSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSxcImRhdGVUaW1lRmlsdGVyXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kdElucHV0JiZ0aGlzLl9kdElucHV0LmRhdGVUaW1lRmlsdGVyfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSxcInNlbGVjdE1vZGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2R0SW5wdXQuc2VsZWN0TW9kZX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsXCJpc0luU2luZ2xlTW9kZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZHRJbnB1dC5pc0luU2luZ2xlTW9kZX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsXCJpc0luUmFuZ2VNb2RlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kdElucHV0LmlzSW5SYW5nZU1vZGV9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksaS5wcm90b3R5cGUubmdPbkluaXQ9ZnVuY3Rpb24oKXt9LGkucHJvdG90eXBlLm5nT25EZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5jbG9zZSgpLHRoaXMuZHRJbnB1dFN1Yi51bnN1YnNjcmliZSgpLHRoaXMuZGlzYWJsZWRDaGFuZ2UuY29tcGxldGUoKSx0aGlzLnBvcHVwUmVmJiZ0aGlzLnBvcHVwUmVmLmRpc3Bvc2UoKX0saS5wcm90b3R5cGUucmVnaXN0ZXJJbnB1dD1mdW5jdGlvbihlKXt2YXIgdD10aGlzO2lmKHRoaXMuX2R0SW5wdXQpdGhyb3cgRXJyb3IoXCJBIE93bCBEYXRlVGltZVBpY2tlciBjYW4gb25seSBiZSBhc3NvY2lhdGVkIHdpdGggYSBzaW5nbGUgaW5wdXQuXCIpO3RoaXMuX2R0SW5wdXQ9ZSx0aGlzLmR0SW5wdXRTdWI9dGhpcy5fZHRJbnB1dC52YWx1ZUNoYW5nZS5zdWJzY3JpYmUoZnVuY3Rpb24oZSl7QXJyYXkuaXNBcnJheShlKT90LnNlbGVjdGVkcz1lOnQuc2VsZWN0ZWQ9ZX0pfSxpLnByb3RvdHlwZS5vcGVuPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztpZighdGhpcy5fb3BlbmVkJiYhdGhpcy5kaXNhYmxlZCl7aWYoIXRoaXMuX2R0SW5wdXQpdGhyb3cgRXJyb3IoXCJBdHRlbXB0ZWQgdG8gb3BlbiBhbiBEYXRlVGltZVBpY2tlciB3aXRoIG5vIGFzc29jaWF0ZWQgaW5wdXQuXCIpO3RoaXMuZG9jdW1lbnQmJih0aGlzLmZvY3VzZWRFbGVtZW50QmVmb3JlT3Blbj10aGlzLmRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpLHRoaXMuaXNJblNpbmdsZU1vZGU/dGhpcy5zZWxlY3RlZD10aGlzLl9kdElucHV0LnZhbHVlOnRoaXMuaXNJblJhbmdlTW9kZSYmKHRoaXMuc2VsZWN0ZWRzPXRoaXMuX2R0SW5wdXQudmFsdWVzKSx0aGlzLnNlbGVjdGVkJiZcImNhbGVuZGFyXCIhPT10aGlzLnBpY2tlclR5cGUmJnRoaXMuX3N0YXJ0QXQmJih0aGlzLnNlbGVjdGVkPXRoaXMuZGF0ZVRpbWVBZGFwdGVyLmNyZWF0ZURhdGUodGhpcy5kYXRlVGltZUFkYXB0ZXIuZ2V0WWVhcih0aGlzLnNlbGVjdGVkKSx0aGlzLmRhdGVUaW1lQWRhcHRlci5nZXRNb250aCh0aGlzLnNlbGVjdGVkKSx0aGlzLmRhdGVUaW1lQWRhcHRlci5nZXREYXRlKHRoaXMuc2VsZWN0ZWQpLHRoaXMuZGF0ZVRpbWVBZGFwdGVyLmdldEhvdXJzKHRoaXMuX3N0YXJ0QXQpLHRoaXMuZGF0ZVRpbWVBZGFwdGVyLmdldE1pbnV0ZXModGhpcy5fc3RhcnRBdCksdGhpcy5kYXRlVGltZUFkYXB0ZXIuZ2V0U2Vjb25kcyh0aGlzLl9zdGFydEF0KSkpLFwiZGlhbG9nXCI9PT10aGlzLnBpY2tlck1vZGU/dGhpcy5vcGVuQXNEaWFsb2coKTp0aGlzLm9wZW5Bc1BvcHVwKCksdGhpcy5waWNrZXJDb250YWluZXIucGlja2VyPXRoaXMsdGhpcy5oaWRlUGlja2VyU3RyZWFtU3ViPXRoaXMucGlja2VyQ29udGFpbmVyLmhpZGVQaWNrZXJTdHJlYW0uc3Vic2NyaWJlKGZ1bmN0aW9uKCl7ZS5jbG9zZSgpfSksdGhpcy5jb25maXJtU2VsZWN0ZWRTdHJlYW1TdWI9dGhpcy5waWNrZXJDb250YWluZXIuY29uZmlybVNlbGVjdGVkU3RyZWFtLnN1YnNjcmliZShmdW5jdGlvbih0KXtlLmNvbmZpcm1TZWxlY3QodCl9KX19LGkucHJvdG90eXBlLnNlbGVjdD1mdW5jdGlvbihlKXtBcnJheS5pc0FycmF5KGUpP3RoaXMuc2VsZWN0ZWRzPWUuc2xpY2UoKTp0aGlzLnNlbGVjdGVkPWUsXCJkaWFsb2dcIiE9PXRoaXMucGlja2VyTW9kZSYmXCJjYWxlbmRhclwiPT09dGhpcy5waWNrZXJUeXBlJiYoXCJzaW5nbGVcIj09PXRoaXMuc2VsZWN0TW9kZSYmdGhpcy5zZWxlY3RlZHx8XCJyYW5nZUZyb21cIj09PXRoaXMuc2VsZWN0TW9kZSYmdGhpcy5zZWxlY3RlZHNbMF18fFwicmFuZ2VUb1wiPT09dGhpcy5zZWxlY3RNb2RlJiZ0aGlzLnNlbGVjdGVkc1sxXXx8XCJyYW5nZVwiPT09dGhpcy5zZWxlY3RNb2RlJiZ0aGlzLnNlbGVjdGVkc1swXSYmdGhpcy5zZWxlY3RlZHNbMV0pJiZ0aGlzLmNvbmZpcm1TZWxlY3QoKX0saS5wcm90b3R5cGUuc2VsZWN0WWVhcj1mdW5jdGlvbihlKXt0aGlzLnllYXJTZWxlY3RlZC5lbWl0KGUpfSxpLnByb3RvdHlwZS5zZWxlY3RNb250aD1mdW5jdGlvbihlKXt0aGlzLm1vbnRoU2VsZWN0ZWQuZW1pdChlKX0saS5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2lmKHRoaXMuX29wZW5lZCl7dGhpcy5wb3B1cFJlZiYmdGhpcy5wb3B1cFJlZi5oYXNBdHRhY2hlZCgpJiZ0aGlzLnBvcHVwUmVmLmRldGFjaCgpLHRoaXMucGlja2VyQ29udGFpbmVyUG9ydGFsJiZ0aGlzLnBpY2tlckNvbnRhaW5lclBvcnRhbC5pc0F0dGFjaGVkJiZ0aGlzLnBpY2tlckNvbnRhaW5lclBvcnRhbC5kZXRhY2goKSx0aGlzLmhpZGVQaWNrZXJTdHJlYW1TdWImJih0aGlzLmhpZGVQaWNrZXJTdHJlYW1TdWIudW5zdWJzY3JpYmUoKSx0aGlzLmhpZGVQaWNrZXJTdHJlYW1TdWI9bnVsbCksdGhpcy5jb25maXJtU2VsZWN0ZWRTdHJlYW1TdWImJih0aGlzLmNvbmZpcm1TZWxlY3RlZFN0cmVhbVN1Yi51bnN1YnNjcmliZSgpLHRoaXMuY29uZmlybVNlbGVjdGVkU3RyZWFtU3ViPW51bGwpLHRoaXMucGlja2VyT3BlbmVkU3RyZWFtU3ViJiYodGhpcy5waWNrZXJPcGVuZWRTdHJlYW1TdWIudW5zdWJzY3JpYmUoKSx0aGlzLnBpY2tlck9wZW5lZFN0cmVhbVN1Yj1udWxsKSx0aGlzLmRpYWxvZ1JlZiYmKHRoaXMuZGlhbG9nUmVmLmNsb3NlKCksdGhpcy5kaWFsb2dSZWY9bnVsbCk7dmFyIHQ9ZnVuY3Rpb24oKXtlLl9vcGVuZWQmJihlLl9vcGVuZWQ9ITEsZS5hZnRlclBpY2tlckNsb3NlZC5lbWl0KG51bGwpLGUuZm9jdXNlZEVsZW1lbnRCZWZvcmVPcGVuPW51bGwpfTt0aGlzLmZvY3VzZWRFbGVtZW50QmVmb3JlT3BlbiYmXCJmdW5jdGlvblwiPT10eXBlb2YgdGhpcy5mb2N1c2VkRWxlbWVudEJlZm9yZU9wZW4uZm9jdXM/KHRoaXMuZm9jdXNlZEVsZW1lbnRCZWZvcmVPcGVuLmZvY3VzKCksc2V0VGltZW91dCh0KSk6dCgpfX0saS5wcm90b3R5cGUuY29uZmlybVNlbGVjdD1mdW5jdGlvbihlKXtpZih0aGlzLmlzSW5TaW5nbGVNb2RlKXt2YXIgdD10aGlzLnNlbGVjdGVkfHx0aGlzLnN0YXJ0QXR8fHRoaXMuZGF0ZVRpbWVBZGFwdGVyLm5vdygpO3RoaXMuY29uZmlybVNlbGVjdGVkQ2hhbmdlLmVtaXQodCl9ZWxzZSB0aGlzLmlzSW5SYW5nZU1vZGUmJnRoaXMuY29uZmlybVNlbGVjdGVkQ2hhbmdlLmVtaXQodGhpcy5zZWxlY3RlZHMpO3RoaXMuY2xvc2UoKX0saS5wcm90b3R5cGUub3BlbkFzRGlhbG9nPWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLmRpYWxvZ1JlZj10aGlzLmRpYWxvZ1NlcnZpY2Uub3BlbihmaSx7YXV0b0ZvY3VzOiExLGJhY2tkcm9wQ2xhc3M6W1wiY2RrLW92ZXJsYXktZGFyay1iYWNrZHJvcFwiXS5jb25jYXQobXQodGhpcy5iYWNrZHJvcENsYXNzKSkscGFuZUNsYXNzOltcIm93bC1kdC1kaWFsb2dcIl0uY29uY2F0KG10KHRoaXMucGFuZWxDbGFzcykpLHZpZXdDb250YWluZXJSZWY6dGhpcy52aWV3Q29udGFpbmVyUmVmLHNjcm9sbFN0cmF0ZWd5OnRoaXMuc2Nyb2xsU3RyYXRlZ3l8fHRoaXMuZGVmYXVsdFNjcm9sbFN0cmF0ZWd5KCl9KSx0aGlzLnBpY2tlckNvbnRhaW5lcj10aGlzLmRpYWxvZ1JlZi5jb21wb25lbnRJbnN0YW5jZSx0aGlzLmRpYWxvZ1JlZi5hZnRlck9wZW4oKS5zdWJzY3JpYmUoZnVuY3Rpb24oKXtlLmFmdGVyUGlja2VyT3Blbi5lbWl0KG51bGwpLGUuX29wZW5lZD0hMH0pLHRoaXMuZGlhbG9nUmVmLmFmdGVyQ2xvc2VkKCkuc3Vic2NyaWJlKGZ1bmN0aW9uKCl7cmV0dXJuIGUuY2xvc2UoKX0pfSxpLnByb3RvdHlwZS5vcGVuQXNQb3B1cD1mdW5jdGlvbigpe3ZhciBlPXRoaXM7aWYodGhpcy5waWNrZXJDb250YWluZXJQb3J0YWx8fCh0aGlzLnBpY2tlckNvbnRhaW5lclBvcnRhbD1uZXcgbG4oZmksdGhpcy52aWV3Q29udGFpbmVyUmVmKSksdGhpcy5wb3B1cFJlZnx8dGhpcy5jcmVhdGVQb3B1cCgpLCF0aGlzLnBvcHVwUmVmLmhhc0F0dGFjaGVkKCkpe3ZhciB0PXRoaXMucG9wdXBSZWYuYXR0YWNoKHRoaXMucGlja2VyQ29udGFpbmVyUG9ydGFsKTt0aGlzLnBpY2tlckNvbnRhaW5lcj10Lmluc3RhbmNlLHRoaXMubmdab25lLm9uU3RhYmxlLmFzT2JzZXJ2YWJsZSgpLnBpcGUoV2UoMSkpLnN1YnNjcmliZShmdW5jdGlvbigpe2UucG9wdXBSZWYudXBkYXRlUG9zaXRpb24oKX0pLHRoaXMucGlja2VyT3BlbmVkU3RyZWFtU3ViPXRoaXMucGlja2VyQ29udGFpbmVyLnBpY2tlck9wZW5lZFN0cmVhbS5waXBlKFdlKDEpKS5zdWJzY3JpYmUoZnVuY3Rpb24oKXtlLmFmdGVyUGlja2VyT3Blbi5lbWl0KG51bGwpLGUuX29wZW5lZD0hMH0pfX0saS5wcm90b3R5cGUuY3JlYXRlUG9wdXA9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9bmV3IFRuKHtwb3NpdGlvblN0cmF0ZWd5OnRoaXMuY3JlYXRlUG9wdXBQb3NpdGlvblN0cmF0ZWd5KCksaGFzQmFja2Ryb3A6ITAsYmFja2Ryb3BDbGFzczpbXCJjZGstb3ZlcmxheS10cmFuc3BhcmVudC1iYWNrZHJvcFwiXS5jb25jYXQobXQodGhpcy5iYWNrZHJvcENsYXNzKSksc2Nyb2xsU3RyYXRlZ3k6dGhpcy5zY3JvbGxTdHJhdGVneXx8dGhpcy5kZWZhdWx0U2Nyb2xsU3RyYXRlZ3koKSxwYW5lbENsYXNzOltcIm93bC1kdC1wb3B1cFwiXS5jb25jYXQobXQodGhpcy5wYW5lbENsYXNzKSl9KTt0aGlzLnBvcHVwUmVmPXRoaXMub3ZlcmxheS5jcmVhdGUodCksU2UodGhpcy5wb3B1cFJlZi5iYWNrZHJvcENsaWNrKCksdGhpcy5wb3B1cFJlZi5kZXRhY2htZW50cygpLHRoaXMucG9wdXBSZWYua2V5ZG93bkV2ZW50cygpLnBpcGUoQmUoZnVuY3Rpb24odCl7cmV0dXJuIHQua2V5Q29kZT09PUllfHxlLl9kdElucHV0JiZ0LmFsdEtleSYmMzg9PT10LmtleUNvZGV9KSkpLnN1YnNjcmliZShmdW5jdGlvbigpe3JldHVybiBlLmNsb3NlKCl9KX0saS5wcm90b3R5cGUuY3JlYXRlUG9wdXBQb3NpdGlvblN0cmF0ZWd5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3ZlcmxheS5wb3NpdGlvbigpLmZsZXhpYmxlQ29ubmVjdGVkVG8odGhpcy5fZHRJbnB1dC5lbGVtZW50UmVmKS53aXRoVHJhbnNmb3JtT3JpZ2luT24oXCIub3dsLWR0LWNvbnRhaW5lclwiKS53aXRoRmxleGlibGVEaW1lbnNpb25zKCExKS53aXRoUHVzaCghMSkud2l0aFBvc2l0aW9ucyhbe29yaWdpblg6XCJzdGFydFwiLG9yaWdpblk6XCJib3R0b21cIixvdmVybGF5WDpcInN0YXJ0XCIsb3ZlcmxheVk6XCJ0b3BcIn0se29yaWdpblg6XCJzdGFydFwiLG9yaWdpblk6XCJ0b3BcIixvdmVybGF5WDpcInN0YXJ0XCIsb3ZlcmxheVk6XCJib3R0b21cIn0se29yaWdpblg6XCJlbmRcIixvcmlnaW5ZOlwiYm90dG9tXCIsb3ZlcmxheVg6XCJlbmRcIixvdmVybGF5WTpcInRvcFwifSx7b3JpZ2luWDpcImVuZFwiLG9yaWdpblk6XCJ0b3BcIixvdmVybGF5WDpcImVuZFwiLG92ZXJsYXlZOlwiYm90dG9tXCJ9LHtvcmlnaW5YOlwic3RhcnRcIixvcmlnaW5ZOlwidG9wXCIsb3ZlcmxheVg6XCJzdGFydFwiLG92ZXJsYXlZOlwidG9wXCIsb2Zmc2V0WTotMTc2fSx7b3JpZ2luWDpcInN0YXJ0XCIsb3JpZ2luWTpcInRvcFwiLG92ZXJsYXlYOlwic3RhcnRcIixvdmVybGF5WTpcInRvcFwiLG9mZnNldFk6LTM1Mn1dKX0sSGkoW3QuSW5wdXQoKSx6aShcImRlc2lnbjp0eXBlXCIsT2JqZWN0KV0saS5wcm90b3R5cGUsXCJiYWNrZHJvcENsYXNzXCIsdm9pZCAwKSxIaShbdC5JbnB1dCgpLHppKFwiZGVzaWduOnR5cGVcIixPYmplY3QpXSxpLnByb3RvdHlwZSxcInBhbmVsQ2xhc3NcIix2b2lkIDApLEhpKFt0LklucHV0KCksemkoXCJkZXNpZ246dHlwZVwiLE9iamVjdCksemkoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtPYmplY3RdKV0saS5wcm90b3R5cGUsXCJzdGFydEF0XCIsbnVsbCksSGkoW3QuSW5wdXQoKSx6aShcImRlc2lnbjp0eXBlXCIsU3RyaW5nKSx6aShcImRlc2lnbjpwYXJhbXR5cGVzXCIsW1N0cmluZ10pXSxpLnByb3RvdHlwZSxcInBpY2tlclR5cGVcIixudWxsKSxIaShbdC5JbnB1dCgpLHppKFwiZGVzaWduOnR5cGVcIixTdHJpbmcpLHppKFwiZGVzaWduOnBhcmFtdHlwZXNcIixbU3RyaW5nXSldLGkucHJvdG90eXBlLFwicGlja2VyTW9kZVwiLG51bGwpLEhpKFt0LklucHV0KCksemkoXCJkZXNpZ246dHlwZVwiLEJvb2xlYW4pLHppKFwiZGVzaWduOnBhcmFtdHlwZXNcIixbQm9vbGVhbl0pXSxpLnByb3RvdHlwZSxcImRpc2FibGVkXCIsbnVsbCksSGkoW3QuSW5wdXQoKSx6aShcImRlc2lnbjp0eXBlXCIsQm9vbGVhbiksemkoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtCb29sZWFuXSldLGkucHJvdG90eXBlLFwib3BlbmVkXCIsbnVsbCksSGkoW3QuSW5wdXQoKSx6aShcImRlc2lnbjp0eXBlXCIsT2JqZWN0KV0saS5wcm90b3R5cGUsXCJzY3JvbGxTdHJhdGVneVwiLHZvaWQgMCksSGkoW3QuT3V0cHV0KCksemkoXCJkZXNpZ246dHlwZVwiLE9iamVjdCldLGkucHJvdG90eXBlLFwiYWZ0ZXJQaWNrZXJDbG9zZWRcIix2b2lkIDApLEhpKFt0Lk91dHB1dCgpLHppKFwiZGVzaWduOnR5cGVcIixPYmplY3QpXSxpLnByb3RvdHlwZSxcImFmdGVyUGlja2VyT3BlblwiLHZvaWQgMCksSGkoW3QuT3V0cHV0KCksemkoXCJkZXNpZ246dHlwZVwiLE9iamVjdCldLGkucHJvdG90eXBlLFwieWVhclNlbGVjdGVkXCIsdm9pZCAwKSxIaShbdC5PdXRwdXQoKSx6aShcImRlc2lnbjp0eXBlXCIsT2JqZWN0KV0saS5wcm90b3R5cGUsXCJtb250aFNlbGVjdGVkXCIsdm9pZCAwKSxpPUhpKFt0LkNvbXBvbmVudCh7c2VsZWN0b3I6XCJvd2wtZGF0ZS10aW1lXCIsZXhwb3J0QXM6XCJvd2xEYXRlVGltZVwiLHRlbXBsYXRlOlwiXCIsc3R5bGVzOltcIlwiXSxjaGFuZ2VEZXRlY3Rpb246dC5DaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2gscHJlc2VydmVXaGl0ZXNwYWNlczohMX0pLFdpKDUsdC5PcHRpb25hbCgpKSxXaSg2LHQuSW5qZWN0KFppKSksV2koNyx0Lk9wdGlvbmFsKCkpLFdpKDcsdC5JbmplY3QodGkpKSxXaSg4LHQuT3B0aW9uYWwoKSksV2koOCx0LkluamVjdChuLkRPQ1VNRU5UKSksemkoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtIbix0LlZpZXdDb250YWluZXJSZWYsRmksdC5OZ1pvbmUsdC5DaGFuZ2VEZXRlY3RvclJlZixlaSxGdW5jdGlvbixPYmplY3QsT2JqZWN0XSldLGkpfSh2aSksR2k9ZnVuY3Rpb24oZSx0LG4saSl7dmFyIHIsbz1hcmd1bWVudHMubGVuZ3RoLHM9bzwzP3Q6bnVsbD09PWk/aT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsbik6aTtpZihcIm9iamVjdFwiPT10eXBlb2YgUmVmbGVjdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSlzPVJlZmxlY3QuZGVjb3JhdGUoZSx0LG4saSk7ZWxzZSBmb3IodmFyIGE9ZS5sZW5ndGgtMTthPj0wO2EtLSkocj1lW2FdKSYmKHM9KG88Mz9yKHMpOm8+Mz9yKHQsbixzKTpyKHQsbikpfHxzKTtyZXR1cm4gbz4zJiZzJiZPYmplY3QuZGVmaW5lUHJvcGVydHkodCxuLHMpLHN9LHFpPWZ1bmN0aW9uKGUsdCl7aWYoXCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3QmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFJlZmxlY3QubWV0YWRhdGEpcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEoZSx0KX0sSmk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMuY2hhbmdlRGV0ZWN0b3I9ZSx0aGlzLnN0YXRlQ2hhbmdlcz1fLkVNUFRZfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJkaXNhYmxlZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdm9pZCAwPT09dGhpcy5fZGlzYWJsZWQ/dGhpcy5kdFBpY2tlci5kaXNhYmxlZDohIXRoaXMuX2Rpc2FibGVkfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fZGlzYWJsZWQ9ZX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJvd2xEVFRyaWdnZXJEaXNhYmxlZENsYXNzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRpc2FibGVkfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLm5nT25Jbml0PWZ1bmN0aW9uKCl7fSxlLnByb3RvdHlwZS5uZ09uQ2hhbmdlcz1mdW5jdGlvbihlKXtlLmRhdGVwaWNrZXImJnRoaXMud2F0Y2hTdGF0ZUNoYW5nZXMoKX0sZS5wcm90b3R5cGUubmdBZnRlckNvbnRlbnRJbml0PWZ1bmN0aW9uKCl7dGhpcy53YXRjaFN0YXRlQ2hhbmdlcygpfSxlLnByb3RvdHlwZS5uZ09uRGVzdHJveT1mdW5jdGlvbigpe3RoaXMuc3RhdGVDaGFuZ2VzLnVuc3Vic2NyaWJlKCl9LGUucHJvdG90eXBlLmhhbmRsZUNsaWNrT25Ib3N0PWZ1bmN0aW9uKGUpe3RoaXMuZHRQaWNrZXImJih0aGlzLmR0UGlja2VyLm9wZW4oKSxlLnN0b3BQcm9wYWdhdGlvbigpKX0sZS5wcm90b3R5cGUud2F0Y2hTdGF0ZUNoYW5nZXM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuc3RhdGVDaGFuZ2VzLnVuc3Vic2NyaWJlKCk7dmFyIHQ9dGhpcy5kdFBpY2tlciYmdGhpcy5kdFBpY2tlci5kdElucHV0P3RoaXMuZHRQaWNrZXIuZHRJbnB1dC5kaXNhYmxlZENoYW5nZTpYKCksbj10aGlzLmR0UGlja2VyP3RoaXMuZHRQaWNrZXIuZGlzYWJsZWRDaGFuZ2U6WCgpO3RoaXMuc3RhdGVDaGFuZ2VzPVNlKG4sdCkuc3Vic2NyaWJlKGZ1bmN0aW9uKCl7ZS5jaGFuZ2VEZXRlY3Rvci5tYXJrRm9yQ2hlY2soKX0pfSxHaShbdC5JbnB1dChcIm93bERhdGVUaW1lVHJpZ2dlclwiKSxxaShcImRlc2lnbjp0eXBlXCIsVWkpXSxlLnByb3RvdHlwZSxcImR0UGlja2VyXCIsdm9pZCAwKSxHaShbdC5JbnB1dCgpLHFpKFwiZGVzaWduOnR5cGVcIixCb29sZWFuKSxxaShcImRlc2lnbjpwYXJhbXR5cGVzXCIsW0Jvb2xlYW5dKV0sZS5wcm90b3R5cGUsXCJkaXNhYmxlZFwiLG51bGwpLEdpKFt0Lkhvc3RCaW5kaW5nKFwiY2xhc3Mub3dsLWR0LXRyaWdnZXItZGlzYWJsZWRcIikscWkoXCJkZXNpZ246dHlwZVwiLEJvb2xlYW4pLHFpKFwiZGVzaWduOnBhcmFtdHlwZXNcIixbXSldLGUucHJvdG90eXBlLFwib3dsRFRUcmlnZ2VyRGlzYWJsZWRDbGFzc1wiLG51bGwpLEdpKFt0Lkhvc3RMaXN0ZW5lcihcImNsaWNrXCIsW1wiJGV2ZW50XCJdKSxxaShcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLHFpKFwiZGVzaWduOnBhcmFtdHlwZXNcIixbRXZlbnRdKSxxaShcImRlc2lnbjpyZXR1cm50eXBlXCIsdm9pZCAwKV0sZS5wcm90b3R5cGUsXCJoYW5kbGVDbGlja09uSG9zdFwiLG51bGwpLGU9R2koW3QuRGlyZWN0aXZlKHtzZWxlY3RvcjpcIltvd2xEYXRlVGltZVRyaWdnZXJdXCJ9KSxxaShcImRlc2lnbjpwYXJhbXR5cGVzXCIsW3QuQ2hhbmdlRGV0ZWN0b3JSZWZdKV0sZSl9KCksUWk9ZnVuY3Rpb24oZSx0LG4saSl7dmFyIHIsbz1hcmd1bWVudHMubGVuZ3RoLHM9bzwzP3Q6bnVsbD09PWk/aT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsbik6aTtpZihcIm9iamVjdFwiPT10eXBlb2YgUmVmbGVjdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSlzPVJlZmxlY3QuZGVjb3JhdGUoZSx0LG4saSk7ZWxzZSBmb3IodmFyIGE9ZS5sZW5ndGgtMTthPj0wO2EtLSkocj1lW2FdKSYmKHM9KG88Mz9yKHMpOm8+Mz9yKHQsbixzKTpyKHQsbikpfHxzKTtyZXR1cm4gbz4zJiZzJiZPYmplY3QuZGVmaW5lUHJvcGVydHkodCxuLHMpLHN9LGVyPWZ1bmN0aW9uKGUsdCl7aWYoXCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3QmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFJlZmxlY3QubWV0YWRhdGEpcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEoZSx0KX0sdHI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZnVuY3Rpb24obixpKXt0KG4saSxlKX19LG5yPXtwcm92aWRlOnIuTkdfVkFMVUVfQUNDRVNTT1IsdXNlRXhpc3Rpbmc6dC5mb3J3YXJkUmVmKGZ1bmN0aW9uKCl7cmV0dXJuIHJyfSksbXVsdGk6ITB9LGlyPXtwcm92aWRlOnIuTkdfVkFMSURBVE9SUyx1c2VFeGlzdGluZzp0LmZvcndhcmRSZWYoZnVuY3Rpb24oKXtyZXR1cm4gcnJ9KSxtdWx0aTohMH0scnI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsbixpLG8pe3ZhciBzPXRoaXM7aWYodGhpcy5lbG1SZWY9ZSx0aGlzLnJlbmRlcmVyPW4sdGhpcy5kYXRlVGltZUFkYXB0ZXI9aSx0aGlzLmRhdGVUaW1lRm9ybWF0cz1vLHRoaXMuX3NlbGVjdE1vZGU9XCJzaW5nbGVcIix0aGlzLnJhbmdlU2VwYXJhdG9yPVwiflwiLHRoaXMuX3ZhbHVlcz1bXSx0aGlzLmRhdGVUaW1lQ2hhbmdlPW5ldyB0LkV2ZW50RW1pdHRlcix0aGlzLmRhdGVUaW1lSW5wdXQ9bmV3IHQuRXZlbnRFbWl0dGVyLHRoaXMuZHRQaWNrZXJTdWI9Xy5FTVBUWSx0aGlzLmxvY2FsZVN1Yj1fLkVNUFRZLHRoaXMubGFzdFZhbHVlVmFsaWQ9ITAsdGhpcy5vbk1vZGVsQ2hhbmdlPWZ1bmN0aW9uKCl7fSx0aGlzLm9uTW9kZWxUb3VjaGVkPWZ1bmN0aW9uKCl7fSx0aGlzLnZhbGlkYXRvck9uQ2hhbmdlPWZ1bmN0aW9uKCl7fSx0aGlzLnBhcnNlVmFsaWRhdG9yPWZ1bmN0aW9uKCl7cmV0dXJuIHMubGFzdFZhbHVlVmFsaWQ/bnVsbDp7b3dsRGF0ZVRpbWVQYXJzZTp7dGV4dDpzLmVsbVJlZi5uYXRpdmVFbGVtZW50LnZhbHVlfX19LHRoaXMubWluVmFsaWRhdG9yPWZ1bmN0aW9uKGUpe2lmKHMuaXNJblNpbmdsZU1vZGUpe3ZhciB0PXMuZ2V0VmFsaWREYXRlKHMuZGF0ZVRpbWVBZGFwdGVyLmRlc2VyaWFsaXplKGUudmFsdWUpKTtyZXR1cm4hcy5taW58fCF0fHxzLmRhdGVUaW1lQWRhcHRlci5jb21wYXJlKHMubWluLHQpPD0wP251bGw6e293bERhdGVUaW1lTWluOnttaW46cy5taW4sYWN0dWFsOnR9fX1pZihzLmlzSW5SYW5nZU1vZGUmJmUudmFsdWUpe3ZhciBuPXMuZ2V0VmFsaWREYXRlKHMuZGF0ZVRpbWVBZGFwdGVyLmRlc2VyaWFsaXplKGUudmFsdWVbMF0pKSxpPXMuZ2V0VmFsaWREYXRlKHMuZGF0ZVRpbWVBZGFwdGVyLmRlc2VyaWFsaXplKGUudmFsdWVbMV0pKTtyZXR1cm4hcy5taW58fCFufHwhaXx8cy5kYXRlVGltZUFkYXB0ZXIuY29tcGFyZShzLm1pbixuKTw9MD9udWxsOntvd2xEYXRlVGltZU1pbjp7bWluOnMubWluLGFjdHVhbDpbbixpXX19fX0sdGhpcy5tYXhWYWxpZGF0b3I9ZnVuY3Rpb24oZSl7aWYocy5pc0luU2luZ2xlTW9kZSl7dmFyIHQ9cy5nZXRWYWxpZERhdGUocy5kYXRlVGltZUFkYXB0ZXIuZGVzZXJpYWxpemUoZS52YWx1ZSkpO3JldHVybiFzLm1heHx8IXR8fHMuZGF0ZVRpbWVBZGFwdGVyLmNvbXBhcmUocy5tYXgsdCk+PTA/bnVsbDp7b3dsRGF0ZVRpbWVNYXg6e21heDpzLm1heCxhY3R1YWw6dH19fWlmKHMuaXNJblJhbmdlTW9kZSYmZS52YWx1ZSl7dmFyIG49cy5nZXRWYWxpZERhdGUocy5kYXRlVGltZUFkYXB0ZXIuZGVzZXJpYWxpemUoZS52YWx1ZVswXSkpLGk9cy5nZXRWYWxpZERhdGUocy5kYXRlVGltZUFkYXB0ZXIuZGVzZXJpYWxpemUoZS52YWx1ZVsxXSkpO3JldHVybiFzLm1heHx8IW58fCFpfHxzLmRhdGVUaW1lQWRhcHRlci5jb21wYXJlKHMubWF4LGkpPj0wP251bGw6e293bERhdGVUaW1lTWF4OnttYXg6cy5tYXgsYWN0dWFsOltuLGldfX19fSx0aGlzLmZpbHRlclZhbGlkYXRvcj1mdW5jdGlvbihlKXt2YXIgdD1zLmdldFZhbGlkRGF0ZShzLmRhdGVUaW1lQWRhcHRlci5kZXNlcmlhbGl6ZShlLnZhbHVlKSk7cmV0dXJuIHMuX2RhdGVUaW1lRmlsdGVyJiZ0JiYhcy5fZGF0ZVRpbWVGaWx0ZXIodCk/e293bERhdGVUaW1lRmlsdGVyOiEwfTpudWxsfSx0aGlzLnJhbmdlVmFsaWRhdG9yPWZ1bmN0aW9uKGUpe2lmKHMuaXNJblNpbmdsZU1vZGV8fCFlLnZhbHVlKXJldHVybiBudWxsO3ZhciB0PXMuZ2V0VmFsaWREYXRlKHMuZGF0ZVRpbWVBZGFwdGVyLmRlc2VyaWFsaXplKGUudmFsdWVbMF0pKSxuPXMuZ2V0VmFsaWREYXRlKHMuZGF0ZVRpbWVBZGFwdGVyLmRlc2VyaWFsaXplKGUudmFsdWVbMV0pKTtyZXR1cm4hdHx8IW58fHMuZGF0ZVRpbWVBZGFwdGVyLmNvbXBhcmUodCxuKTw9MD9udWxsOntvd2xEYXRlVGltZVJhbmdlOiEwfX0sdGhpcy52YWxpZGF0b3I9ci5WYWxpZGF0b3JzLmNvbXBvc2UoW3RoaXMucGFyc2VWYWxpZGF0b3IsdGhpcy5taW5WYWxpZGF0b3IsdGhpcy5tYXhWYWxpZGF0b3IsdGhpcy5maWx0ZXJWYWxpZGF0b3IsdGhpcy5yYW5nZVZhbGlkYXRvcl0pLHRoaXMudmFsdWVDaGFuZ2U9bmV3IHQuRXZlbnRFbWl0dGVyLHRoaXMuZGlzYWJsZWRDaGFuZ2U9bmV3IHQuRXZlbnRFbWl0dGVyLCF0aGlzLmRhdGVUaW1lQWRhcHRlcil0aHJvdyBFcnJvcihcIk93bERhdGVUaW1lUGlja2VyOiBObyBwcm92aWRlciBmb3VuZCBmb3IgRGF0ZVRpbWVQaWNrZXIuIFlvdSBtdXN0IGltcG9ydCBvbmUgb2YgdGhlIGZvbGxvd2luZyBtb2R1bGVzIGF0IHlvdXIgYXBwbGljYXRpb24gcm9vdDogT3dsTmF0aXZlRGF0ZVRpbWVNb2R1bGUsIE93bE1vbWVudERhdGVUaW1lTW9kdWxlLCBvciBwcm92aWRlIGEgY3VzdG9tIGltcGxlbWVudGF0aW9uLlwiKTtpZighdGhpcy5kYXRlVGltZUZvcm1hdHMpdGhyb3cgRXJyb3IoXCJPd2xEYXRlVGltZVBpY2tlcjogTm8gcHJvdmlkZXIgZm91bmQgZm9yIE9XTF9EQVRFX1RJTUVfRk9STUFUUy4gWW91IG11c3QgaW1wb3J0IG9uZSBvZiB0aGUgZm9sbG93aW5nIG1vZHVsZXMgYXQgeW91ciBhcHBsaWNhdGlvbiByb290OiBPd2xOYXRpdmVEYXRlVGltZU1vZHVsZSwgT3dsTW9tZW50RGF0ZVRpbWVNb2R1bGUsIG9yIHByb3ZpZGUgYSBjdXN0b20gaW1wbGVtZW50YXRpb24uXCIpO3RoaXMubG9jYWxlU3ViPXRoaXMuZGF0ZVRpbWVBZGFwdGVyLmxvY2FsZUNoYW5nZXMuc3Vic2NyaWJlKGZ1bmN0aW9uKCl7cy52YWx1ZT1zLnZhbHVlfSl9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcIm93bERhdGVUaW1lXCIse3NldDpmdW5jdGlvbihlKXt0aGlzLnJlZ2lzdGVyRGF0ZVRpbWVQaWNrZXIoZSl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwib3dsRGF0ZVRpbWVGaWx0ZXJcIix7c2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2RhdGVUaW1lRmlsdGVyPWUsdGhpcy52YWxpZGF0b3JPbkNoYW5nZSgpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImRhdGVUaW1lRmlsdGVyXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kYXRlVGltZUZpbHRlcn0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJkaXNhYmxlZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMuX2Rpc2FibGVkfSxzZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZHQoZSksbj10aGlzLmVsbVJlZi5uYXRpdmVFbGVtZW50O3RoaXMuX2Rpc2FibGVkIT09dCYmKHRoaXMuX2Rpc2FibGVkPXQsdGhpcy5kaXNhYmxlZENoYW5nZS5lbWl0KHQpKSx0JiZuLmJsdXImJm4uYmx1cigpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcIm1pblwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWlufSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fbWluPXRoaXMuZ2V0VmFsaWREYXRlKHRoaXMuZGF0ZVRpbWVBZGFwdGVyLmRlc2VyaWFsaXplKGUpKSx0aGlzLnZhbGlkYXRvck9uQ2hhbmdlKCl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwibWF4XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tYXh9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9tYXg9dGhpcy5nZXRWYWxpZERhdGUodGhpcy5kYXRlVGltZUFkYXB0ZXIuZGVzZXJpYWxpemUoZSkpLHRoaXMudmFsaWRhdG9yT25DaGFuZ2UoKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJzZWxlY3RNb2RlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZWxlY3RNb2RlfSxzZXQ6ZnVuY3Rpb24oZSl7aWYoXCJzaW5nbGVcIiE9PWUmJlwicmFuZ2VcIiE9PWUmJlwicmFuZ2VGcm9tXCIhPT1lJiZcInJhbmdlVG9cIiE9PWUpdGhyb3cgRXJyb3IoXCJPd2xEYXRlVGltZSBFcnJvcjogaW52YWxpZCBzZWxlY3RNb2RlIHZhbHVlIVwiKTt0aGlzLl9zZWxlY3RNb2RlPWV9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwidmFsdWVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ZhbHVlfSxzZXQ6ZnVuY3Rpb24oZSl7ZT10aGlzLmRhdGVUaW1lQWRhcHRlci5kZXNlcmlhbGl6ZShlKSx0aGlzLmxhc3RWYWx1ZVZhbGlkPSFlfHx0aGlzLmRhdGVUaW1lQWRhcHRlci5pc1ZhbGlkKGUpLGU9dGhpcy5nZXRWYWxpZERhdGUoZSk7dmFyIHQ9dGhpcy5fdmFsdWU7dGhpcy5fdmFsdWU9ZSx0aGlzLmZvcm1hdE5hdGl2ZUlucHV0VmFsdWUoKSx0aGlzLmRhdGVUaW1lQWRhcHRlci5pc0VxdWFsKHQsZSl8fHRoaXMudmFsdWVDaGFuZ2UuZW1pdChlKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJ2YWx1ZXNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ZhbHVlc30sc2V0OmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7ZSYmZS5sZW5ndGg+MD8odGhpcy5fdmFsdWVzPWUubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlPXQuZGF0ZVRpbWVBZGFwdGVyLmRlc2VyaWFsaXplKGUpLHQuZ2V0VmFsaWREYXRlKGUpfSksdGhpcy5sYXN0VmFsdWVWYWxpZD0oIXRoaXMuX3ZhbHVlc1swXXx8dGhpcy5kYXRlVGltZUFkYXB0ZXIuaXNWYWxpZCh0aGlzLl92YWx1ZXNbMF0pKSYmKCF0aGlzLl92YWx1ZXNbMV18fHRoaXMuZGF0ZVRpbWVBZGFwdGVyLmlzVmFsaWQodGhpcy5fdmFsdWVzWzFdKSkpOih0aGlzLl92YWx1ZXM9W10sdGhpcy5sYXN0VmFsdWVWYWxpZD0hMCksdGhpcy5mb3JtYXROYXRpdmVJbnB1dFZhbHVlKCksdGhpcy52YWx1ZUNoYW5nZS5lbWl0KHRoaXMuX3ZhbHVlcyl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiZWxlbWVudFJlZlwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbG1SZWZ9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiaXNJblNpbmdsZU1vZGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuXCJzaW5nbGVcIj09PXRoaXMuX3NlbGVjdE1vZGV9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiaXNJblJhbmdlTW9kZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm5cInJhbmdlXCI9PT10aGlzLl9zZWxlY3RNb2RlfHxcInJhbmdlRnJvbVwiPT09dGhpcy5fc2VsZWN0TW9kZXx8XCJyYW5nZVRvXCI9PT10aGlzLl9zZWxlY3RNb2RlfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcIm93bERhdGVUaW1lSW5wdXRBcmlhSGFzcG9wdXBcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuITB9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwib3dsRGF0ZVRpbWVJbnB1dEFyaWFPd25zXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmR0UGlja2VyLm9wZW5lZCYmdGhpcy5kdFBpY2tlci5pZHx8bnVsbH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJtaW5Jc284NjAxXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1pbj90aGlzLmRhdGVUaW1lQWRhcHRlci50b0lzbzg2MDEodGhpcy5taW4pOm51bGx9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwibWF4SXNvODYwMVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXg/dGhpcy5kYXRlVGltZUFkYXB0ZXIudG9Jc284NjAxKHRoaXMubWF4KTpudWxsfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcIm93bERhdGVUaW1lSW5wdXREaXNhYmxlZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kaXNhYmxlZH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5uZ09uSW5pdD1mdW5jdGlvbigpe2lmKCF0aGlzLmR0UGlja2VyKXRocm93IEVycm9yKFwiT3dsRGF0ZVRpbWVQaWNrZXI6IHRoZSBwaWNrZXIgaW5wdXQgZG9lc24ndCBoYXZlIGFueSBhc3NvY2lhdGVkIG93bC1kYXRlLXRpbWUgY29tcG9uZW50XCIpfSxlLnByb3RvdHlwZS5uZ0FmdGVyQ29udGVudEluaXQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuZHRQaWNrZXJTdWI9dGhpcy5kdFBpY2tlci5jb25maXJtU2VsZWN0ZWRDaGFuZ2Uuc3Vic2NyaWJlKGZ1bmN0aW9uKHQpe0FycmF5LmlzQXJyYXkodCk/ZS52YWx1ZXM9dDplLnZhbHVlPXQsZS5vbk1vZGVsQ2hhbmdlKHQpLGUub25Nb2RlbFRvdWNoZWQoKSxlLmRhdGVUaW1lQ2hhbmdlLmVtaXQoe3NvdXJjZTplLHZhbHVlOnQsaW5wdXQ6ZS5lbG1SZWYubmF0aXZlRWxlbWVudH0pLGUuZGF0ZVRpbWVJbnB1dC5lbWl0KHtzb3VyY2U6ZSx2YWx1ZTp0LGlucHV0OmUuZWxtUmVmLm5hdGl2ZUVsZW1lbnR9KX0pfSxlLnByb3RvdHlwZS5uZ09uRGVzdHJveT1mdW5jdGlvbigpe3RoaXMuZHRQaWNrZXJTdWIudW5zdWJzY3JpYmUoKSx0aGlzLmxvY2FsZVN1Yi51bnN1YnNjcmliZSgpLHRoaXMudmFsdWVDaGFuZ2UuY29tcGxldGUoKSx0aGlzLmRpc2FibGVkQ2hhbmdlLmNvbXBsZXRlKCl9LGUucHJvdG90eXBlLndyaXRlVmFsdWU9ZnVuY3Rpb24oZSl7dGhpcy5pc0luU2luZ2xlTW9kZT90aGlzLnZhbHVlPWU6dGhpcy52YWx1ZXM9ZX0sZS5wcm90b3R5cGUucmVnaXN0ZXJPbkNoYW5nZT1mdW5jdGlvbihlKXt0aGlzLm9uTW9kZWxDaGFuZ2U9ZX0sZS5wcm90b3R5cGUucmVnaXN0ZXJPblRvdWNoZWQ9ZnVuY3Rpb24oZSl7dGhpcy5vbk1vZGVsVG91Y2hlZD1lfSxlLnByb3RvdHlwZS5zZXREaXNhYmxlZFN0YXRlPWZ1bmN0aW9uKGUpe3RoaXMuZGlzYWJsZWQ9ZX0sZS5wcm90b3R5cGUudmFsaWRhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudmFsaWRhdG9yP3RoaXMudmFsaWRhdG9yKGUpOm51bGx9LGUucHJvdG90eXBlLnJlZ2lzdGVyT25WYWxpZGF0b3JDaGFuZ2U9ZnVuY3Rpb24oZSl7dGhpcy52YWxpZGF0b3JPbkNoYW5nZT1lfSxlLnByb3RvdHlwZS5oYW5kbGVLZXlkb3duT25Ib3N0PWZ1bmN0aW9uKGUpe2UuYWx0S2V5JiY0MD09PWUua2V5Q29kZSYmKHRoaXMuZHRQaWNrZXIub3BlbigpLGUucHJldmVudERlZmF1bHQoKSl9LGUucHJvdG90eXBlLmhhbmRsZUJsdXJPbkhvc3Q9ZnVuY3Rpb24oZSl7dGhpcy5vbk1vZGVsVG91Y2hlZCgpfSxlLnByb3RvdHlwZS5oYW5kbGVJbnB1dE9uSG9zdD1mdW5jdGlvbihlKXt2YXIgdD1lLnRhcmdldC52YWx1ZTtcInNpbmdsZVwiPT09dGhpcy5fc2VsZWN0TW9kZT90aGlzLmNoYW5nZUlucHV0SW5TaW5nbGVNb2RlKHQpOlwicmFuZ2VcIj09PXRoaXMuX3NlbGVjdE1vZGU/dGhpcy5jaGFuZ2VJbnB1dEluUmFuZ2VNb2RlKHQpOnRoaXMuY2hhbmdlSW5wdXRJblJhbmdlRnJvbVRvTW9kZSh0KX0sZS5wcm90b3R5cGUuaGFuZGxlQ2hhbmdlT25Ib3N0PWZ1bmN0aW9uKGUpe3ZhciB0O3RoaXMuaXNJblNpbmdsZU1vZGU/dD10aGlzLnZhbHVlOnRoaXMuaXNJblJhbmdlTW9kZSYmKHQ9dGhpcy52YWx1ZXMpLHRoaXMuZGF0ZVRpbWVDaGFuZ2UuZW1pdCh7c291cmNlOnRoaXMsdmFsdWU6dCxpbnB1dDp0aGlzLmVsbVJlZi5uYXRpdmVFbGVtZW50fSl9LGUucHJvdG90eXBlLmZvcm1hdE5hdGl2ZUlucHV0VmFsdWU9ZnVuY3Rpb24oKXtpZih0aGlzLmlzSW5TaW5nbGVNb2RlKXRoaXMucmVuZGVyZXIuc2V0UHJvcGVydHkodGhpcy5lbG1SZWYubmF0aXZlRWxlbWVudCxcInZhbHVlXCIsdGhpcy5fdmFsdWU/dGhpcy5kYXRlVGltZUFkYXB0ZXIuZm9ybWF0KHRoaXMuX3ZhbHVlLHRoaXMuZHRQaWNrZXIuZm9ybWF0U3RyaW5nKTpcIlwiKTtlbHNlIGlmKHRoaXMuaXNJblJhbmdlTW9kZSlpZih0aGlzLl92YWx1ZXMmJnRoaXMudmFsdWVzLmxlbmd0aD4wKXt2YXIgZT10aGlzLl92YWx1ZXNbMF0sdD10aGlzLl92YWx1ZXNbMV0sbj1lP3RoaXMuZGF0ZVRpbWVBZGFwdGVyLmZvcm1hdChlLHRoaXMuZHRQaWNrZXIuZm9ybWF0U3RyaW5nKTpcIlwiLGk9dD90aGlzLmRhdGVUaW1lQWRhcHRlci5mb3JtYXQodCx0aGlzLmR0UGlja2VyLmZvcm1hdFN0cmluZyk6XCJcIjtufHxpP1wicmFuZ2VcIj09PXRoaXMuX3NlbGVjdE1vZGU/dGhpcy5yZW5kZXJlci5zZXRQcm9wZXJ0eSh0aGlzLmVsbVJlZi5uYXRpdmVFbGVtZW50LFwidmFsdWVcIixuK1wiIFwiK3RoaXMucmFuZ2VTZXBhcmF0b3IrXCIgXCIraSk6XCJyYW5nZUZyb21cIj09PXRoaXMuX3NlbGVjdE1vZGU/dGhpcy5yZW5kZXJlci5zZXRQcm9wZXJ0eSh0aGlzLmVsbVJlZi5uYXRpdmVFbGVtZW50LFwidmFsdWVcIixuKTpcInJhbmdlVG9cIj09PXRoaXMuX3NlbGVjdE1vZGUmJnRoaXMucmVuZGVyZXIuc2V0UHJvcGVydHkodGhpcy5lbG1SZWYubmF0aXZlRWxlbWVudCxcInZhbHVlXCIsaSk6dGhpcy5yZW5kZXJlci5zZXRQcm9wZXJ0eSh0aGlzLmVsbVJlZi5uYXRpdmVFbGVtZW50LFwidmFsdWVcIixudWxsKX1lbHNlIHRoaXMucmVuZGVyZXIuc2V0UHJvcGVydHkodGhpcy5lbG1SZWYubmF0aXZlRWxlbWVudCxcInZhbHVlXCIsXCJcIil9LGUucHJvdG90eXBlLnJlZ2lzdGVyRGF0ZVRpbWVQaWNrZXI9ZnVuY3Rpb24oZSl7ZSYmKHRoaXMuZHRQaWNrZXI9ZSx0aGlzLmR0UGlja2VyLnJlZ2lzdGVySW5wdXQodGhpcykpfSxlLnByb3RvdHlwZS5nZXRWYWxpZERhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZGF0ZVRpbWVBZGFwdGVyLmlzRGF0ZUluc3RhbmNlKGUpJiZ0aGlzLmRhdGVUaW1lQWRhcHRlci5pc1ZhbGlkKGUpP2U6bnVsbH0sZS5wcm90b3R5cGUuY29udmVydFRpbWVTdHJpbmdUb0RhdGVUaW1lU3RyaW5nPWZ1bmN0aW9uKGUsdCl7aWYoZSl7dmFyIG49dHx8dGhpcy5kYXRlVGltZUFkYXB0ZXIubm93KCk7cmV0dXJuIHRoaXMuZGF0ZVRpbWVBZGFwdGVyLmZvcm1hdChuLHRoaXMuZGF0ZVRpbWVGb3JtYXRzLmRhdGVQaWNrZXJJbnB1dCkrXCIgXCIrZX1yZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUuY2hhbmdlSW5wdXRJblNpbmdsZU1vZGU9ZnVuY3Rpb24oZSl7dmFyIHQ9ZTtcInRpbWVyXCI9PT10aGlzLmR0UGlja2VyLnBpY2tlclR5cGUmJih0PXRoaXMuY29udmVydFRpbWVTdHJpbmdUb0RhdGVUaW1lU3RyaW5nKHQsdGhpcy52YWx1ZSkpO3ZhciBuPXRoaXMuZGF0ZVRpbWVBZGFwdGVyLnBhcnNlKHQsdGhpcy5kYXRlVGltZUZvcm1hdHMucGFyc2VJbnB1dCk7dGhpcy5sYXN0VmFsdWVWYWxpZD0hbnx8dGhpcy5kYXRlVGltZUFkYXB0ZXIuaXNWYWxpZChuKSxuPXRoaXMuZ2V0VmFsaWREYXRlKG4pLHRoaXMuaXNTYW1lVmFsdWUobix0aGlzLl92YWx1ZSkmJm51bGwhPT1ufHwodGhpcy5fdmFsdWU9bix0aGlzLnZhbHVlQ2hhbmdlLmVtaXQobiksdGhpcy5vbk1vZGVsQ2hhbmdlKG4pLHRoaXMuZGF0ZVRpbWVJbnB1dC5lbWl0KHtzb3VyY2U6dGhpcyx2YWx1ZTpuLGlucHV0OnRoaXMuZWxtUmVmLm5hdGl2ZUVsZW1lbnR9KSl9LGUucHJvdG90eXBlLmNoYW5nZUlucHV0SW5SYW5nZUZyb21Ub01vZGU9ZnVuY3Rpb24oZSl7dmFyIHQ9XCJyYW5nZUZyb21cIj09PXRoaXMuX3NlbGVjdE1vZGU/dGhpcy5fdmFsdWVzWzBdOnRoaXMuX3ZhbHVlc1sxXTtcInRpbWVyXCI9PT10aGlzLmR0UGlja2VyLnBpY2tlclR5cGUmJihlPXRoaXMuY29udmVydFRpbWVTdHJpbmdUb0RhdGVUaW1lU3RyaW5nKGUsdCkpO3ZhciBuPXRoaXMuZGF0ZVRpbWVBZGFwdGVyLnBhcnNlKGUsdGhpcy5kYXRlVGltZUZvcm1hdHMucGFyc2VJbnB1dCk7dGhpcy5sYXN0VmFsdWVWYWxpZD0hbnx8dGhpcy5kYXRlVGltZUFkYXB0ZXIuaXNWYWxpZChuKSxuPXRoaXMuZ2V0VmFsaWREYXRlKG4pLFwicmFuZ2VGcm9tXCI9PT10aGlzLl9zZWxlY3RNb2RlJiZ0aGlzLmlzU2FtZVZhbHVlKG4sdGhpcy5fdmFsdWVzWzBdKSYmbnx8XCJyYW5nZVRvXCI9PT10aGlzLl9zZWxlY3RNb2RlJiZ0aGlzLmlzU2FtZVZhbHVlKG4sdGhpcy5fdmFsdWVzWzFdKSYmbnx8KHRoaXMuX3ZhbHVlcz1cInJhbmdlRnJvbVwiPT09dGhpcy5fc2VsZWN0TW9kZT9bbix0aGlzLl92YWx1ZXNbMV1dOlt0aGlzLl92YWx1ZXNbMF0sbl0sdGhpcy52YWx1ZUNoYW5nZS5lbWl0KHRoaXMuX3ZhbHVlcyksdGhpcy5vbk1vZGVsQ2hhbmdlKHRoaXMuX3ZhbHVlcyksdGhpcy5kYXRlVGltZUlucHV0LmVtaXQoe3NvdXJjZTp0aGlzLHZhbHVlOnRoaXMuX3ZhbHVlcyxpbnB1dDp0aGlzLmVsbVJlZi5uYXRpdmVFbGVtZW50fSkpfSxlLnByb3RvdHlwZS5jaGFuZ2VJbnB1dEluUmFuZ2VNb2RlPWZ1bmN0aW9uKGUpe3ZhciB0PWUuc3BsaXQodGhpcy5yYW5nZVNlcGFyYXRvciksbj10WzBdLGk9dFsxXTtcInRpbWVyXCI9PT10aGlzLmR0UGlja2VyLnBpY2tlclR5cGUmJihuPXRoaXMuY29udmVydFRpbWVTdHJpbmdUb0RhdGVUaW1lU3RyaW5nKG4sdGhpcy52YWx1ZXNbMF0pLGk9dGhpcy5jb252ZXJ0VGltZVN0cmluZ1RvRGF0ZVRpbWVTdHJpbmcoaSx0aGlzLnZhbHVlc1sxXSkpO3ZhciByPXRoaXMuZGF0ZVRpbWVBZGFwdGVyLnBhcnNlKG4sdGhpcy5kYXRlVGltZUZvcm1hdHMucGFyc2VJbnB1dCksbz10aGlzLmRhdGVUaW1lQWRhcHRlci5wYXJzZShpLHRoaXMuZGF0ZVRpbWVGb3JtYXRzLnBhcnNlSW5wdXQpO3RoaXMubGFzdFZhbHVlVmFsaWQ9KCFyfHx0aGlzLmRhdGVUaW1lQWRhcHRlci5pc1ZhbGlkKHIpKSYmKCFvfHx0aGlzLmRhdGVUaW1lQWRhcHRlci5pc1ZhbGlkKG8pKSxyPXRoaXMuZ2V0VmFsaWREYXRlKHIpLG89dGhpcy5nZXRWYWxpZERhdGUobyksdGhpcy5pc1NhbWVWYWx1ZShyLHRoaXMuX3ZhbHVlc1swXSkmJnRoaXMuaXNTYW1lVmFsdWUobyx0aGlzLl92YWx1ZXNbMV0pJiYobnVsbCE9PXJ8fG51bGwhPT1vKXx8KHRoaXMuX3ZhbHVlcz1bcixvXSx0aGlzLnZhbHVlQ2hhbmdlLmVtaXQodGhpcy5fdmFsdWVzKSx0aGlzLm9uTW9kZWxDaGFuZ2UodGhpcy5fdmFsdWVzKSx0aGlzLmRhdGVUaW1lSW5wdXQuZW1pdCh7c291cmNlOnRoaXMsdmFsdWU6dGhpcy5fdmFsdWVzLGlucHV0OnRoaXMuZWxtUmVmLm5hdGl2ZUVsZW1lbnR9KSl9LGUucHJvdG90eXBlLmlzU2FtZVZhbHVlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUmJnQ/MD09PXRoaXMuZGF0ZVRpbWVBZGFwdGVyLmNvbXBhcmUoZSx0KTplPT10fSxRaShbdC5JbnB1dCgpLGVyKFwiZGVzaWduOnR5cGVcIixVaSksZXIoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtVaV0pXSxlLnByb3RvdHlwZSxcIm93bERhdGVUaW1lXCIsbnVsbCksUWkoW3QuSW5wdXQoKSxlcihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLGVyKFwiZGVzaWduOnBhcmFtdHlwZXNcIixbRnVuY3Rpb25dKV0sZS5wcm90b3R5cGUsXCJvd2xEYXRlVGltZUZpbHRlclwiLG51bGwpLFFpKFt0LklucHV0KCksZXIoXCJkZXNpZ246dHlwZVwiLEJvb2xlYW4pXSxlLnByb3RvdHlwZSxcIl9kaXNhYmxlZFwiLHZvaWQgMCksUWkoW3QuSW5wdXQoKSxlcihcImRlc2lnbjp0eXBlXCIsT2JqZWN0KSxlcihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW09iamVjdF0pXSxlLnByb3RvdHlwZSxcIm1pblwiLG51bGwpLFFpKFt0LklucHV0KCksZXIoXCJkZXNpZ246dHlwZVwiLE9iamVjdCksZXIoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtPYmplY3RdKV0sZS5wcm90b3R5cGUsXCJtYXhcIixudWxsKSxRaShbdC5JbnB1dCgpLGVyKFwiZGVzaWduOnR5cGVcIixTdHJpbmcpLGVyKFwiZGVzaWduOnBhcmFtdHlwZXNcIixbU3RyaW5nXSldLGUucHJvdG90eXBlLFwic2VsZWN0TW9kZVwiLG51bGwpLFFpKFt0LklucHV0KCksZXIoXCJkZXNpZ246dHlwZVwiLE9iamVjdCldLGUucHJvdG90eXBlLFwicmFuZ2VTZXBhcmF0b3JcIix2b2lkIDApLFFpKFt0LklucHV0KCksZXIoXCJkZXNpZ246dHlwZVwiLE9iamVjdCksZXIoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtPYmplY3RdKV0sZS5wcm90b3R5cGUsXCJ2YWx1ZVwiLG51bGwpLFFpKFt0LklucHV0KCksZXIoXCJkZXNpZ246dHlwZVwiLEFycmF5KSxlcihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW0FycmF5XSldLGUucHJvdG90eXBlLFwidmFsdWVzXCIsbnVsbCksUWkoW3QuT3V0cHV0KCksZXIoXCJkZXNpZ246dHlwZVwiLE9iamVjdCldLGUucHJvdG90eXBlLFwiZGF0ZVRpbWVDaGFuZ2VcIix2b2lkIDApLFFpKFt0Lk91dHB1dCgpLGVyKFwiZGVzaWduOnR5cGVcIixPYmplY3QpXSxlLnByb3RvdHlwZSxcImRhdGVUaW1lSW5wdXRcIix2b2lkIDApLFFpKFt0Lkhvc3RCaW5kaW5nKFwiYXR0ci5hcmlhLWhhc3BvcHVwXCIpLGVyKFwiZGVzaWduOnR5cGVcIixCb29sZWFuKSxlcihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW10pXSxlLnByb3RvdHlwZSxcIm93bERhdGVUaW1lSW5wdXRBcmlhSGFzcG9wdXBcIixudWxsKSxRaShbdC5Ib3N0QmluZGluZyhcImF0dHIuYXJpYS1vd25zXCIpLGVyKFwiZGVzaWduOnR5cGVcIixTdHJpbmcpLGVyKFwiZGVzaWduOnBhcmFtdHlwZXNcIixbXSldLGUucHJvdG90eXBlLFwib3dsRGF0ZVRpbWVJbnB1dEFyaWFPd25zXCIsbnVsbCksUWkoW3QuSG9zdEJpbmRpbmcoXCJhdHRyLm1pblwiKSxlcihcImRlc2lnbjp0eXBlXCIsU3RyaW5nKSxlcihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW10pXSxlLnByb3RvdHlwZSxcIm1pbklzbzg2MDFcIixudWxsKSxRaShbdC5Ib3N0QmluZGluZyhcImF0dHIubWF4XCIpLGVyKFwiZGVzaWduOnR5cGVcIixTdHJpbmcpLGVyKFwiZGVzaWduOnBhcmFtdHlwZXNcIixbXSldLGUucHJvdG90eXBlLFwibWF4SXNvODYwMVwiLG51bGwpLFFpKFt0Lkhvc3RCaW5kaW5nKFwiZGlzYWJsZWRcIiksZXIoXCJkZXNpZ246dHlwZVwiLEJvb2xlYW4pLGVyKFwiZGVzaWduOnBhcmFtdHlwZXNcIixbXSldLGUucHJvdG90eXBlLFwib3dsRGF0ZVRpbWVJbnB1dERpc2FibGVkXCIsbnVsbCksUWkoW3QuSG9zdExpc3RlbmVyKFwia2V5ZG93blwiLFtcIiRldmVudFwiXSksZXIoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxlcihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW0tleWJvYXJkRXZlbnRdKSxlcihcImRlc2lnbjpyZXR1cm50eXBlXCIsdm9pZCAwKV0sZS5wcm90b3R5cGUsXCJoYW5kbGVLZXlkb3duT25Ib3N0XCIsbnVsbCksUWkoW3QuSG9zdExpc3RlbmVyKFwiYmx1clwiLFtcIiRldmVudFwiXSksZXIoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxlcihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW0V2ZW50XSksZXIoXCJkZXNpZ246cmV0dXJudHlwZVwiLHZvaWQgMCldLGUucHJvdG90eXBlLFwiaGFuZGxlQmx1ck9uSG9zdFwiLG51bGwpLFFpKFt0Lkhvc3RMaXN0ZW5lcihcImlucHV0XCIsW1wiJGV2ZW50XCJdKSxlcihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLGVyKFwiZGVzaWduOnBhcmFtdHlwZXNcIixbT2JqZWN0XSksZXIoXCJkZXNpZ246cmV0dXJudHlwZVwiLHZvaWQgMCldLGUucHJvdG90eXBlLFwiaGFuZGxlSW5wdXRPbkhvc3RcIixudWxsKSxRaShbdC5Ib3N0TGlzdGVuZXIoXCJjaGFuZ2VcIixbXCIkZXZlbnRcIl0pLGVyKFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksZXIoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtPYmplY3RdKSxlcihcImRlc2lnbjpyZXR1cm50eXBlXCIsdm9pZCAwKV0sZS5wcm90b3R5cGUsXCJoYW5kbGVDaGFuZ2VPbkhvc3RcIixudWxsKSxlPVFpKFt0LkRpcmVjdGl2ZSh7c2VsZWN0b3I6XCJpbnB1dFtvd2xEYXRlVGltZV1cIixleHBvcnRBczpcIm93bERhdGVUaW1lSW5wdXRcIixwcm92aWRlcnM6W25yLGlyXX0pLHRyKDIsdC5PcHRpb25hbCgpKSx0cigzLHQuT3B0aW9uYWwoKSksdHIoMyx0LkluamVjdCh0aSkpLGVyKFwiZGVzaWduOnBhcmFtdHlwZXNcIixbdC5FbGVtZW50UmVmLHQuUmVuZGVyZXIyLGVpLE9iamVjdF0pXSxlKX0oKSxvcj1mdW5jdGlvbihlLHQsbixpKXt2YXIgcixvPWFyZ3VtZW50cy5sZW5ndGgscz1vPDM/dDpudWxsPT09aT9pPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxuKTppO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBSZWZsZWN0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBSZWZsZWN0LmRlY29yYXRlKXM9UmVmbGVjdC5kZWNvcmF0ZShlLHQsbixpKTtlbHNlIGZvcih2YXIgYT1lLmxlbmd0aC0xO2E+PTA7YS0tKShyPWVbYV0pJiYocz0obzwzP3Iocyk6bz4zP3IodCxuLHMpOnIodCxuKSl8fHMpO3JldHVybiBvPjMmJnMmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG4scyksc30sc3I9ZnVuY3Rpb24oZSx0KXtpZihcIm9iamVjdFwiPT10eXBlb2YgUmVmbGVjdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSlyZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShlLHQpfSxhcj1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlLHQsbixpLHIsbyl7dm9pZCAwPT09ciYmKHI9ITEpLHZvaWQgMD09PW8mJihvPVwiXCIpLHRoaXMudmFsdWU9ZSx0aGlzLmRpc3BsYXlWYWx1ZT10LHRoaXMuYXJpYUxhYmVsPW4sdGhpcy5lbmFibGVkPWksdGhpcy5vdXQ9cix0aGlzLmNlbGxDbGFzcz1vfX0oKSxjcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSxuKXt0aGlzLmVsbVJlZj1lLHRoaXMubmdab25lPW4sdGhpcy5hY3RpdmVDZWxsPTAsdGhpcy5udW1Db2xzPTcsdGhpcy5jZWxsUmF0aW89MSx0aGlzLnNlbGVjdD1uZXcgdC5FdmVudEVtaXR0ZXJ9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcIm93bERUQ2FsZW5kYXJCb2R5Q2xhc3NcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuITB9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiaXNJblNpbmdsZU1vZGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuXCJzaW5nbGVcIj09PXRoaXMuc2VsZWN0TW9kZX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJpc0luUmFuZ2VNb2RlXCIse2dldDpmdW5jdGlvbigpe3JldHVyblwicmFuZ2VcIj09PXRoaXMuc2VsZWN0TW9kZXx8XCJyYW5nZUZyb21cIj09PXRoaXMuc2VsZWN0TW9kZXx8XCJyYW5nZVRvXCI9PT10aGlzLnNlbGVjdE1vZGV9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUubmdPbkluaXQ9ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLnNlbGVjdENlbGw9ZnVuY3Rpb24oZSl7dGhpcy5zZWxlY3QuZW1pdChlKX0sZS5wcm90b3R5cGUuaXNBY3RpdmVDZWxsPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUqdGhpcy5udW1Db2xzK3Q9PT10aGlzLmFjdGl2ZUNlbGx9LGUucHJvdG90eXBlLmlzU2VsZWN0ZWQ9ZnVuY3Rpb24oZSl7aWYoIXRoaXMuc2VsZWN0ZWRWYWx1ZXN8fDA9PT10aGlzLnNlbGVjdGVkVmFsdWVzLmxlbmd0aClyZXR1cm4hMTtpZih0aGlzLmlzSW5TaW5nbGVNb2RlKXJldHVybiBlPT09dGhpcy5zZWxlY3RlZFZhbHVlc1swXTtpZih0aGlzLmlzSW5SYW5nZU1vZGUpe3ZhciB0PXRoaXMuc2VsZWN0ZWRWYWx1ZXNbMF0sbj10aGlzLnNlbGVjdGVkVmFsdWVzWzFdO3JldHVybiBlPT09dHx8ZT09PW59fSxlLnByb3RvdHlwZS5pc0luUmFuZ2U9ZnVuY3Rpb24oZSl7aWYodGhpcy5pc0luUmFuZ2VNb2RlKXt2YXIgdD10aGlzLnNlbGVjdGVkVmFsdWVzWzBdLG49dGhpcy5zZWxlY3RlZFZhbHVlc1sxXTtyZXR1cm4gbnVsbCE9PXQmJm51bGwhPT1uP2U+PXQmJmU8PW46ZT09PXR8fGU9PT1ufX0sZS5wcm90b3R5cGUuaXNSYW5nZUZyb209ZnVuY3Rpb24oZSl7aWYodGhpcy5pc0luUmFuZ2VNb2RlKXt2YXIgdD10aGlzLnNlbGVjdGVkVmFsdWVzWzBdO3JldHVybiBudWxsIT09dCYmZT09PXR9fSxlLnByb3RvdHlwZS5pc1JhbmdlVG89ZnVuY3Rpb24oZSl7aWYodGhpcy5pc0luUmFuZ2VNb2RlKXt2YXIgdD10aGlzLnNlbGVjdGVkVmFsdWVzWzFdO3JldHVybiBudWxsIT09dCYmZT09PXR9fSxlLnByb3RvdHlwZS5mb2N1c0FjdGl2ZUNlbGw9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMubmdab25lLnJ1bk91dHNpZGVBbmd1bGFyKGZ1bmN0aW9uKCl7ZS5uZ1pvbmUub25TdGFibGUuYXNPYnNlcnZhYmxlKCkucGlwZShXZSgxKSkuc3Vic2NyaWJlKGZ1bmN0aW9uKCl7ZS5lbG1SZWYubmF0aXZlRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm93bC1kdC1jYWxlbmRhci1jZWxsLWFjdGl2ZVwiKS5mb2N1cygpfSl9KX0sb3IoW3QuSW5wdXQoKSxzcihcImRlc2lnbjp0eXBlXCIsT2JqZWN0KV0sZS5wcm90b3R5cGUsXCJhY3RpdmVDZWxsXCIsdm9pZCAwKSxvcihbdC5JbnB1dCgpLHNyKFwiZGVzaWduOnR5cGVcIixBcnJheSldLGUucHJvdG90eXBlLFwicm93c1wiLHZvaWQgMCksb3IoW3QuSW5wdXQoKSxzcihcImRlc2lnbjp0eXBlXCIsT2JqZWN0KV0sZS5wcm90b3R5cGUsXCJudW1Db2xzXCIsdm9pZCAwKSxvcihbdC5JbnB1dCgpLHNyKFwiZGVzaWduOnR5cGVcIixPYmplY3QpXSxlLnByb3RvdHlwZSxcImNlbGxSYXRpb1wiLHZvaWQgMCksb3IoW3QuSW5wdXQoKSxzcihcImRlc2lnbjp0eXBlXCIsTnVtYmVyKV0sZS5wcm90b3R5cGUsXCJ0b2RheVZhbHVlXCIsdm9pZCAwKSxvcihbdC5JbnB1dCgpLHNyKFwiZGVzaWduOnR5cGVcIixBcnJheSldLGUucHJvdG90eXBlLFwic2VsZWN0ZWRWYWx1ZXNcIix2b2lkIDApLG9yKFt0LklucHV0KCksc3IoXCJkZXNpZ246dHlwZVwiLFN0cmluZyldLGUucHJvdG90eXBlLFwic2VsZWN0TW9kZVwiLHZvaWQgMCksb3IoW3QuT3V0cHV0KCksc3IoXCJkZXNpZ246dHlwZVwiLE9iamVjdCldLGUucHJvdG90eXBlLFwic2VsZWN0XCIsdm9pZCAwKSxvcihbdC5Ib3N0QmluZGluZyhcImNsYXNzLm93bC1kdC1jYWxlbmRhci1ib2R5XCIpLHNyKFwiZGVzaWduOnR5cGVcIixCb29sZWFuKSxzcihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW10pXSxlLnByb3RvdHlwZSxcIm93bERUQ2FsZW5kYXJCb2R5Q2xhc3NcIixudWxsKSxlPW9yKFt0LkNvbXBvbmVudCh7c2VsZWN0b3I6XCJbb3dsLWRhdGUtdGltZS1jYWxlbmRhci1ib2R5XVwiLGV4cG9ydEFzOlwib3dsRGF0ZVRpbWVDYWxlbmRhckJvZHlcIix0ZW1wbGF0ZTonPHRyICpuZ0Zvcj1cImxldCByb3cgb2Ygcm93czsgbGV0IHJvd0luZGV4ID0gaW5kZXhcIiByb2xlPVwicm93XCI+PHRkICpuZ0Zvcj1cImxldCBpdGVtIG9mIHJvdzsgbGV0IGNvbEluZGV4ID0gaW5kZXhcIiBjbGFzcz1cIm93bC1kdC1jYWxlbmRhci1jZWxsIHt7aXRlbS5jZWxsQ2xhc3N9fVwiIFt0YWJpbmRleF09XCJpc0FjdGl2ZUNlbGwocm93SW5kZXgsIGNvbEluZGV4KSA/IDAgOiAtMVwiIFtjbGFzcy5vd2wtZHQtY2FsZW5kYXItY2VsbC1hY3RpdmVdPVwiaXNBY3RpdmVDZWxsKHJvd0luZGV4LCBjb2xJbmRleClcIiBbY2xhc3Mub3dsLWR0LWNhbGVuZGFyLWNlbGwtZGlzYWJsZWRdPVwiIWl0ZW0uZW5hYmxlZFwiIFtjbGFzcy5vd2wtZHQtY2FsZW5kYXItY2VsbC1pbi1yYW5nZV09XCJpc0luUmFuZ2UoaXRlbS52YWx1ZSlcIiBbY2xhc3Mub3dsLWR0LWNhbGVuZGFyLWNlbGwtcmFuZ2UtZnJvbV09XCJpc1JhbmdlRnJvbShpdGVtLnZhbHVlKVwiIFtjbGFzcy5vd2wtZHQtY2FsZW5kYXItY2VsbC1yYW5nZS10b109XCJpc1JhbmdlVG8oaXRlbS52YWx1ZSlcIiBbYXR0ci5hcmlhLWxhYmVsXT1cIml0ZW0uYXJpYUxhYmVsXCIgW2F0dHIuYXJpYS1kaXNhYmxlZF09XCIhaXRlbS5lbmFibGVkIHx8IG51bGxcIiBbc3R5bGUud2lkdGguJV09XCIxMDAgLyBudW1Db2xzXCIgW3N0eWxlLnBhZGRpbmdUb3AuJV09XCI1MCAqIGNlbGxSYXRpbyAvIG51bUNvbHNcIiBbc3R5bGUucGFkZGluZ0JvdHRvbS4lXT1cIjUwICogY2VsbFJhdGlvIC8gbnVtQ29sc1wiIChjbGljayk9XCJzZWxlY3RDZWxsKGl0ZW0pXCI+PHNwYW4gY2xhc3M9XCJvd2wtZHQtY2FsZW5kYXItY2VsbC1jb250ZW50XCIgW25nQ2xhc3NdPVwie1xcbiAgICAgICAgICAgICAgICBcXCdvd2wtZHQtY2FsZW5kYXItY2VsbC1vdXRcXCc6IGl0ZW0ub3V0LFxcbiAgICAgICAgICAgICAgICBcXCdvd2wtZHQtY2FsZW5kYXItY2VsbC10b2RheVxcJzogaXRlbS52YWx1ZSA9PT0gdG9kYXlWYWx1ZSxcXG4gICAgICAgICAgICAgICAgXFwnb3dsLWR0LWNhbGVuZGFyLWNlbGwtc2VsZWN0ZWRcXCc6IGlzU2VsZWN0ZWQoaXRlbS52YWx1ZSlcXG4gICAgICAgICAgICAgIH1cIj57e2l0ZW0uZGlzcGxheVZhbHVlfX08L3NwYW4+PC90ZD48L3RyPicsc3R5bGVzOltcIlwiXSxwcmVzZXJ2ZVdoaXRlc3BhY2VzOiExLGNoYW5nZURldGVjdGlvbjp0LkNoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaH0pLHNyKFwiZGVzaWduOnBhcmFtdHlwZXNcIixbdC5FbGVtZW50UmVmLHQuTmdab25lXSldLGUpfSgpLGxyPWZ1bmN0aW9uKGUsdCxuLGkpe3ZhciByLG89YXJndW1lbnRzLmxlbmd0aCxzPW88Mz90Om51bGw9PT1pP2k9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LG4pOmk7aWYoXCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3QmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUpcz1SZWZsZWN0LmRlY29yYXRlKGUsdCxuLGkpO2Vsc2UgZm9yKHZhciBhPWUubGVuZ3RoLTE7YT49MDthLS0pKHI9ZVthXSkmJihzPShvPDM/cihzKTpvPjM/cih0LG4scyk6cih0LG4pKXx8cyk7cmV0dXJuIG8+MyYmcyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsbixzKSxzfSx1cj1mdW5jdGlvbihlLHQpe2lmKFwib2JqZWN0XCI9PXR5cGVvZiBSZWZsZWN0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhKXJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKGUsdCl9LHByPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKG4saSl7dChuLGksZSl9fSxocj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSxuLGkpe3RoaXMuY2RSZWY9ZSx0aGlzLmRhdGVUaW1lQWRhcHRlcj1uLHRoaXMuZGF0ZVRpbWVGb3JtYXRzPWksdGhpcy5oaWRlT3RoZXJNb250aHM9ITEsdGhpcy5fZmlyc3REYXlPZldlZWs9MCx0aGlzLl9zZWxlY3RNb2RlPVwic2luZ2xlXCIsdGhpcy5fc2VsZWN0ZWRzPVtdLHRoaXMubG9jYWxlU3ViPV8uRU1QVFksdGhpcy5pbml0aWF0ZWQ9ITEsdGhpcy5zZWxlY3RlZERhdGVzPVtdLHRoaXMuc2VsZWN0ZWRDaGFuZ2U9bmV3IHQuRXZlbnRFbWl0dGVyLHRoaXMudXNlclNlbGVjdGlvbj1uZXcgdC5FdmVudEVtaXR0ZXIsdGhpcy5waWNrZXJNb21lbnRDaGFuZ2U9bmV3IHQuRXZlbnRFbWl0dGVyfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJmaXJzdERheU9mV2Vla1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZmlyc3REYXlPZldlZWt9LHNldDpmdW5jdGlvbihlKXsoZT1mdChlKSk+PTAmJmU8PTYmJmUhPT10aGlzLl9maXJzdERheU9mV2VlayYmKHRoaXMuX2ZpcnN0RGF5T2ZXZWVrPWUsdGhpcy5pbml0aWF0ZWQmJih0aGlzLmdlbmVyYXRlV2Vla0RheXMoKSx0aGlzLmdlbmVyYXRlQ2FsZW5kYXIoKSx0aGlzLmNkUmVmLm1hcmtGb3JDaGVjaygpKSl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwic2VsZWN0TW9kZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2VsZWN0TW9kZX0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX3NlbGVjdE1vZGU9ZSx0aGlzLmluaXRpYXRlZCYmKHRoaXMuZ2VuZXJhdGVDYWxlbmRhcigpLHRoaXMuY2RSZWYubWFya0ZvckNoZWNrKCkpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcInNlbGVjdGVkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZWxlY3RlZH0sc2V0OmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX3NlbGVjdGVkO2U9dGhpcy5kYXRlVGltZUFkYXB0ZXIuZGVzZXJpYWxpemUoZSksdGhpcy5fc2VsZWN0ZWQ9dGhpcy5nZXRWYWxpZERhdGUoZSksdGhpcy5kYXRlVGltZUFkYXB0ZXIuaXNTYW1lRGF5KHQsdGhpcy5fc2VsZWN0ZWQpfHx0aGlzLnNldFNlbGVjdGVkRGF0ZXMoKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJzZWxlY3RlZHNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NlbGVjdGVkc30sc2V0OmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dGhpcy5fc2VsZWN0ZWRzPWUubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlPXQuZGF0ZVRpbWVBZGFwdGVyLmRlc2VyaWFsaXplKGUpLHQuZ2V0VmFsaWREYXRlKGUpfSksdGhpcy5zZXRTZWxlY3RlZERhdGVzKCl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwicGlja2VyTW9tZW50XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9waWNrZXJNb21lbnR9LHNldDpmdW5jdGlvbihlKXt2YXIgdD10aGlzLl9waWNrZXJNb21lbnQ7ZT10aGlzLmRhdGVUaW1lQWRhcHRlci5kZXNlcmlhbGl6ZShlKSx0aGlzLl9waWNrZXJNb21lbnQ9dGhpcy5nZXRWYWxpZERhdGUoZSl8fHRoaXMuZGF0ZVRpbWVBZGFwdGVyLm5vdygpLHRoaXMuZmlyc3REYXRlT2ZNb250aD10aGlzLmRhdGVUaW1lQWRhcHRlci5jcmVhdGVEYXRlKHRoaXMuZGF0ZVRpbWVBZGFwdGVyLmdldFllYXIodGhpcy5fcGlja2VyTW9tZW50KSx0aGlzLmRhdGVUaW1lQWRhcHRlci5nZXRNb250aCh0aGlzLl9waWNrZXJNb21lbnQpLDEpLCF0aGlzLmlzU2FtZU1vbnRoKHQsdGhpcy5fcGlja2VyTW9tZW50KSYmdGhpcy5pbml0aWF0ZWQmJnRoaXMuZ2VuZXJhdGVDYWxlbmRhcigpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImRhdGVGaWx0ZXJcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RhdGVGaWx0ZXJ9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9kYXRlRmlsdGVyPWUsdGhpcy5pbml0aWF0ZWQmJih0aGlzLmdlbmVyYXRlQ2FsZW5kYXIoKSx0aGlzLmNkUmVmLm1hcmtGb3JDaGVjaygpKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJtaW5EYXRlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9taW5EYXRlfSxzZXQ6ZnVuY3Rpb24oZSl7ZT10aGlzLmRhdGVUaW1lQWRhcHRlci5kZXNlcmlhbGl6ZShlKSx0aGlzLl9taW5EYXRlPXRoaXMuZ2V0VmFsaWREYXRlKGUpLHRoaXMuaW5pdGlhdGVkJiYodGhpcy5nZW5lcmF0ZUNhbGVuZGFyKCksdGhpcy5jZFJlZi5tYXJrRm9yQ2hlY2soKSl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwibWF4RGF0ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWF4RGF0ZX0sc2V0OmZ1bmN0aW9uKGUpe2U9dGhpcy5kYXRlVGltZUFkYXB0ZXIuZGVzZXJpYWxpemUoZSksdGhpcy5fbWF4RGF0ZT10aGlzLmdldFZhbGlkRGF0ZShlKSx0aGlzLmluaXRpYXRlZCYmKHRoaXMuZ2VuZXJhdGVDYWxlbmRhcigpLHRoaXMuY2RSZWYubWFya0ZvckNoZWNrKCkpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcIndlZWtkYXlzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl93ZWVrZGF5c30sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJkYXlzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kYXlzfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImFjdGl2ZUNlbGxcIix7Z2V0OmZ1bmN0aW9uKCl7aWYodGhpcy5waWNrZXJNb21lbnQpcmV0dXJuIHRoaXMuZGF0ZVRpbWVBZGFwdGVyLmdldERhdGUodGhpcy5waWNrZXJNb21lbnQpK3RoaXMuZmlyc3RSb3dPZmZzZXQtMX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJpc0luU2luZ2xlTW9kZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm5cInNpbmdsZVwiPT09dGhpcy5zZWxlY3RNb2RlfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImlzSW5SYW5nZU1vZGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuXCJyYW5nZVwiPT09dGhpcy5zZWxlY3RNb2RlfHxcInJhbmdlRnJvbVwiPT09dGhpcy5zZWxlY3RNb2RlfHxcInJhbmdlVG9cIj09PXRoaXMuc2VsZWN0TW9kZX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJvd2xEVENhbGVuZGFyVmlld1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4hMH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5uZ09uSW5pdD1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5nZW5lcmF0ZVdlZWtEYXlzKCksdGhpcy5sb2NhbGVTdWI9dGhpcy5kYXRlVGltZUFkYXB0ZXIubG9jYWxlQ2hhbmdlcy5zdWJzY3JpYmUoZnVuY3Rpb24oKXtlLmdlbmVyYXRlV2Vla0RheXMoKSxlLmdlbmVyYXRlQ2FsZW5kYXIoKSxlLmNkUmVmLm1hcmtGb3JDaGVjaygpfSl9LGUucHJvdG90eXBlLm5nQWZ0ZXJDb250ZW50SW5pdD1mdW5jdGlvbigpe3RoaXMuZ2VuZXJhdGVDYWxlbmRhcigpLHRoaXMuaW5pdGlhdGVkPSEwfSxlLnByb3RvdHlwZS5uZ09uRGVzdHJveT1mdW5jdGlvbigpe3RoaXMubG9jYWxlU3ViLnVuc3Vic2NyaWJlKCl9LGUucHJvdG90eXBlLnNlbGVjdENhbGVuZGFyQ2VsbD1mdW5jdGlvbihlKXshZS5lbmFibGVkfHx0aGlzLmhpZGVPdGhlck1vbnRocyYmZS5vdXR8fHRoaXMuc2VsZWN0RGF0ZShlLnZhbHVlKX0sZS5wcm90b3R5cGUuc2VsZWN0RGF0ZT1mdW5jdGlvbihlKXt2YXIgdD1lLTEsbj10aGlzLmRhdGVUaW1lQWRhcHRlci5hZGRDYWxlbmRhckRheXModGhpcy5maXJzdERhdGVPZk1vbnRoLHQpO3RoaXMuc2VsZWN0ZWRDaGFuZ2UuZW1pdChuKSx0aGlzLnVzZXJTZWxlY3Rpb24uZW1pdCgpfSxlLnByb3RvdHlwZS5oYW5kbGVDYWxlbmRhcktleWRvd249ZnVuY3Rpb24oZSl7dmFyIHQ7c3dpdGNoKGUua2V5Q29kZSl7Y2FzZSAzNzp0PXRoaXMuZGF0ZVRpbWVBZGFwdGVyLmFkZENhbGVuZGFyRGF5cyh0aGlzLnBpY2tlck1vbWVudCwtMSksdGhpcy5waWNrZXJNb21lbnRDaGFuZ2UuZW1pdCh0KTticmVhaztjYXNlIDM5OnQ9dGhpcy5kYXRlVGltZUFkYXB0ZXIuYWRkQ2FsZW5kYXJEYXlzKHRoaXMucGlja2VyTW9tZW50LDEpLHRoaXMucGlja2VyTW9tZW50Q2hhbmdlLmVtaXQodCk7YnJlYWs7Y2FzZSAzODp0PXRoaXMuZGF0ZVRpbWVBZGFwdGVyLmFkZENhbGVuZGFyRGF5cyh0aGlzLnBpY2tlck1vbWVudCwtNyksdGhpcy5waWNrZXJNb21lbnRDaGFuZ2UuZW1pdCh0KTticmVhaztjYXNlIDQwOnQ9dGhpcy5kYXRlVGltZUFkYXB0ZXIuYWRkQ2FsZW5kYXJEYXlzKHRoaXMucGlja2VyTW9tZW50LDcpLHRoaXMucGlja2VyTW9tZW50Q2hhbmdlLmVtaXQodCk7YnJlYWs7Y2FzZSAzNjp0PXRoaXMuZGF0ZVRpbWVBZGFwdGVyLmFkZENhbGVuZGFyRGF5cyh0aGlzLnBpY2tlck1vbWVudCwxLXRoaXMuZGF0ZVRpbWVBZGFwdGVyLmdldERhdGUodGhpcy5waWNrZXJNb21lbnQpKSx0aGlzLnBpY2tlck1vbWVudENoYW5nZS5lbWl0KHQpO2JyZWFrO2Nhc2UgMzU6dD10aGlzLmRhdGVUaW1lQWRhcHRlci5hZGRDYWxlbmRhckRheXModGhpcy5waWNrZXJNb21lbnQsdGhpcy5kYXRlVGltZUFkYXB0ZXIuZ2V0TnVtRGF5c0luTW9udGgodGhpcy5waWNrZXJNb21lbnQpLXRoaXMuZGF0ZVRpbWVBZGFwdGVyLmdldERhdGUodGhpcy5waWNrZXJNb21lbnQpKSx0aGlzLnBpY2tlck1vbWVudENoYW5nZS5lbWl0KHQpO2JyZWFrO2Nhc2UgMzM6dD1lLmFsdEtleT90aGlzLmRhdGVUaW1lQWRhcHRlci5hZGRDYWxlbmRhclllYXJzKHRoaXMucGlja2VyTW9tZW50LC0xKTp0aGlzLmRhdGVUaW1lQWRhcHRlci5hZGRDYWxlbmRhck1vbnRocyh0aGlzLnBpY2tlck1vbWVudCwtMSksdGhpcy5waWNrZXJNb21lbnRDaGFuZ2UuZW1pdCh0KTticmVhaztjYXNlIDM0OnQ9ZS5hbHRLZXk/dGhpcy5kYXRlVGltZUFkYXB0ZXIuYWRkQ2FsZW5kYXJZZWFycyh0aGlzLnBpY2tlck1vbWVudCwxKTp0aGlzLmRhdGVUaW1lQWRhcHRlci5hZGRDYWxlbmRhck1vbnRocyh0aGlzLnBpY2tlck1vbWVudCwxKSx0aGlzLnBpY2tlck1vbWVudENoYW5nZS5lbWl0KHQpO2JyZWFrO2Nhc2UgMTM6dGhpcy5kYXRlRmlsdGVyJiYhdGhpcy5kYXRlRmlsdGVyKHRoaXMucGlja2VyTW9tZW50KXx8dGhpcy5zZWxlY3REYXRlKHRoaXMuZGF0ZVRpbWVBZGFwdGVyLmdldERhdGUodGhpcy5waWNrZXJNb21lbnQpKTticmVhaztkZWZhdWx0OnJldHVybn10aGlzLmZvY3VzQWN0aXZlQ2VsbCgpLGUucHJldmVudERlZmF1bHQoKX0sZS5wcm90b3R5cGUuZ2VuZXJhdGVXZWVrRGF5cz1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZGF0ZVRpbWVBZGFwdGVyLmdldERheU9mV2Vla05hbWVzKFwibG9uZ1wiKSx0PXRoaXMuZGF0ZVRpbWVBZGFwdGVyLmdldERheU9mV2Vla05hbWVzKFwic2hvcnRcIiksbj10aGlzLmRhdGVUaW1lQWRhcHRlci5nZXREYXlPZldlZWtOYW1lcyhcIm5hcnJvd1wiKSxpPXRoaXMuZmlyc3REYXlPZldlZWsscj1lLm1hcChmdW5jdGlvbihlLGkpe3JldHVybntsb25nOmUsc2hvcnQ6dFtpXSxuYXJyb3c6bltpXX19KTt0aGlzLl93ZWVrZGF5cz1yLnNsaWNlKGkpLmNvbmNhdChyLnNsaWNlKDAsaSkpLHRoaXMuZGF0ZU5hbWVzPXRoaXMuZGF0ZVRpbWVBZGFwdGVyLmdldERhdGVOYW1lcygpfSxlLnByb3RvdHlwZS5nZW5lcmF0ZUNhbGVuZGFyPWZ1bmN0aW9uKCl7aWYodGhpcy5waWNrZXJNb21lbnQpe3RoaXMudG9kYXlEYXRlPW51bGw7dmFyIGU9MC0odGhpcy5kYXRlVGltZUFkYXB0ZXIuZ2V0RGF5KHRoaXMuZmlyc3REYXRlT2ZNb250aCkrKDctdGhpcy5maXJzdERheU9mV2VlaykpJTc7dGhpcy5maXJzdFJvd09mZnNldD1NYXRoLmFicyhlKSx0aGlzLl9kYXlzPVtdO2Zvcih2YXIgdD0wO3Q8Njt0Kyspe2Zvcih2YXIgbj1bXSxpPTA7aTw3O2krKyl7dmFyIHI9dGhpcy5kYXRlVGltZUFkYXB0ZXIuYWRkQ2FsZW5kYXJEYXlzKHRoaXMuZmlyc3REYXRlT2ZNb250aCxlKSxvPXRoaXMuY3JlYXRlRGF0ZUNlbGwocixlKTt0aGlzLmRhdGVUaW1lQWRhcHRlci5pc1NhbWVEYXkodGhpcy5kYXRlVGltZUFkYXB0ZXIubm93KCkscikmJih0aGlzLnRvZGF5RGF0ZT1lKzEpLG4ucHVzaChvKSxlKz0xfXRoaXMuX2RheXMucHVzaChuKX10aGlzLnNldFNlbGVjdGVkRGF0ZXMoKX19LGUucHJvdG90eXBlLmNyZWF0ZURhdGVDZWxsPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5kYXRlVGltZUFkYXB0ZXIuZ2V0TnVtRGF5c0luTW9udGgodGhpcy5waWNrZXJNb21lbnQpLGk9dGhpcy5kYXRlVGltZUFkYXB0ZXIuZ2V0RGF0ZShlKS50b1N0cmluZygpLHI9dGhpcy5kYXRlVGltZUFkYXB0ZXIuZm9ybWF0KGUsdGhpcy5kYXRlVGltZUZvcm1hdHMuZGF0ZUExMXlMYWJlbCksbz10aGlzLmlzRGF0ZUVuYWJsZWQoZSkscz10KzEsYT1zPDF8fHM+bixjPVwib3dsLWR0LWRheS1cIit0aGlzLmRhdGVUaW1lQWRhcHRlci5nZXREYXkoZSk7cmV0dXJuIG5ldyBhcihzLGkscixvLGEsYyl9LGUucHJvdG90eXBlLmlzRGF0ZUVuYWJsZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuISFlJiYoIXRoaXMuZGF0ZUZpbHRlcnx8dGhpcy5kYXRlRmlsdGVyKGUpKSYmKCF0aGlzLm1pbkRhdGV8fHRoaXMuZGF0ZVRpbWVBZGFwdGVyLmNvbXBhcmUoZSx0aGlzLm1pbkRhdGUpPj0wKSYmKCF0aGlzLm1heERhdGV8fHRoaXMuZGF0ZVRpbWVBZGFwdGVyLmNvbXBhcmUoZSx0aGlzLm1heERhdGUpPD0wKX0sZS5wcm90b3R5cGUuZ2V0VmFsaWREYXRlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmRhdGVUaW1lQWRhcHRlci5pc0RhdGVJbnN0YW5jZShlKSYmdGhpcy5kYXRlVGltZUFkYXB0ZXIuaXNWYWxpZChlKT9lOm51bGx9LGUucHJvdG90eXBlLmlzU2FtZU1vbnRoPWZ1bmN0aW9uKGUsdCl7cmV0dXJuISEoZSYmdCYmdGhpcy5kYXRlVGltZUFkYXB0ZXIuaXNWYWxpZChlKSYmdGhpcy5kYXRlVGltZUFkYXB0ZXIuaXNWYWxpZCh0KSYmdGhpcy5kYXRlVGltZUFkYXB0ZXIuZ2V0WWVhcihlKT09PXRoaXMuZGF0ZVRpbWVBZGFwdGVyLmdldFllYXIodCkmJnRoaXMuZGF0ZVRpbWVBZGFwdGVyLmdldE1vbnRoKGUpPT09dGhpcy5kYXRlVGltZUFkYXB0ZXIuZ2V0TW9udGgodCkpfSxlLnByb3RvdHlwZS5zZXRTZWxlY3RlZERhdGVzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztpZih0aGlzLnNlbGVjdGVkRGF0ZXM9W10sdGhpcy5maXJzdERhdGVPZk1vbnRoKWlmKHRoaXMuaXNJblNpbmdsZU1vZGUmJnRoaXMuc2VsZWN0ZWQpe3ZhciB0PXRoaXMuZGF0ZVRpbWVBZGFwdGVyLmRpZmZlcmVuY2VJbkNhbGVuZGFyRGF5cyh0aGlzLnNlbGVjdGVkLHRoaXMuZmlyc3REYXRlT2ZNb250aCk7dGhpcy5zZWxlY3RlZERhdGVzWzBdPXQrMX1lbHNlIHRoaXMuaXNJblJhbmdlTW9kZSYmdGhpcy5zZWxlY3RlZHMmJih0aGlzLnNlbGVjdGVkRGF0ZXM9dGhpcy5zZWxlY3RlZHMubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBlLmRhdGVUaW1lQWRhcHRlci5pc1ZhbGlkKHQpP2UuZGF0ZVRpbWVBZGFwdGVyLmRpZmZlcmVuY2VJbkNhbGVuZGFyRGF5cyh0LGUuZmlyc3REYXRlT2ZNb250aCkrMTpudWxsfSkpfSxlLnByb3RvdHlwZS5mb2N1c0FjdGl2ZUNlbGw9ZnVuY3Rpb24oKXt0aGlzLmNhbGVuZGFyQm9keUVsbS5mb2N1c0FjdGl2ZUNlbGwoKX0sbHIoW3QuSW5wdXQoKSx1cihcImRlc2lnbjp0eXBlXCIsQm9vbGVhbildLGUucHJvdG90eXBlLFwiaGlkZU90aGVyTW9udGhzXCIsdm9pZCAwKSxscihbdC5JbnB1dCgpLHVyKFwiZGVzaWduOnR5cGVcIixOdW1iZXIpLHVyKFwiZGVzaWduOnBhcmFtdHlwZXNcIixbTnVtYmVyXSldLGUucHJvdG90eXBlLFwiZmlyc3REYXlPZldlZWtcIixudWxsKSxscihbdC5JbnB1dCgpLHVyKFwiZGVzaWduOnR5cGVcIixTdHJpbmcpLHVyKFwiZGVzaWduOnBhcmFtdHlwZXNcIixbU3RyaW5nXSldLGUucHJvdG90eXBlLFwic2VsZWN0TW9kZVwiLG51bGwpLGxyKFt0LklucHV0KCksdXIoXCJkZXNpZ246dHlwZVwiLE9iamVjdCksdXIoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtPYmplY3RdKV0sZS5wcm90b3R5cGUsXCJzZWxlY3RlZFwiLG51bGwpLGxyKFt0LklucHV0KCksdXIoXCJkZXNpZ246dHlwZVwiLEFycmF5KSx1cihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW0FycmF5XSldLGUucHJvdG90eXBlLFwic2VsZWN0ZWRzXCIsbnVsbCksbHIoW3QuSW5wdXQoKSx1cihcImRlc2lnbjp0eXBlXCIsT2JqZWN0KSx1cihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW09iamVjdF0pXSxlLnByb3RvdHlwZSxcInBpY2tlck1vbWVudFwiLG51bGwpLGxyKFt0LklucHV0KCksdXIoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSx1cihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW0Z1bmN0aW9uXSldLGUucHJvdG90eXBlLFwiZGF0ZUZpbHRlclwiLG51bGwpLGxyKFt0LklucHV0KCksdXIoXCJkZXNpZ246dHlwZVwiLE9iamVjdCksdXIoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtPYmplY3RdKV0sZS5wcm90b3R5cGUsXCJtaW5EYXRlXCIsbnVsbCksbHIoW3QuSW5wdXQoKSx1cihcImRlc2lnbjp0eXBlXCIsT2JqZWN0KSx1cihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW09iamVjdF0pXSxlLnByb3RvdHlwZSxcIm1heERhdGVcIixudWxsKSxscihbdC5PdXRwdXQoKSx1cihcImRlc2lnbjp0eXBlXCIsT2JqZWN0KV0sZS5wcm90b3R5cGUsXCJzZWxlY3RlZENoYW5nZVwiLHZvaWQgMCksbHIoW3QuT3V0cHV0KCksdXIoXCJkZXNpZ246dHlwZVwiLE9iamVjdCldLGUucHJvdG90eXBlLFwidXNlclNlbGVjdGlvblwiLHZvaWQgMCksbHIoW3QuT3V0cHV0KCksdXIoXCJkZXNpZ246dHlwZVwiLHQuRXZlbnRFbWl0dGVyKV0sZS5wcm90b3R5cGUsXCJwaWNrZXJNb21lbnRDaGFuZ2VcIix2b2lkIDApLGxyKFt0LlZpZXdDaGlsZChjciksdXIoXCJkZXNpZ246dHlwZVwiLGNyKV0sZS5wcm90b3R5cGUsXCJjYWxlbmRhckJvZHlFbG1cIix2b2lkIDApLGxyKFt0Lkhvc3RCaW5kaW5nKFwiY2xhc3Mub3dsLWR0LWNhbGVuZGFyLXZpZXdcIiksdXIoXCJkZXNpZ246dHlwZVwiLEJvb2xlYW4pLHVyKFwiZGVzaWduOnBhcmFtdHlwZXNcIixbXSldLGUucHJvdG90eXBlLFwib3dsRFRDYWxlbmRhclZpZXdcIixudWxsKSxlPWxyKFt0LkNvbXBvbmVudCh7c2VsZWN0b3I6XCJvd2wtZGF0ZS10aW1lLW1vbnRoLXZpZXdcIixleHBvcnRBczpcIm93bFllYXJWaWV3XCIsdGVtcGxhdGU6Jzx0YWJsZSBjbGFzcz1cIm93bC1kdC1jYWxlbmRhci10YWJsZSBvd2wtZHQtY2FsZW5kYXItbW9udGgtdGFibGVcIiBbY2xhc3Mub3dsLWR0LWNhbGVuZGFyLW9ubHktY3VycmVudC1tb250aF09XCJoaWRlT3RoZXJNb250aHNcIj48dGhlYWQgY2xhc3M9XCJvd2wtZHQtY2FsZW5kYXItaGVhZGVyXCI+PHRyIGNsYXNzPVwib3dsLWR0LXdlZWtkYXlzXCI+PHRoICpuZ0Zvcj1cImxldCB3ZWVrZGF5IG9mIHdlZWtkYXlzXCIgW2F0dHIuYXJpYS1sYWJlbF09XCJ3ZWVrZGF5LmxvbmdcIiBjbGFzcz1cIm93bC1kdC13ZWVrZGF5XCIgc2NvcGU9XCJjb2xcIj48c3Bhbj57e3dlZWtkYXkuc2hvcnR9fTwvc3Bhbj48L3RoPjwvdHI+PHRyPjx0aCBjbGFzcz1cIm93bC1kdC1jYWxlbmRhci10YWJsZS1kaXZpZGVyXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCIgY29sc3Bhbj1cIjdcIj48L3RoPjwvdHI+PC90aGVhZD48dGJvZHkgb3dsLWRhdGUtdGltZS1jYWxlbmRhci1ib2R5IHJvbGU9XCJncmlkXCIgW3Jvd3NdPVwiZGF5c1wiIFt0b2RheVZhbHVlXT1cInRvZGF5RGF0ZVwiIFtzZWxlY3RlZFZhbHVlc109XCJzZWxlY3RlZERhdGVzXCIgW3NlbGVjdE1vZGVdPVwic2VsZWN0TW9kZVwiIFthY3RpdmVDZWxsXT1cImFjdGl2ZUNlbGxcIiAoa2V5ZG93bik9XCJoYW5kbGVDYWxlbmRhcktleWRvd24oJGV2ZW50KVwiIChzZWxlY3QpPVwic2VsZWN0Q2FsZW5kYXJDZWxsKCRldmVudClcIj48L3Rib2R5PjwvdGFibGU+JyxzdHlsZXM6W1wiXCJdLHByZXNlcnZlV2hpdGVzcGFjZXM6ITEsY2hhbmdlRGV0ZWN0aW9uOnQuQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNofSkscHIoMSx0Lk9wdGlvbmFsKCkpLHByKDIsdC5PcHRpb25hbCgpKSxwcigyLHQuSW5qZWN0KHRpKSksdXIoXCJkZXNpZ246cGFyYW10eXBlc1wiLFt0LkNoYW5nZURldGVjdG9yUmVmLGVpLE9iamVjdF0pXSxlKX0oKSxkcj1mdW5jdGlvbihlLHQsbixpKXt2YXIgcixvPWFyZ3VtZW50cy5sZW5ndGgscz1vPDM/dDpudWxsPT09aT9pPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxuKTppO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBSZWZsZWN0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBSZWZsZWN0LmRlY29yYXRlKXM9UmVmbGVjdC5kZWNvcmF0ZShlLHQsbixpKTtlbHNlIGZvcih2YXIgYT1lLmxlbmd0aC0xO2E+PTA7YS0tKShyPWVbYV0pJiYocz0obzwzP3Iocyk6bz4zP3IodCxuLHMpOnIodCxuKSl8fHMpO3JldHVybiBvPjMmJnMmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG4scyksc30sZnI9ZnVuY3Rpb24oZSx0KXtpZihcIm9iamVjdFwiPT10eXBlb2YgUmVmbGVjdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSlyZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShlLHQpfSxtcj1mdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbihuLGkpe3QobixpLGUpfX0seXI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsbixpKXt0aGlzLmNkUmVmPWUsdGhpcy5kYXRlVGltZUFkYXB0ZXI9bix0aGlzLmRhdGVUaW1lRm9ybWF0cz1pLHRoaXMuX3NlbGVjdE1vZGU9XCJzaW5nbGVcIix0aGlzLl9zZWxlY3RlZHM9W10sdGhpcy5sb2NhbGVTdWI9Xy5FTVBUWSx0aGlzLmluaXRpYXRlZD0hMSx0aGlzLnNlbGVjdGVkTW9udGhzPVtdLHRoaXMuY2hhbmdlPW5ldyB0LkV2ZW50RW1pdHRlcix0aGlzLm1vbnRoU2VsZWN0ZWQ9bmV3IHQuRXZlbnRFbWl0dGVyLHRoaXMucGlja2VyTW9tZW50Q2hhbmdlPW5ldyB0LkV2ZW50RW1pdHRlcix0aGlzLmtleWJvYXJkRW50ZXI9bmV3IHQuRXZlbnRFbWl0dGVyLHRoaXMubW9udGhOYW1lcz10aGlzLmRhdGVUaW1lQWRhcHRlci5nZXRNb250aE5hbWVzKFwic2hvcnRcIil9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcInNlbGVjdE1vZGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NlbGVjdE1vZGV9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9zZWxlY3RNb2RlPWUsdGhpcy5pbml0aWF0ZWQmJih0aGlzLmdlbmVyYXRlTW9udGhMaXN0KCksdGhpcy5jZFJlZi5tYXJrRm9yQ2hlY2soKSl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwic2VsZWN0ZWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NlbGVjdGVkfSxzZXQ6ZnVuY3Rpb24oZSl7ZT10aGlzLmRhdGVUaW1lQWRhcHRlci5kZXNlcmlhbGl6ZShlKSx0aGlzLl9zZWxlY3RlZD10aGlzLmdldFZhbGlkRGF0ZShlKSx0aGlzLnNldFNlbGVjdGVkTW9udGhzKCl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwic2VsZWN0ZWRzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZWxlY3RlZHN9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9zZWxlY3RlZHM9W107Zm9yKHZhciB0PTA7dDxlLmxlbmd0aDt0Kyspe3ZhciBuPXRoaXMuZGF0ZVRpbWVBZGFwdGVyLmRlc2VyaWFsaXplKGVbdF0pO3RoaXMuX3NlbGVjdGVkcy5wdXNoKHRoaXMuZ2V0VmFsaWREYXRlKG4pKX10aGlzLnNldFNlbGVjdGVkTW9udGhzKCl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwicGlja2VyTW9tZW50XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9waWNrZXJNb21lbnR9LHNldDpmdW5jdGlvbihlKXt2YXIgdD10aGlzLl9waWNrZXJNb21lbnQ7ZT10aGlzLmRhdGVUaW1lQWRhcHRlci5kZXNlcmlhbGl6ZShlKSx0aGlzLl9waWNrZXJNb21lbnQ9dGhpcy5nZXRWYWxpZERhdGUoZSl8fHRoaXMuZGF0ZVRpbWVBZGFwdGVyLm5vdygpLCF0aGlzLmhhc1NhbWVZZWFyKHQsdGhpcy5fcGlja2VyTW9tZW50KSYmdGhpcy5pbml0aWF0ZWQmJnRoaXMuZ2VuZXJhdGVNb250aExpc3QoKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJkYXRlRmlsdGVyXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kYXRlRmlsdGVyfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fZGF0ZUZpbHRlcj1lLHRoaXMuaW5pdGlhdGVkJiZ0aGlzLmdlbmVyYXRlTW9udGhMaXN0KCl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwibWluRGF0ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWluRGF0ZX0sc2V0OmZ1bmN0aW9uKGUpe2U9dGhpcy5kYXRlVGltZUFkYXB0ZXIuZGVzZXJpYWxpemUoZSksdGhpcy5fbWluRGF0ZT10aGlzLmdldFZhbGlkRGF0ZShlKSx0aGlzLmluaXRpYXRlZCYmdGhpcy5nZW5lcmF0ZU1vbnRoTGlzdCgpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcIm1heERhdGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21heERhdGV9LHNldDpmdW5jdGlvbihlKXtlPXRoaXMuZGF0ZVRpbWVBZGFwdGVyLmRlc2VyaWFsaXplKGUpLHRoaXMuX21heERhdGU9dGhpcy5nZXRWYWxpZERhdGUoZSksdGhpcy5pbml0aWF0ZWQmJnRoaXMuZ2VuZXJhdGVNb250aExpc3QoKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJtb250aHNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21vbnRoc30sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJhY3RpdmVDZWxsXCIse2dldDpmdW5jdGlvbigpe2lmKHRoaXMuX3BpY2tlck1vbWVudClyZXR1cm4gdGhpcy5kYXRlVGltZUFkYXB0ZXIuZ2V0TW9udGgodGhpcy5fcGlja2VyTW9tZW50KX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJpc0luU2luZ2xlTW9kZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm5cInNpbmdsZVwiPT09dGhpcy5zZWxlY3RNb2RlfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImlzSW5SYW5nZU1vZGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuXCJyYW5nZVwiPT09dGhpcy5zZWxlY3RNb2RlfHxcInJhbmdlRnJvbVwiPT09dGhpcy5zZWxlY3RNb2RlfHxcInJhbmdlVG9cIj09PXRoaXMuc2VsZWN0TW9kZX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJvd2xEVENhbGVuZGFyVmlld1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4hMH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5uZ09uSW5pdD1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5sb2NhbGVTdWI9dGhpcy5kYXRlVGltZUFkYXB0ZXIubG9jYWxlQ2hhbmdlcy5zdWJzY3JpYmUoZnVuY3Rpb24oKXtlLmdlbmVyYXRlTW9udGhMaXN0KCksZS5jZFJlZi5tYXJrRm9yQ2hlY2soKX0pfSxlLnByb3RvdHlwZS5uZ0FmdGVyQ29udGVudEluaXQ9ZnVuY3Rpb24oKXt0aGlzLmdlbmVyYXRlTW9udGhMaXN0KCksdGhpcy5pbml0aWF0ZWQ9ITB9LGUucHJvdG90eXBlLm5nT25EZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5sb2NhbGVTdWIudW5zdWJzY3JpYmUoKX0sZS5wcm90b3R5cGUuc2VsZWN0Q2FsZW5kYXJDZWxsPWZ1bmN0aW9uKGUpe3RoaXMuc2VsZWN0TW9udGgoZS52YWx1ZSl9LGUucHJvdG90eXBlLnNlbGVjdE1vbnRoPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZGF0ZVRpbWVBZGFwdGVyLmNyZWF0ZURhdGUodGhpcy5kYXRlVGltZUFkYXB0ZXIuZ2V0WWVhcih0aGlzLnBpY2tlck1vbWVudCksZSwxKTt0aGlzLm1vbnRoU2VsZWN0ZWQuZW1pdCh0KTt2YXIgbj10aGlzLmRhdGVUaW1lQWRhcHRlci5nZXROdW1EYXlzSW5Nb250aCh0KSxpPXRoaXMuZGF0ZVRpbWVBZGFwdGVyLmNyZWF0ZURhdGUodGhpcy5kYXRlVGltZUFkYXB0ZXIuZ2V0WWVhcih0aGlzLnBpY2tlck1vbWVudCksZSxNYXRoLm1pbihuLHRoaXMuZGF0ZVRpbWVBZGFwdGVyLmdldERhdGUodGhpcy5waWNrZXJNb21lbnQpKSx0aGlzLmRhdGVUaW1lQWRhcHRlci5nZXRIb3Vycyh0aGlzLnBpY2tlck1vbWVudCksdGhpcy5kYXRlVGltZUFkYXB0ZXIuZ2V0TWludXRlcyh0aGlzLnBpY2tlck1vbWVudCksdGhpcy5kYXRlVGltZUFkYXB0ZXIuZ2V0U2Vjb25kcyh0aGlzLnBpY2tlck1vbWVudCkpO3RoaXMuY2hhbmdlLmVtaXQoaSl9LGUucHJvdG90eXBlLmhhbmRsZUNhbGVuZGFyS2V5ZG93bj1mdW5jdGlvbihlKXt2YXIgdDtzd2l0Y2goZS5rZXlDb2RlKXtjYXNlIDM3OnQ9dGhpcy5kYXRlVGltZUFkYXB0ZXIuYWRkQ2FsZW5kYXJNb250aHModGhpcy5waWNrZXJNb21lbnQsLTEpLHRoaXMucGlja2VyTW9tZW50Q2hhbmdlLmVtaXQodCk7YnJlYWs7Y2FzZSAzOTp0PXRoaXMuZGF0ZVRpbWVBZGFwdGVyLmFkZENhbGVuZGFyTW9udGhzKHRoaXMucGlja2VyTW9tZW50LDEpLHRoaXMucGlja2VyTW9tZW50Q2hhbmdlLmVtaXQodCk7YnJlYWs7Y2FzZSAzODp0PXRoaXMuZGF0ZVRpbWVBZGFwdGVyLmFkZENhbGVuZGFyTW9udGhzKHRoaXMucGlja2VyTW9tZW50LC0zKSx0aGlzLnBpY2tlck1vbWVudENoYW5nZS5lbWl0KHQpO2JyZWFrO2Nhc2UgNDA6dD10aGlzLmRhdGVUaW1lQWRhcHRlci5hZGRDYWxlbmRhck1vbnRocyh0aGlzLnBpY2tlck1vbWVudCwzKSx0aGlzLnBpY2tlck1vbWVudENoYW5nZS5lbWl0KHQpO2JyZWFrO2Nhc2UgMzY6dD10aGlzLmRhdGVUaW1lQWRhcHRlci5hZGRDYWxlbmRhck1vbnRocyh0aGlzLnBpY2tlck1vbWVudCwtdGhpcy5kYXRlVGltZUFkYXB0ZXIuZ2V0TW9udGgodGhpcy5waWNrZXJNb21lbnQpKSx0aGlzLnBpY2tlck1vbWVudENoYW5nZS5lbWl0KHQpO2JyZWFrO2Nhc2UgMzU6dD10aGlzLmRhdGVUaW1lQWRhcHRlci5hZGRDYWxlbmRhck1vbnRocyh0aGlzLnBpY2tlck1vbWVudCwxMS10aGlzLmRhdGVUaW1lQWRhcHRlci5nZXRNb250aCh0aGlzLnBpY2tlck1vbWVudCkpLHRoaXMucGlja2VyTW9tZW50Q2hhbmdlLmVtaXQodCk7YnJlYWs7Y2FzZSAzMzp0PXRoaXMuZGF0ZVRpbWVBZGFwdGVyLmFkZENhbGVuZGFyWWVhcnModGhpcy5waWNrZXJNb21lbnQsZS5hbHRLZXk/LTEwOi0xKSx0aGlzLnBpY2tlck1vbWVudENoYW5nZS5lbWl0KHQpO2JyZWFrO2Nhc2UgMzQ6dD10aGlzLmRhdGVUaW1lQWRhcHRlci5hZGRDYWxlbmRhclllYXJzKHRoaXMucGlja2VyTW9tZW50LGUuYWx0S2V5PzEwOjEpLHRoaXMucGlja2VyTW9tZW50Q2hhbmdlLmVtaXQodCk7YnJlYWs7Y2FzZSAxMzp0aGlzLnNlbGVjdE1vbnRoKHRoaXMuZGF0ZVRpbWVBZGFwdGVyLmdldE1vbnRoKHRoaXMucGlja2VyTW9tZW50KSksdGhpcy5rZXlib2FyZEVudGVyLmVtaXQoKTticmVhaztkZWZhdWx0OnJldHVybn10aGlzLmZvY3VzQWN0aXZlQ2VsbCgpLGUucHJldmVudERlZmF1bHQoKX0sZS5wcm90b3R5cGUuZ2VuZXJhdGVNb250aExpc3Q9ZnVuY3Rpb24oKXtpZih0aGlzLnBpY2tlck1vbWVudCl7dGhpcy5zZXRTZWxlY3RlZE1vbnRocygpLHRoaXMudG9kYXlNb250aD10aGlzLmdldE1vbnRoSW5DdXJyZW50WWVhcih0aGlzLmRhdGVUaW1lQWRhcHRlci5ub3coKSksdGhpcy5fbW9udGhzPVtdO2Zvcih2YXIgZT0wO2U8NDtlKyspe2Zvcih2YXIgdD1bXSxuPTA7bjwzO24rKyl7dmFyIGk9biszKmUscj10aGlzLmNyZWF0ZU1vbnRoQ2VsbChpKTt0LnB1c2gocil9dGhpcy5fbW9udGhzLnB1c2godCl9fX0sZS5wcm90b3R5cGUuY3JlYXRlTW9udGhDZWxsPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZGF0ZVRpbWVBZGFwdGVyLmNyZWF0ZURhdGUodGhpcy5kYXRlVGltZUFkYXB0ZXIuZ2V0WWVhcih0aGlzLnBpY2tlck1vbWVudCksZSwxKSxuPXRoaXMuZGF0ZVRpbWVBZGFwdGVyLmZvcm1hdCh0LHRoaXMuZGF0ZVRpbWVGb3JtYXRzLm1vbnRoWWVhckExMXlMYWJlbCksaT1cIm93bC1kdC1tb250aC1cIitlO3JldHVybiBuZXcgYXIoZSx0aGlzLm1vbnRoTmFtZXNbZV0sbix0aGlzLmlzTW9udGhFbmFibGVkKGUpLCExLGkpfSxlLnByb3RvdHlwZS5pc01vbnRoRW5hYmxlZD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcy5kYXRlVGltZUFkYXB0ZXIuY3JlYXRlRGF0ZSh0aGlzLmRhdGVUaW1lQWRhcHRlci5nZXRZZWFyKHRoaXMucGlja2VyTW9tZW50KSxlLDEpO3RoaXMuZGF0ZVRpbWVBZGFwdGVyLmdldE1vbnRoKHQpPT09ZTt0PXRoaXMuZGF0ZVRpbWVBZGFwdGVyLmFkZENhbGVuZGFyRGF5cyh0LDEpKWlmKHQmJighdGhpcy5kYXRlRmlsdGVyfHx0aGlzLmRhdGVGaWx0ZXIodCkpJiYoIXRoaXMubWluRGF0ZXx8dGhpcy5kYXRlVGltZUFkYXB0ZXIuY29tcGFyZSh0LHRoaXMubWluRGF0ZSk+PTApJiYoIXRoaXMubWF4RGF0ZXx8dGhpcy5kYXRlVGltZUFkYXB0ZXIuY29tcGFyZSh0LHRoaXMubWF4RGF0ZSk8PTApKXJldHVybiEwO3JldHVybiExfSxlLnByb3RvdHlwZS5nZXRNb250aEluQ3VycmVudFllYXI9ZnVuY3Rpb24oZSl7aWYodGhpcy5nZXRWYWxpZERhdGUoZSkmJnRoaXMuZ2V0VmFsaWREYXRlKHRoaXMuX3BpY2tlck1vbWVudCkpe3ZhciB0PXRoaXMuZGF0ZVRpbWVBZGFwdGVyLmNvbXBhcmVZZWFyKGUsdGhpcy5fcGlja2VyTW9tZW50KTtyZXR1cm4gdDwwPy0xOnQ+MD8xMjp0aGlzLmRhdGVUaW1lQWRhcHRlci5nZXRNb250aChlKX1yZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUuc2V0U2VsZWN0ZWRNb250aHM9ZnVuY3Rpb24oKXt0aGlzLnNlbGVjdGVkTW9udGhzPVtdLHRoaXMuaXNJblNpbmdsZU1vZGUmJnRoaXMuc2VsZWN0ZWQmJih0aGlzLnNlbGVjdGVkTW9udGhzWzBdPXRoaXMuZ2V0TW9udGhJbkN1cnJlbnRZZWFyKHRoaXMuc2VsZWN0ZWQpKSx0aGlzLmlzSW5SYW5nZU1vZGUmJnRoaXMuc2VsZWN0ZWRzJiYodGhpcy5zZWxlY3RlZE1vbnRoc1swXT10aGlzLmdldE1vbnRoSW5DdXJyZW50WWVhcih0aGlzLnNlbGVjdGVkc1swXSksdGhpcy5zZWxlY3RlZE1vbnRoc1sxXT10aGlzLmdldE1vbnRoSW5DdXJyZW50WWVhcih0aGlzLnNlbGVjdGVkc1sxXSkpfSxlLnByb3RvdHlwZS5oYXNTYW1lWWVhcj1mdW5jdGlvbihlLHQpe3JldHVybiEoIWV8fCF0fHx0aGlzLmRhdGVUaW1lQWRhcHRlci5nZXRZZWFyKGUpIT09dGhpcy5kYXRlVGltZUFkYXB0ZXIuZ2V0WWVhcih0KSl9LGUucHJvdG90eXBlLmdldFZhbGlkRGF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5kYXRlVGltZUFkYXB0ZXIuaXNEYXRlSW5zdGFuY2UoZSkmJnRoaXMuZGF0ZVRpbWVBZGFwdGVyLmlzVmFsaWQoZSk/ZTpudWxsfSxlLnByb3RvdHlwZS5mb2N1c0FjdGl2ZUNlbGw9ZnVuY3Rpb24oKXt0aGlzLmNhbGVuZGFyQm9keUVsbS5mb2N1c0FjdGl2ZUNlbGwoKX0sZHIoW3QuSW5wdXQoKSxmcihcImRlc2lnbjp0eXBlXCIsU3RyaW5nKSxmcihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW1N0cmluZ10pXSxlLnByb3RvdHlwZSxcInNlbGVjdE1vZGVcIixudWxsKSxkcihbdC5JbnB1dCgpLGZyKFwiZGVzaWduOnR5cGVcIixPYmplY3QpLGZyKFwiZGVzaWduOnBhcmFtdHlwZXNcIixbT2JqZWN0XSldLGUucHJvdG90eXBlLFwic2VsZWN0ZWRcIixudWxsKSxkcihbdC5JbnB1dCgpLGZyKFwiZGVzaWduOnR5cGVcIixBcnJheSksZnIoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtBcnJheV0pXSxlLnByb3RvdHlwZSxcInNlbGVjdGVkc1wiLG51bGwpLGRyKFt0LklucHV0KCksZnIoXCJkZXNpZ246dHlwZVwiLE9iamVjdCksZnIoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtPYmplY3RdKV0sZS5wcm90b3R5cGUsXCJwaWNrZXJNb21lbnRcIixudWxsKSxkcihbdC5JbnB1dCgpLGZyKFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksZnIoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtGdW5jdGlvbl0pXSxlLnByb3RvdHlwZSxcImRhdGVGaWx0ZXJcIixudWxsKSxkcihbdC5JbnB1dCgpLGZyKFwiZGVzaWduOnR5cGVcIixPYmplY3QpLGZyKFwiZGVzaWduOnBhcmFtdHlwZXNcIixbT2JqZWN0XSldLGUucHJvdG90eXBlLFwibWluRGF0ZVwiLG51bGwpLGRyKFt0LklucHV0KCksZnIoXCJkZXNpZ246dHlwZVwiLE9iamVjdCksZnIoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtPYmplY3RdKV0sZS5wcm90b3R5cGUsXCJtYXhEYXRlXCIsbnVsbCksZHIoW3QuT3V0cHV0KCksZnIoXCJkZXNpZ246dHlwZVwiLE9iamVjdCldLGUucHJvdG90eXBlLFwiY2hhbmdlXCIsdm9pZCAwKSxkcihbdC5PdXRwdXQoKSxmcihcImRlc2lnbjp0eXBlXCIsT2JqZWN0KV0sZS5wcm90b3R5cGUsXCJtb250aFNlbGVjdGVkXCIsdm9pZCAwKSxkcihbdC5PdXRwdXQoKSxmcihcImRlc2lnbjp0eXBlXCIsdC5FdmVudEVtaXR0ZXIpXSxlLnByb3RvdHlwZSxcInBpY2tlck1vbWVudENoYW5nZVwiLHZvaWQgMCksZHIoW3QuT3V0cHV0KCksZnIoXCJkZXNpZ246dHlwZVwiLHQuRXZlbnRFbWl0dGVyKV0sZS5wcm90b3R5cGUsXCJrZXlib2FyZEVudGVyXCIsdm9pZCAwKSxkcihbdC5WaWV3Q2hpbGQoY3IpLGZyKFwiZGVzaWduOnR5cGVcIixjcildLGUucHJvdG90eXBlLFwiY2FsZW5kYXJCb2R5RWxtXCIsdm9pZCAwKSxkcihbdC5Ib3N0QmluZGluZyhcImNsYXNzLm93bC1kdC1jYWxlbmRhci12aWV3XCIpLGZyKFwiZGVzaWduOnR5cGVcIixCb29sZWFuKSxmcihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW10pXSxlLnByb3RvdHlwZSxcIm93bERUQ2FsZW5kYXJWaWV3XCIsbnVsbCksZT1kcihbdC5Db21wb25lbnQoe3NlbGVjdG9yOlwib3dsLWRhdGUtdGltZS15ZWFyLXZpZXdcIixleHBvcnRBczpcIm93bE1vbnRoVmlld1wiLHRlbXBsYXRlOic8dGFibGUgY2xhc3M9XCJvd2wtZHQtY2FsZW5kYXItdGFibGUgb3dsLWR0LWNhbGVuZGFyLXllYXItdGFibGVcIj48dGhlYWQgY2xhc3M9XCJvd2wtZHQtY2FsZW5kYXItaGVhZGVyXCI+PHRyPjx0aCBjbGFzcz1cIm93bC1kdC1jYWxlbmRhci10YWJsZS1kaXZpZGVyXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCIgY29sc3Bhbj1cIjNcIj48L3RoPjwvdHI+PC90aGVhZD48dGJvZHkgb3dsLWRhdGUtdGltZS1jYWxlbmRhci1ib2R5IHJvbGU9XCJncmlkXCIgW3Jvd3NdPVwibW9udGhzXCIgW251bUNvbHNdPVwiM1wiIFtjZWxsUmF0aW9dPVwiMyAvIDdcIiBbYWN0aXZlQ2VsbF09XCJhY3RpdmVDZWxsXCIgW3RvZGF5VmFsdWVdPVwidG9kYXlNb250aFwiIFtzZWxlY3RlZFZhbHVlc109XCJzZWxlY3RlZE1vbnRoc1wiIFtzZWxlY3RNb2RlXT1cInNlbGVjdE1vZGVcIiAoa2V5ZG93bik9XCJoYW5kbGVDYWxlbmRhcktleWRvd24oJGV2ZW50KVwiIChzZWxlY3QpPVwic2VsZWN0Q2FsZW5kYXJDZWxsKCRldmVudClcIj48L3Rib2R5PjwvdGFibGU+JyxzdHlsZXM6W1wiXCJdLHByZXNlcnZlV2hpdGVzcGFjZXM6ITEsY2hhbmdlRGV0ZWN0aW9uOnQuQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNofSksbXIoMSx0Lk9wdGlvbmFsKCkpLG1yKDIsdC5PcHRpb25hbCgpKSxtcigyLHQuSW5qZWN0KHRpKSksZnIoXCJkZXNpZ246cGFyYW10eXBlc1wiLFt0LkNoYW5nZURldGVjdG9yUmVmLGVpLE9iamVjdF0pXSxlKX0oKSxncj1mdW5jdGlvbihlLHQsbixpKXt2YXIgcixvPWFyZ3VtZW50cy5sZW5ndGgscz1vPDM/dDpudWxsPT09aT9pPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxuKTppO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBSZWZsZWN0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBSZWZsZWN0LmRlY29yYXRlKXM9UmVmbGVjdC5kZWNvcmF0ZShlLHQsbixpKTtlbHNlIGZvcih2YXIgYT1lLmxlbmd0aC0xO2E+PTA7YS0tKShyPWVbYV0pJiYocz0obzwzP3Iocyk6bz4zP3IodCxuLHMpOnIodCxuKSl8fHMpO3JldHVybiBvPjMmJnMmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG4scyksc30sYnI9ZnVuY3Rpb24oZSx0KXtpZihcIm9iamVjdFwiPT10eXBlb2YgUmVmbGVjdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSlyZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShlLHQpfSx2cj1mdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbihuLGkpe3QobixpLGUpfX0sX3I9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsbixpKXt0aGlzLmNkUmVmPWUsdGhpcy5waWNrZXJJbnRsPW4sdGhpcy5kYXRlVGltZUFkYXB0ZXI9aSx0aGlzLl9zZWxlY3RNb2RlPVwic2luZ2xlXCIsdGhpcy5fc2VsZWN0ZWRzPVtdLHRoaXMuaW5pdGlhdGVkPSExLHRoaXMuY2hhbmdlPW5ldyB0LkV2ZW50RW1pdHRlcix0aGlzLnllYXJTZWxlY3RlZD1uZXcgdC5FdmVudEVtaXR0ZXIsdGhpcy5waWNrZXJNb21lbnRDaGFuZ2U9bmV3IHQuRXZlbnRFbWl0dGVyLHRoaXMua2V5Ym9hcmRFbnRlcj1uZXcgdC5FdmVudEVtaXR0ZXJ9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcInNlbGVjdE1vZGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NlbGVjdE1vZGV9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9zZWxlY3RNb2RlPWUsdGhpcy5pbml0aWF0ZWQmJih0aGlzLnNldFNlbGVjdGVkWWVhcnMoKSx0aGlzLmNkUmVmLm1hcmtGb3JDaGVjaygpKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJzZWxlY3RlZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2VsZWN0ZWR9LHNldDpmdW5jdGlvbihlKXt2YXIgdD10aGlzLl9zZWxlY3RlZDtlPXRoaXMuZGF0ZVRpbWVBZGFwdGVyLmRlc2VyaWFsaXplKGUpLHRoaXMuX3NlbGVjdGVkPXRoaXMuZ2V0VmFsaWREYXRlKGUpLHRoaXMuZGF0ZVRpbWVBZGFwdGVyLmlzU2FtZURheSh0LHRoaXMuX3NlbGVjdGVkKXx8dGhpcy5zZXRTZWxlY3RlZFllYXJzKCl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwic2VsZWN0ZWRzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZWxlY3RlZHN9LHNldDpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3RoaXMuX3NlbGVjdGVkcz1lLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZT10LmRhdGVUaW1lQWRhcHRlci5kZXNlcmlhbGl6ZShlKSx0LmdldFZhbGlkRGF0ZShlKX0pLHRoaXMuc2V0U2VsZWN0ZWRZZWFycygpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcInBpY2tlck1vbWVudFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGlja2VyTW9tZW50fSxzZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fcGlja2VyTW9tZW50O2U9dGhpcy5kYXRlVGltZUFkYXB0ZXIuZGVzZXJpYWxpemUoZSksdGhpcy5fcGlja2VyTW9tZW50PXRoaXMuZ2V0VmFsaWREYXRlKGUpfHx0aGlzLmRhdGVUaW1lQWRhcHRlci5ub3coKSx0JiZ0aGlzLl9waWNrZXJNb21lbnQmJiF0aGlzLmlzU2FtZVllYXJMaXN0KHQsdGhpcy5fcGlja2VyTW9tZW50KSYmdGhpcy5nZW5lcmF0ZVllYXJMaXN0KCl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiZGF0ZUZpbHRlclwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGF0ZUZpbHRlcn0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2RhdGVGaWx0ZXI9ZSx0aGlzLmluaXRpYXRlZCYmdGhpcy5nZW5lcmF0ZVllYXJMaXN0KCl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwibWluRGF0ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWluRGF0ZX0sc2V0OmZ1bmN0aW9uKGUpe2U9dGhpcy5kYXRlVGltZUFkYXB0ZXIuZGVzZXJpYWxpemUoZSksdGhpcy5fbWluRGF0ZT10aGlzLmdldFZhbGlkRGF0ZShlKSx0aGlzLmluaXRpYXRlZCYmdGhpcy5nZW5lcmF0ZVllYXJMaXN0KCl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwibWF4RGF0ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWF4RGF0ZX0sc2V0OmZ1bmN0aW9uKGUpe2U9dGhpcy5kYXRlVGltZUFkYXB0ZXIuZGVzZXJpYWxpemUoZSksdGhpcy5fbWF4RGF0ZT10aGlzLmdldFZhbGlkRGF0ZShlKSx0aGlzLmluaXRpYXRlZCYmdGhpcy5nZW5lcmF0ZVllYXJMaXN0KCl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwidG9kYXlZZWFyXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90b2RheVllYXJ9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwieWVhcnNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3llYXJzfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcInNlbGVjdGVkWWVhcnNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NlbGVjdGVkWWVhcnN9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiaXNJblNpbmdsZU1vZGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuXCJzaW5nbGVcIj09PXRoaXMuc2VsZWN0TW9kZX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJpc0luUmFuZ2VNb2RlXCIse2dldDpmdW5jdGlvbigpe3JldHVyblwicmFuZ2VcIj09PXRoaXMuc2VsZWN0TW9kZXx8XCJyYW5nZUZyb21cIj09PXRoaXMuc2VsZWN0TW9kZXx8XCJyYW5nZVRvXCI9PT10aGlzLnNlbGVjdE1vZGV9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiYWN0aXZlQ2VsbFwiLHtnZXQ6ZnVuY3Rpb24oKXtpZih0aGlzLl9waWNrZXJNb21lbnQpcmV0dXJuIHRoaXMuZGF0ZVRpbWVBZGFwdGVyLmdldFllYXIodGhpcy5fcGlja2VyTW9tZW50KSUyMX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJ0YWJsZUhlYWRlclwiLHtnZXQ6ZnVuY3Rpb24oKXtpZih0aGlzLl95ZWFycyYmdGhpcy5feWVhcnMubGVuZ3RoPjApcmV0dXJuIHRoaXMuX3llYXJzWzBdWzBdLmRpc3BsYXlWYWx1ZStcIiB+IFwiK3RoaXMuX3llYXJzWzZdWzJdLmRpc3BsYXlWYWx1ZX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJwcmV2QnV0dG9uTGFiZWxcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGlja2VySW50bC5wcmV2TXVsdGlZZWFyTGFiZWx9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwibmV4dEJ1dHRvbkxhYmVsXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBpY2tlckludGwubmV4dE11bHRpWWVhckxhYmVsfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcIm93bERUQ2FsZW5kYXJWaWV3XCIse2dldDpmdW5jdGlvbigpe3JldHVybiEwfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcIm93bERUQ2FsZW5kYXJNdWx0aVllYXJWaWV3XCIse2dldDpmdW5jdGlvbigpe3JldHVybiEwfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLm5nT25Jbml0PWZ1bmN0aW9uKCl7fSxlLnByb3RvdHlwZS5uZ0FmdGVyQ29udGVudEluaXQ9ZnVuY3Rpb24oKXt0aGlzLl90b2RheVllYXI9dGhpcy5kYXRlVGltZUFkYXB0ZXIuZ2V0WWVhcih0aGlzLmRhdGVUaW1lQWRhcHRlci5ub3coKSksdGhpcy5nZW5lcmF0ZVllYXJMaXN0KCksdGhpcy5pbml0aWF0ZWQ9ITB9LGUucHJvdG90eXBlLnNlbGVjdENhbGVuZGFyQ2VsbD1mdW5jdGlvbihlKXt0aGlzLnNlbGVjdFllYXIoZS52YWx1ZSl9LGUucHJvdG90eXBlLnNlbGVjdFllYXI9ZnVuY3Rpb24oZSl7dGhpcy55ZWFyU2VsZWN0ZWQuZW1pdCh0aGlzLmRhdGVUaW1lQWRhcHRlci5jcmVhdGVEYXRlKGUsMCwxKSk7dmFyIHQ9dGhpcy5kYXRlVGltZUFkYXB0ZXIuY3JlYXRlRGF0ZShlLHRoaXMuZGF0ZVRpbWVBZGFwdGVyLmdldE1vbnRoKHRoaXMucGlja2VyTW9tZW50KSwxKSxuPXRoaXMuZGF0ZVRpbWVBZGFwdGVyLmdldE51bURheXNJbk1vbnRoKHQpLGk9dGhpcy5kYXRlVGltZUFkYXB0ZXIuY3JlYXRlRGF0ZShlLHRoaXMuZGF0ZVRpbWVBZGFwdGVyLmdldE1vbnRoKHRoaXMucGlja2VyTW9tZW50KSxNYXRoLm1pbihuLHRoaXMuZGF0ZVRpbWVBZGFwdGVyLmdldERhdGUodGhpcy5waWNrZXJNb21lbnQpKSx0aGlzLmRhdGVUaW1lQWRhcHRlci5nZXRIb3Vycyh0aGlzLnBpY2tlck1vbWVudCksdGhpcy5kYXRlVGltZUFkYXB0ZXIuZ2V0TWludXRlcyh0aGlzLnBpY2tlck1vbWVudCksdGhpcy5kYXRlVGltZUFkYXB0ZXIuZ2V0U2Vjb25kcyh0aGlzLnBpY2tlck1vbWVudCkpO3RoaXMuY2hhbmdlLmVtaXQoaSl9LGUucHJvdG90eXBlLnByZXZZZWFyTGlzdD1mdW5jdGlvbihlKXt0aGlzLl9waWNrZXJNb21lbnQ9dGhpcy5kYXRlVGltZUFkYXB0ZXIuYWRkQ2FsZW5kYXJZZWFycyh0aGlzLnBpY2tlck1vbWVudCwtMjEpLHRoaXMuZ2VuZXJhdGVZZWFyTGlzdCgpLGUucHJldmVudERlZmF1bHQoKX0sZS5wcm90b3R5cGUubmV4dFllYXJMaXN0PWZ1bmN0aW9uKGUpe3RoaXMuX3BpY2tlck1vbWVudD10aGlzLmRhdGVUaW1lQWRhcHRlci5hZGRDYWxlbmRhclllYXJzKHRoaXMucGlja2VyTW9tZW50LDIxKSx0aGlzLmdlbmVyYXRlWWVhckxpc3QoKSxlLnByZXZlbnREZWZhdWx0KCl9LGUucHJvdG90eXBlLmdlbmVyYXRlWWVhckxpc3Q9ZnVuY3Rpb24oKXt0aGlzLl95ZWFycz1bXTtmb3IodmFyIGU9dGhpcy5kYXRlVGltZUFkYXB0ZXIuZ2V0WWVhcih0aGlzLl9waWNrZXJNb21lbnQpLHQ9ZSUyMSxuPTA7bjw3O24rKyl7Zm9yKHZhciBpPVtdLHI9MDtyPDM7cisrKXt2YXIgbz1lLXQrKHIrMypuKSxzPXRoaXMuY3JlYXRlWWVhckNlbGwobyk7aS5wdXNoKHMpfXRoaXMuX3llYXJzLnB1c2goaSl9fSxlLnByb3RvdHlwZS5wcmV2aW91c0VuYWJsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5taW5EYXRlfHwoIXRoaXMubWluRGF0ZXx8IXRoaXMuaXNTYW1lWWVhckxpc3QodGhpcy5fcGlja2VyTW9tZW50LHRoaXMubWluRGF0ZSkpfSxlLnByb3RvdHlwZS5uZXh0RW5hYmxlZD1mdW5jdGlvbigpe3JldHVybiF0aGlzLm1heERhdGV8fCF0aGlzLmlzU2FtZVllYXJMaXN0KHRoaXMuX3BpY2tlck1vbWVudCx0aGlzLm1heERhdGUpfSxlLnByb3RvdHlwZS5oYW5kbGVDYWxlbmRhcktleWRvd249ZnVuY3Rpb24oZSl7dmFyIHQ7c3dpdGNoKGUua2V5Q29kZSl7Y2FzZSAzNzp0PXRoaXMuZGF0ZVRpbWVBZGFwdGVyLmFkZENhbGVuZGFyWWVhcnModGhpcy5fcGlja2VyTW9tZW50LC0xKSx0aGlzLnBpY2tlck1vbWVudENoYW5nZS5lbWl0KHQpO2JyZWFrO2Nhc2UgMzk6dD10aGlzLmRhdGVUaW1lQWRhcHRlci5hZGRDYWxlbmRhclllYXJzKHRoaXMuX3BpY2tlck1vbWVudCwxKSx0aGlzLnBpY2tlck1vbWVudENoYW5nZS5lbWl0KHQpO2JyZWFrO2Nhc2UgMzg6dD10aGlzLmRhdGVUaW1lQWRhcHRlci5hZGRDYWxlbmRhclllYXJzKHRoaXMuX3BpY2tlck1vbWVudCwtMyksdGhpcy5waWNrZXJNb21lbnRDaGFuZ2UuZW1pdCh0KTticmVhaztjYXNlIDQwOnQ9dGhpcy5kYXRlVGltZUFkYXB0ZXIuYWRkQ2FsZW5kYXJZZWFycyh0aGlzLl9waWNrZXJNb21lbnQsMyksdGhpcy5waWNrZXJNb21lbnRDaGFuZ2UuZW1pdCh0KTticmVhaztjYXNlIDM2OnQ9dGhpcy5kYXRlVGltZUFkYXB0ZXIuYWRkQ2FsZW5kYXJZZWFycyh0aGlzLl9waWNrZXJNb21lbnQsLXRoaXMuZGF0ZVRpbWVBZGFwdGVyLmdldFllYXIodGhpcy5fcGlja2VyTW9tZW50KSUyMSksdGhpcy5waWNrZXJNb21lbnRDaGFuZ2UuZW1pdCh0KTticmVhaztjYXNlIDM1OnQ9dGhpcy5kYXRlVGltZUFkYXB0ZXIuYWRkQ2FsZW5kYXJZZWFycyh0aGlzLl9waWNrZXJNb21lbnQsMjEtdGhpcy5kYXRlVGltZUFkYXB0ZXIuZ2V0WWVhcih0aGlzLl9waWNrZXJNb21lbnQpJTIxLTEpLHRoaXMucGlja2VyTW9tZW50Q2hhbmdlLmVtaXQodCk7YnJlYWs7Y2FzZSAzMzp0PXRoaXMuZGF0ZVRpbWVBZGFwdGVyLmFkZENhbGVuZGFyWWVhcnModGhpcy5waWNrZXJNb21lbnQsZS5hbHRLZXk/LTIxMDotMjEpLHRoaXMucGlja2VyTW9tZW50Q2hhbmdlLmVtaXQodCk7YnJlYWs7Y2FzZSAzNDp0PXRoaXMuZGF0ZVRpbWVBZGFwdGVyLmFkZENhbGVuZGFyWWVhcnModGhpcy5waWNrZXJNb21lbnQsZS5hbHRLZXk/MjEwOjIxKSx0aGlzLnBpY2tlck1vbWVudENoYW5nZS5lbWl0KHQpO2JyZWFrO2Nhc2UgMTM6dGhpcy5zZWxlY3RZZWFyKHRoaXMuZGF0ZVRpbWVBZGFwdGVyLmdldFllYXIodGhpcy5fcGlja2VyTW9tZW50KSksdGhpcy5rZXlib2FyZEVudGVyLmVtaXQoKTticmVhaztkZWZhdWx0OnJldHVybn10aGlzLmZvY3VzQWN0aXZlQ2VsbCgpLGUucHJldmVudERlZmF1bHQoKX0sZS5wcm90b3R5cGUuY3JlYXRlWWVhckNlbGw9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5kYXRlVGltZUFkYXB0ZXIuY3JlYXRlRGF0ZShlLDAsMSksbj10aGlzLmRhdGVUaW1lQWRhcHRlci5nZXRZZWFyTmFtZSh0KSxpPVwib3dsLWR0LXllYXItXCIrZTtyZXR1cm4gbmV3IGFyKGUsZS50b1N0cmluZygpLG4sdGhpcy5pc1llYXJFbmFibGVkKGUpLCExLGkpfSxlLnByb3RvdHlwZS5zZXRTZWxlY3RlZFllYXJzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLl9zZWxlY3RlZFllYXJzPVtdLHRoaXMuaXNJblNpbmdsZU1vZGUmJnRoaXMuc2VsZWN0ZWQmJih0aGlzLl9zZWxlY3RlZFllYXJzWzBdPXRoaXMuZGF0ZVRpbWVBZGFwdGVyLmdldFllYXIodGhpcy5zZWxlY3RlZCkpLHRoaXMuaXNJblJhbmdlTW9kZSYmdGhpcy5zZWxlY3RlZHMmJih0aGlzLl9zZWxlY3RlZFllYXJzPXRoaXMuc2VsZWN0ZWRzLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gZS5kYXRlVGltZUFkYXB0ZXIuaXNWYWxpZCh0KT9lLmRhdGVUaW1lQWRhcHRlci5nZXRZZWFyKHQpOm51bGx9KSl9LGUucHJvdG90eXBlLmlzWWVhckVuYWJsZWQ9ZnVuY3Rpb24oZSl7aWYodm9pZCAwPT09ZXx8bnVsbD09PWV8fHRoaXMubWF4RGF0ZSYmZT50aGlzLmRhdGVUaW1lQWRhcHRlci5nZXRZZWFyKHRoaXMubWF4RGF0ZSl8fHRoaXMubWluRGF0ZSYmZTx0aGlzLmRhdGVUaW1lQWRhcHRlci5nZXRZZWFyKHRoaXMubWluRGF0ZSkpcmV0dXJuITE7aWYoIXRoaXMuZGF0ZUZpbHRlcilyZXR1cm4hMDtmb3IodmFyIHQ9dGhpcy5kYXRlVGltZUFkYXB0ZXIuY3JlYXRlRGF0ZShlLDAsMSk7dGhpcy5kYXRlVGltZUFkYXB0ZXIuZ2V0WWVhcih0KT09ZTt0PXRoaXMuZGF0ZVRpbWVBZGFwdGVyLmFkZENhbGVuZGFyRGF5cyh0LDEpKWlmKHRoaXMuZGF0ZUZpbHRlcih0KSlyZXR1cm4hMDtyZXR1cm4hMX0sZS5wcm90b3R5cGUuaXNTYW1lWWVhckxpc3Q9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gTWF0aC5mbG9vcih0aGlzLmRhdGVUaW1lQWRhcHRlci5nZXRZZWFyKGUpLzIxKT09PU1hdGguZmxvb3IodGhpcy5kYXRlVGltZUFkYXB0ZXIuZ2V0WWVhcih0KS8yMSl9LGUucHJvdG90eXBlLmdldFZhbGlkRGF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5kYXRlVGltZUFkYXB0ZXIuaXNEYXRlSW5zdGFuY2UoZSkmJnRoaXMuZGF0ZVRpbWVBZGFwdGVyLmlzVmFsaWQoZSk/ZTpudWxsfSxlLnByb3RvdHlwZS5mb2N1c0FjdGl2ZUNlbGw9ZnVuY3Rpb24oKXt0aGlzLmNhbGVuZGFyQm9keUVsbS5mb2N1c0FjdGl2ZUNlbGwoKX0sZ3IoW3QuSW5wdXQoKSxicihcImRlc2lnbjp0eXBlXCIsU3RyaW5nKSxicihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW1N0cmluZ10pXSxlLnByb3RvdHlwZSxcInNlbGVjdE1vZGVcIixudWxsKSxncihbdC5JbnB1dCgpLGJyKFwiZGVzaWduOnR5cGVcIixPYmplY3QpLGJyKFwiZGVzaWduOnBhcmFtdHlwZXNcIixbT2JqZWN0XSldLGUucHJvdG90eXBlLFwic2VsZWN0ZWRcIixudWxsKSxncihbdC5JbnB1dCgpLGJyKFwiZGVzaWduOnR5cGVcIixBcnJheSksYnIoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtBcnJheV0pXSxlLnByb3RvdHlwZSxcInNlbGVjdGVkc1wiLG51bGwpLGdyKFt0LklucHV0KCksYnIoXCJkZXNpZ246dHlwZVwiLE9iamVjdCksYnIoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtPYmplY3RdKV0sZS5wcm90b3R5cGUsXCJwaWNrZXJNb21lbnRcIixudWxsKSxncihbdC5JbnB1dCgpLGJyKFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksYnIoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtGdW5jdGlvbl0pXSxlLnByb3RvdHlwZSxcImRhdGVGaWx0ZXJcIixudWxsKSxncihbdC5JbnB1dCgpLGJyKFwiZGVzaWduOnR5cGVcIixPYmplY3QpLGJyKFwiZGVzaWduOnBhcmFtdHlwZXNcIixbT2JqZWN0XSldLGUucHJvdG90eXBlLFwibWluRGF0ZVwiLG51bGwpLGdyKFt0LklucHV0KCksYnIoXCJkZXNpZ246dHlwZVwiLE9iamVjdCksYnIoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtPYmplY3RdKV0sZS5wcm90b3R5cGUsXCJtYXhEYXRlXCIsbnVsbCksZ3IoW3QuT3V0cHV0KCksYnIoXCJkZXNpZ246dHlwZVwiLE9iamVjdCldLGUucHJvdG90eXBlLFwiY2hhbmdlXCIsdm9pZCAwKSxncihbdC5PdXRwdXQoKSxicihcImRlc2lnbjp0eXBlXCIsT2JqZWN0KV0sZS5wcm90b3R5cGUsXCJ5ZWFyU2VsZWN0ZWRcIix2b2lkIDApLGdyKFt0Lk91dHB1dCgpLGJyKFwiZGVzaWduOnR5cGVcIix0LkV2ZW50RW1pdHRlcildLGUucHJvdG90eXBlLFwicGlja2VyTW9tZW50Q2hhbmdlXCIsdm9pZCAwKSxncihbdC5PdXRwdXQoKSxicihcImRlc2lnbjp0eXBlXCIsdC5FdmVudEVtaXR0ZXIpXSxlLnByb3RvdHlwZSxcImtleWJvYXJkRW50ZXJcIix2b2lkIDApLGdyKFt0LlZpZXdDaGlsZChjciksYnIoXCJkZXNpZ246dHlwZVwiLGNyKV0sZS5wcm90b3R5cGUsXCJjYWxlbmRhckJvZHlFbG1cIix2b2lkIDApLGdyKFt0Lkhvc3RCaW5kaW5nKFwiY2xhc3Mub3dsLWR0LWNhbGVuZGFyLXZpZXdcIiksYnIoXCJkZXNpZ246dHlwZVwiLEJvb2xlYW4pLGJyKFwiZGVzaWduOnBhcmFtdHlwZXNcIixbXSldLGUucHJvdG90eXBlLFwib3dsRFRDYWxlbmRhclZpZXdcIixudWxsKSxncihbdC5Ib3N0QmluZGluZyhcImNsYXNzLm93bC1kdC1jYWxlbmRhci1tdWx0aS15ZWFyLXZpZXdcIiksYnIoXCJkZXNpZ246dHlwZVwiLEJvb2xlYW4pLGJyKFwiZGVzaWduOnBhcmFtdHlwZXNcIixbXSldLGUucHJvdG90eXBlLFwib3dsRFRDYWxlbmRhck11bHRpWWVhclZpZXdcIixudWxsKSxlPWdyKFt0LkNvbXBvbmVudCh7c2VsZWN0b3I6XCJvd2wtZGF0ZS10aW1lLW11bHRpLXllYXItdmlld1wiLHRlbXBsYXRlOic8YnV0dG9uIGNsYXNzPVwib3dsLWR0LWNvbnRyb2wtYnV0dG9uIG93bC1kdC1jb250cm9sLWFycm93LWJ1dHRvblwiIFtkaXNhYmxlZF09XCIhcHJldmlvdXNFbmFibGVkKClcIiBbYXR0ci5hcmlhLWxhYmVsXT1cInByZXZCdXR0b25MYWJlbFwiIHR5cGU9XCJidXR0b25cIiB0YWJpbmRleD1cIjBcIiAoY2xpY2spPVwicHJldlllYXJMaXN0KCRldmVudClcIj48c3BhbiBjbGFzcz1cIm93bC1kdC1jb250cm9sLWJ1dHRvbi1jb250ZW50XCIgdGFiaW5kZXg9XCItMVwiPlxceDNjIS0tIDxlZGl0b3ItZm9sZCBkZXNjPVwiU1ZHIEFycm93IExlZnRcIj4gLS1cXHgzZSA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB4bWxuczp4bGluaz1cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIiB2ZXJzaW9uPVwiMS4xXCIgeD1cIjBweFwiIHk9XCIwcHhcIiB2aWV3Qm94PVwiMCAwIDI1MC43MzggMjUwLjczOFwiIHN0eWxlPVwiZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAyNTAuNzM4IDI1MC43Mzg7XCIgeG1sOnNwYWNlPVwicHJlc2VydmVcIiB3aWR0aD1cIjEwMCVcIiBoZWlnaHQ9XCIxMDAlXCI+PHBhdGggc3R5bGU9XCJmaWxsLXJ1bGU6IGV2ZW5vZGQ7IGNsaXAtcnVsZTogZXZlbm9kZDtcIiBkPVwiTTk2LjYzMywxMjUuMzY5bDk1LjA1My05NC41MzNjNy4xMDEtNy4wNTUsNy4xMDEtMTguNDkyLDAtMjUuNTQ2ICAgYy03LjEtNy4wNTQtMTguNjEzLTcuMDU0LTI1LjcxNCwwTDU4Ljk4OSwxMTEuNjg5Yy0zLjc4NCwzLjc1OS01LjQ4Nyw4Ljc1OS01LjIzOCwxMy42OGMtMC4yNDksNC45MjIsMS40NTQsOS45MjEsNS4yMzgsMTMuNjgxICAgbDEwNi45ODMsMTA2LjM5OGM3LjEwMSw3LjA1NSwxOC42MTMsNy4wNTUsMjUuNzE0LDBjNy4xMDEtNy4wNTQsNy4xMDEtMTguNDkxLDAtMjUuNTQ0TDk2LjYzMywxMjUuMzY5elwiLz48L3N2Zz5cXHgzYyEtLSA8L2VkaXRvci1mb2xkPiAtLVxceDNlPC9zcGFuPjwvYnV0dG9uPjx0YWJsZSBjbGFzcz1cIm93bC1kdC1jYWxlbmRhci10YWJsZSBvd2wtZHQtY2FsZW5kYXItbXVsdGkteWVhci10YWJsZVwiPjx0aGVhZCBjbGFzcz1cIm93bC1kdC1jYWxlbmRhci1oZWFkZXJcIj48dHI+PHRoIGNvbHNwYW49XCIzXCI+e3t0YWJsZUhlYWRlcn19PC90aD48L3RyPjwvdGhlYWQ+PHRib2R5IG93bC1kYXRlLXRpbWUtY2FsZW5kYXItYm9keSByb2xlPVwiZ3JpZFwiIFtyb3dzXT1cInllYXJzXCIgW251bUNvbHNdPVwiM1wiIFtjZWxsUmF0aW9dPVwiMyAvIDdcIiBbYWN0aXZlQ2VsbF09XCJhY3RpdmVDZWxsXCIgW3RvZGF5VmFsdWVdPVwidG9kYXlZZWFyXCIgW3NlbGVjdGVkVmFsdWVzXT1cInNlbGVjdGVkWWVhcnNcIiBbc2VsZWN0TW9kZV09XCJzZWxlY3RNb2RlXCIgKGtleWRvd24pPVwiaGFuZGxlQ2FsZW5kYXJLZXlkb3duKCRldmVudClcIiAoc2VsZWN0KT1cInNlbGVjdENhbGVuZGFyQ2VsbCgkZXZlbnQpXCI+PC90Ym9keT48L3RhYmxlPjxidXR0b24gY2xhc3M9XCJvd2wtZHQtY29udHJvbC1idXR0b24gb3dsLWR0LWNvbnRyb2wtYXJyb3ctYnV0dG9uXCIgW2Rpc2FibGVkXT1cIiFuZXh0RW5hYmxlZCgpXCIgW2F0dHIuYXJpYS1sYWJlbF09XCJuZXh0QnV0dG9uTGFiZWxcIiB0eXBlPVwiYnV0dG9uXCIgdGFiaW5kZXg9XCIwXCIgKGNsaWNrKT1cIm5leHRZZWFyTGlzdCgkZXZlbnQpXCI+PHNwYW4gY2xhc3M9XCJvd2wtZHQtY29udHJvbC1idXR0b24tY29udGVudFwiIHRhYmluZGV4PVwiLTFcIj5cXHgzYyEtLSA8ZWRpdG9yLWZvbGQgZGVzYz1cIlNWRyBBcnJvdyBSaWdodFwiPiAtLVxceDNlIDxzdmcgdmVyc2lvbj1cIjEuMVwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB4bWxuczp4bGluaz1cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIiB4PVwiMHB4XCIgeT1cIjBweFwiIHZpZXdCb3g9XCIwIDAgMjUwLjczOCAyNTAuNzM4XCIgc3R5bGU9XCJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDI1MC43MzggMjUwLjczODtcIiB4bWw6c3BhY2U9XCJwcmVzZXJ2ZVwiPjxwYXRoIHN0eWxlPVwiZmlsbC1ydWxlOmV2ZW5vZGQ7Y2xpcC1ydWxlOmV2ZW5vZGQ7XCIgZD1cIk0xOTEuNzUsMTExLjY4OUw4NC43NjYsNS4yOTFjLTcuMS03LjA1NS0xOC42MTMtNy4wNTUtMjUuNzEzLDBcXG4gICAgICAgICAgICAgICAgYy03LjEwMSw3LjA1NC03LjEwMSwxOC40OSwwLDI1LjU0NGw5NS4wNTMsOTQuNTM0bC05NS4wNTMsOTQuNTMzYy03LjEwMSw3LjA1NC03LjEwMSwxOC40OTEsMCwyNS41NDVcXG4gICAgICAgICAgICAgICAgYzcuMSw3LjA1NCwxOC42MTMsNy4wNTQsMjUuNzEzLDBMMTkxLjc1LDEzOS4wNWMzLjc4NC0zLjc1OSw1LjQ4Ny04Ljc1OSw1LjIzOC0xMy42ODFcXG4gICAgICAgICAgICAgICAgQzE5Ny4yMzcsMTIwLjQ0NywxOTUuNTM0LDExNS40NDgsMTkxLjc1LDExMS42ODl6XCIvPjwvc3ZnPlxceDNjIS0tIDwvZWRpdG9yLWZvbGQ+IC0tXFx4M2U8L3NwYW4+PC9idXR0b24+JyxzdHlsZXM6W1wiXCJdLHByZXNlcnZlV2hpdGVzcGFjZXM6ITEsY2hhbmdlRGV0ZWN0aW9uOnQuQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNofSksdnIoMix0Lk9wdGlvbmFsKCkpLGJyKFwiZGVzaWduOnBhcmFtdHlwZXNcIixbdC5DaGFuZ2VEZXRlY3RvclJlZixHbixlaV0pXSxlKX0oKSx3cj1mdW5jdGlvbihlLHQsbixpKXt2YXIgcixvPWFyZ3VtZW50cy5sZW5ndGgscz1vPDM/dDpudWxsPT09aT9pPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxuKTppO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBSZWZsZWN0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBSZWZsZWN0LmRlY29yYXRlKXM9UmVmbGVjdC5kZWNvcmF0ZShlLHQsbixpKTtlbHNlIGZvcih2YXIgYT1lLmxlbmd0aC0xO2E+PTA7YS0tKShyPWVbYV0pJiYocz0obzwzP3Iocyk6bz4zP3IodCxuLHMpOnIodCxuKSl8fHMpO3JldHVybiBvPjMmJnMmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG4scyksc30sT3I9ZnVuY3Rpb24oZSx0KXtpZihcIm9iamVjdFwiPT10eXBlb2YgUmVmbGVjdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSlyZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShlLHQpfSxrcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLnNob3dEaXZpZGVyPSExLHRoaXMuc3RlcD0xLHRoaXMudmFsdWVDaGFuZ2U9bmV3IHQuRXZlbnRFbWl0dGVyLHRoaXMuaW5wdXRDaGFuZ2U9bmV3IHQuRXZlbnRFbWl0dGVyLHRoaXMuaW5wdXRTdHJlYW09bmV3IFAsdGhpcy5pbnB1dFN0cmVhbVN1Yj1fLkVNUFRZfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJkaXNwbGF5VmFsdWVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYm94VmFsdWV8fHRoaXMudmFsdWV9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwib3dsRFRUaW1lckJveENsYXNzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiEwfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLm5nT25Jbml0PWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLmlucHV0U3RyZWFtU3ViPXRoaXMuaW5wdXRTdHJlYW0ucGlwZShBZSg1MDApLFZlKCkpLnN1YnNjcmliZShmdW5jdGlvbih0KXtpZih0KXt2YXIgbj1mdCh0LDApO2UudXBkYXRlVmFsdWVWaWFJbnB1dChuKX19KX0sZS5wcm90b3R5cGUubmdPbkRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmlucHV0U3RyZWFtU3ViLnVuc3Vic2NyaWJlKCl9LGUucHJvdG90eXBlLnVwQnRuQ2xpY2tlZD1mdW5jdGlvbigpe3RoaXMudXBkYXRlVmFsdWUodGhpcy52YWx1ZSt0aGlzLnN0ZXApfSxlLnByb3RvdHlwZS5kb3duQnRuQ2xpY2tlZD1mdW5jdGlvbigpe3RoaXMudXBkYXRlVmFsdWUodGhpcy52YWx1ZS10aGlzLnN0ZXApfSxlLnByb3RvdHlwZS5oYW5kbGVJbnB1dENoYW5nZT1mdW5jdGlvbihlKXt0aGlzLmlucHV0U3RyZWFtLm5leHQoZSl9LGUucHJvdG90eXBlLnVwZGF0ZVZhbHVlPWZ1bmN0aW9uKGUpe3RoaXMudmFsdWVDaGFuZ2UuZW1pdChlKX0sZS5wcm90b3R5cGUudXBkYXRlVmFsdWVWaWFJbnB1dD1mdW5jdGlvbihlKXtlPnRoaXMubWF4fHxlPHRoaXMubWlufHx0aGlzLmlucHV0Q2hhbmdlLmVtaXQoZSl9LHdyKFt0LklucHV0KCksT3IoXCJkZXNpZ246dHlwZVwiLE9iamVjdCldLGUucHJvdG90eXBlLFwic2hvd0RpdmlkZXJcIix2b2lkIDApLHdyKFt0LklucHV0KCksT3IoXCJkZXNpZ246dHlwZVwiLFN0cmluZyldLGUucHJvdG90eXBlLFwidXBCdG5BcmlhTGFiZWxcIix2b2lkIDApLHdyKFt0LklucHV0KCksT3IoXCJkZXNpZ246dHlwZVwiLEJvb2xlYW4pXSxlLnByb3RvdHlwZSxcInVwQnRuRGlzYWJsZWRcIix2b2lkIDApLHdyKFt0LklucHV0KCksT3IoXCJkZXNpZ246dHlwZVwiLFN0cmluZyldLGUucHJvdG90eXBlLFwiZG93bkJ0bkFyaWFMYWJlbFwiLHZvaWQgMCksd3IoW3QuSW5wdXQoKSxPcihcImRlc2lnbjp0eXBlXCIsQm9vbGVhbildLGUucHJvdG90eXBlLFwiZG93bkJ0bkRpc2FibGVkXCIsdm9pZCAwKSx3cihbdC5JbnB1dCgpLE9yKFwiZGVzaWduOnR5cGVcIixOdW1iZXIpXSxlLnByb3RvdHlwZSxcImJveFZhbHVlXCIsdm9pZCAwKSx3cihbdC5JbnB1dCgpLE9yKFwiZGVzaWduOnR5cGVcIixOdW1iZXIpXSxlLnByb3RvdHlwZSxcInZhbHVlXCIsdm9pZCAwKSx3cihbdC5JbnB1dCgpLE9yKFwiZGVzaWduOnR5cGVcIixOdW1iZXIpXSxlLnByb3RvdHlwZSxcIm1pblwiLHZvaWQgMCksd3IoW3QuSW5wdXQoKSxPcihcImRlc2lnbjp0eXBlXCIsTnVtYmVyKV0sZS5wcm90b3R5cGUsXCJtYXhcIix2b2lkIDApLHdyKFt0LklucHV0KCksT3IoXCJkZXNpZ246dHlwZVwiLE9iamVjdCldLGUucHJvdG90eXBlLFwic3RlcFwiLHZvaWQgMCksd3IoW3QuSW5wdXQoKSxPcihcImRlc2lnbjp0eXBlXCIsU3RyaW5nKV0sZS5wcm90b3R5cGUsXCJpbnB1dExhYmVsXCIsdm9pZCAwKSx3cihbdC5PdXRwdXQoKSxPcihcImRlc2lnbjp0eXBlXCIsT2JqZWN0KV0sZS5wcm90b3R5cGUsXCJ2YWx1ZUNoYW5nZVwiLHZvaWQgMCksd3IoW3QuT3V0cHV0KCksT3IoXCJkZXNpZ246dHlwZVwiLE9iamVjdCldLGUucHJvdG90eXBlLFwiaW5wdXRDaGFuZ2VcIix2b2lkIDApLHdyKFt0Lkhvc3RCaW5kaW5nKFwiY2xhc3Mub3dsLWR0LXRpbWVyLWJveFwiKSxPcihcImRlc2lnbjp0eXBlXCIsQm9vbGVhbiksT3IoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtdKV0sZS5wcm90b3R5cGUsXCJvd2xEVFRpbWVyQm94Q2xhc3NcIixudWxsKSxlPXdyKFt0LkNvbXBvbmVudCh7ZXhwb3J0QXM6XCJvd2xEYXRlVGltZVRpbWVyQm94XCIsc2VsZWN0b3I6XCJvd2wtZGF0ZS10aW1lLXRpbWVyLWJveFwiLHRlbXBsYXRlOic8ZGl2ICpuZ0lmPVwic2hvd0RpdmlkZXJcIiBjbGFzcz1cIm93bC1kdC10aW1lci1kaXZpZGVyXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9kaXY+PGJ1dHRvbiBjbGFzcz1cIm93bC1kdC1jb250cm9sLWJ1dHRvbiBvd2wtZHQtY29udHJvbC1hcnJvdy1idXR0b25cIiB0eXBlPVwiYnV0dG9uXCIgdGFiaW5kZXg9XCItMVwiIFtkaXNhYmxlZF09XCJ1cEJ0bkRpc2FibGVkXCIgW2F0dHIuYXJpYS1sYWJlbF09XCJ1cEJ0bkFyaWFMYWJlbFwiIChjbGljayk9XCJ1cEJ0bkNsaWNrZWQoKVwiPjxzcGFuIGNsYXNzPVwib3dsLWR0LWNvbnRyb2wtYnV0dG9uLWNvbnRlbnRcIiB0YWJpbmRleD1cIi0xXCI+XFx4M2MhLS0gPGVkaXRvci1mb2xkIGRlc2M9XCJTVkcgQXJyb3cgVXBcIj4gLS1cXHgzZSA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB4bWxuczp4bGluaz1cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIiB2ZXJzaW9uPVwiMS4xXCIgeD1cIjBweFwiIHk9XCIwcHhcIiB2aWV3Qm94PVwiMCAwIDQ1MS44NDcgNDUxLjg0NlwiIHN0eWxlPVwiZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NTEuODQ3IDQ1MS44NDY7XCIgeG1sOnNwYWNlPVwicHJlc2VydmVcIiB3aWR0aD1cIjEwMCVcIiBoZWlnaHQ9XCIxMDAlXCI+PHBhdGggZD1cIk0yNDguMjkyLDEwNi40MDZsMTk0LjI4MSwxOTQuMjljMTIuMzY1LDEyLjM1OSwxMi4zNjUsMzIuMzkxLDAsNDQuNzQ0Yy0xMi4zNTQsMTIuMzU0LTMyLjM5MSwxMi4zNTQtNDQuNzQ0LDBcXG4gICAgICAgICAgICAgICAgICAgICAgICBMMjI1LjkyMywxNzMuNTI5TDU0LjAxOCwzNDUuNDRjLTEyLjM2LDEyLjM1NC0zMi4zOTUsMTIuMzU0LTQ0Ljc0OCwwYy0xMi4zNTktMTIuMzU0LTEyLjM1OS0zMi4zOTEsMC00NC43NUwyMDMuNTU0LDEwNi40XFxuICAgICAgICAgICAgICAgICAgICAgICAgYzYuMTgtNi4xNzQsMTQuMjcxLTkuMjU5LDIyLjM2OS05LjI1OUMyMzQuMDE4LDk3LjE0MSwyNDIuMTE1LDEwMC4yMzIsMjQ4LjI5MiwxMDYuNDA2elwiLz48L3N2Zz5cXHgzYyEtLSA8L2VkaXRvci1mb2xkPiAtLVxceDNlPC9zcGFuPjwvYnV0dG9uPjxsYWJlbCBjbGFzcz1cIm93bC1kdC10aW1lci1jb250ZW50XCI+PGlucHV0IGNsYXNzPVwib3dsLWR0LXRpbWVyLWlucHV0XCIgbWF4bGVuZ3RoPVwiMlwiIFt2YWx1ZV09XCJkaXNwbGF5VmFsdWUgfCBudW1iZXJGaXhlZExlbiA6IDJcIiAoaW5wdXQpPVwiaGFuZGxlSW5wdXRDaGFuZ2UodmFsdWVJbnB1dC52YWx1ZSlcIiAjdmFsdWVJbnB1dD4gPHNwYW4gY2xhc3M9XCJvd2wtaGlkZGVuLWFjY2Vzc2libGVcIj57e2lucHV0TGFiZWx9fTwvc3Bhbj48L2xhYmVsPjxidXR0b24gY2xhc3M9XCJvd2wtZHQtY29udHJvbC1idXR0b24gb3dsLWR0LWNvbnRyb2wtYXJyb3ctYnV0dG9uXCIgdHlwZT1cImJ1dHRvblwiIHRhYmluZGV4PVwiLTFcIiBbZGlzYWJsZWRdPVwiZG93bkJ0bkRpc2FibGVkXCIgW2F0dHIuYXJpYS1sYWJlbF09XCJkb3duQnRuQXJpYUxhYmVsXCIgKGNsaWNrKT1cImRvd25CdG5DbGlja2VkKClcIj48c3BhbiBjbGFzcz1cIm93bC1kdC1jb250cm9sLWJ1dHRvbi1jb250ZW50XCIgdGFiaW5kZXg9XCItMVwiPlxceDNjIS0tIDxlZGl0b3ItZm9sZCBkZXNjPVwiU1ZHIEFycm93IERvd25cIj4gLS1cXHgzZSA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB4bWxuczp4bGluaz1cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIiB2ZXJzaW9uPVwiMS4xXCIgeD1cIjBweFwiIHk9XCIwcHhcIiB2aWV3Qm94PVwiMCAwIDQ1MS44NDcgNDUxLjg0NlwiIHN0eWxlPVwiZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NTEuODQ3IDQ1MS44NDY7XCIgeG1sOnNwYWNlPVwicHJlc2VydmVcIiB3aWR0aD1cIjEwMCVcIiBoZWlnaHQ9XCIxMDAlXCI+PHBhdGggZD1cIk0yMjUuOTIzLDM1NC43MDZjLTguMDk4LDAtMTYuMTk1LTMuMDkyLTIyLjM2OS05LjI2M0w5LjI3LDE1MS4xNTdjLTEyLjM1OS0xMi4zNTktMTIuMzU5LTMyLjM5NywwLTQ0Ljc1MVxcbiAgICAgICAgICAgICAgICAgICAgICAgIGMxMi4zNTQtMTIuMzU0LDMyLjM4OC0xMi4zNTQsNDQuNzQ4LDBsMTcxLjkwNSwxNzEuOTE1bDE3MS45MDYtMTcxLjkwOWMxMi4zNTktMTIuMzU0LDMyLjM5MS0xMi4zNTQsNDQuNzQ0LDBcXG4gICAgICAgICAgICAgICAgICAgICAgICBjMTIuMzY1LDEyLjM1NCwxMi4zNjUsMzIuMzkyLDAsNDQuNzUxTDI0OC4yOTIsMzQ1LjQ0OUMyNDIuMTE1LDM1MS42MjEsMjM0LjAxOCwzNTQuNzA2LDIyNS45MjMsMzU0LjcwNnpcIi8+PC9zdmc+XFx4M2MhLS0gPC9lZGl0b3ItZm9sZD4gLS1cXHgzZTwvc3Bhbj48L2J1dHRvbj4nLHN0eWxlczpbXCJcIl0scHJlc2VydmVXaGl0ZXNwYWNlczohMSxjaGFuZ2VEZXRlY3Rpb246dC5DaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2h9KSxPcihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW10pXSxlKX0oKSxDcj1mdW5jdGlvbihlLHQsbixpKXt2YXIgcixvPWFyZ3VtZW50cy5sZW5ndGgscz1vPDM/dDpudWxsPT09aT9pPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxuKTppO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBSZWZsZWN0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBSZWZsZWN0LmRlY29yYXRlKXM9UmVmbGVjdC5kZWNvcmF0ZShlLHQsbixpKTtlbHNlIGZvcih2YXIgYT1lLmxlbmd0aC0xO2E+PTA7YS0tKShyPWVbYV0pJiYocz0obzwzP3Iocyk6bz4zP3IodCxuLHMpOnIodCxuKSl8fHMpO3JldHVybiBvPjMmJnMmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG4scyksc30sVHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlLnByb3RvdHlwZS50cmFuc2Zvcm09ZnVuY3Rpb24oZSx0KXt2YXIgbj1NYXRoLmZsb29yKGUpLGk9TWF0aC5mbG9vcih0KTtpZihudWxsPT09ZXx8aXNOYU4obil8fGlzTmFOKGkpKXJldHVybiBlO2Zvcih2YXIgcj1uLnRvU3RyaW5nKCk7ci5sZW5ndGg8aTspcj1cIjBcIityO3JldHVybiByfSxlPUNyKFt0LlBpcGUoe25hbWU6XCJudW1iZXJGaXhlZExlblwifSldLGUpfSgpLFNyPShYaT1mdW5jdGlvbihlLHQpe3JldHVybihYaT1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24oZSx0KXtlLl9fcHJvdG9fXz10fXx8ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4gaW4gdCl0Lmhhc093blByb3BlcnR5KG4pJiYoZVtuXT10W25dKX0pKGUsdCl9LGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9ZX1YaShlLHQpLGUucHJvdG90eXBlPW51bGw9PT10P09iamVjdC5jcmVhdGUodCk6KG4ucHJvdG90eXBlPXQucHJvdG90eXBlLG5ldyBuKX0pLERyPWZ1bmN0aW9uKGUsdCxuLGkpe3ZhciByLG89YXJndW1lbnRzLmxlbmd0aCxzPW88Mz90Om51bGw9PT1pP2k9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LG4pOmk7aWYoXCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3QmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUpcz1SZWZsZWN0LmRlY29yYXRlKGUsdCxuLGkpO2Vsc2UgZm9yKHZhciBhPWUubGVuZ3RoLTE7YT49MDthLS0pKHI9ZVthXSkmJihzPShvPDM/cihzKTpvPjM/cih0LG4scyk6cih0LG4pKXx8cyk7cmV0dXJuIG8+MyYmcyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsbixzKSxzfSxJcj1mdW5jdGlvbihlLHQpe2lmKFwib2JqZWN0XCI9PXR5cGVvZiBSZWZsZWN0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhKXJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKGUsdCl9LE1yPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKG4saSl7dChuLGksZSl9fSxFcj17cHJvdmlkZTpyLk5HX1ZBTFVFX0FDQ0VTU09SLHVzZUV4aXN0aW5nOnQuZm9yd2FyZFJlZihmdW5jdGlvbigpe3JldHVybiB4cn0pLG11bHRpOiEwfSx4cj1mdW5jdGlvbihlKXtmdW5jdGlvbiBuKG4saSxyKXt2YXIgbz1lLmNhbGwodGhpcyxpLHIpfHx0aGlzO3JldHVybiBvLmNoYW5nZURldGVjdG9yPW4sby5kYXRlVGltZUFkYXB0ZXI9aSxvLmRhdGVUaW1lRm9ybWF0cz1yLG8uX3BpY2tlclR5cGU9XCJib3RoXCIsby5fZGlzYWJsZWQ9ITEsby5fc2VsZWN0TW9kZT1cInNpbmdsZVwiLG8uX3ZhbHVlcz1bXSxvLnllYXJTZWxlY3RlZD1uZXcgdC5FdmVudEVtaXR0ZXIsby5tb250aFNlbGVjdGVkPW5ldyB0LkV2ZW50RW1pdHRlcixvLl9zZWxlY3RlZHM9W10sby5vbk1vZGVsQ2hhbmdlPWZ1bmN0aW9uKCl7fSxvLm9uTW9kZWxUb3VjaGVkPWZ1bmN0aW9uKCl7fSxvfXJldHVybiBTcihuLGUpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLnByb3RvdHlwZSxcInBpY2tlclR5cGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BpY2tlclR5cGV9LHNldDpmdW5jdGlvbihlKXtlIT09dGhpcy5fcGlja2VyVHlwZSYmKHRoaXMuX3BpY2tlclR5cGU9ZSl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KG4ucHJvdG90eXBlLFwiZGlzYWJsZWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLl9kaXNhYmxlZH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2Rpc2FibGVkPWR0KGUpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLnByb3RvdHlwZSxcInNlbGVjdE1vZGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NlbGVjdE1vZGV9LHNldDpmdW5jdGlvbihlKXtpZihcInNpbmdsZVwiIT09ZSYmXCJyYW5nZVwiIT09ZSYmXCJyYW5nZUZyb21cIiE9PWUmJlwicmFuZ2VUb1wiIT09ZSl0aHJvdyBFcnJvcihcIk93bERhdGVUaW1lIEVycm9yOiBpbnZhbGlkIHNlbGVjdE1vZGUgdmFsdWUhXCIpO3RoaXMuX3NlbGVjdE1vZGU9ZX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkobi5wcm90b3R5cGUsXCJzdGFydEF0XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdGFydEF0P3RoaXMuX3N0YXJ0QXQ6XCJzaW5nbGVcIj09PXRoaXMuc2VsZWN0TW9kZT90aGlzLnZhbHVlfHxudWxsOlwicmFuZ2VcIj09PXRoaXMuc2VsZWN0TW9kZXx8XCJyYW5nZUZyb21cIj09PXRoaXMuc2VsZWN0TW9kZT90aGlzLnZhbHVlc1swXXx8bnVsbDpcInJhbmdlVG9cIj09PXRoaXMuc2VsZWN0TW9kZT90aGlzLnZhbHVlc1sxXXx8bnVsbDpudWxsfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fc3RhcnRBdD10aGlzLmdldFZhbGlkRGF0ZSh0aGlzLmRhdGVUaW1lQWRhcHRlci5kZXNlcmlhbGl6ZShlKSl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KG4ucHJvdG90eXBlLFwiZGF0ZVRpbWVGaWx0ZXJcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RhdGVUaW1lRmlsdGVyfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fZGF0ZVRpbWVGaWx0ZXI9ZX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkobi5wcm90b3R5cGUsXCJtaW5EYXRlVGltZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWlufHxudWxsfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fbWluPXRoaXMuZ2V0VmFsaWREYXRlKHRoaXMuZGF0ZVRpbWVBZGFwdGVyLmRlc2VyaWFsaXplKGUpKSx0aGlzLmNoYW5nZURldGVjdG9yLm1hcmtGb3JDaGVjaygpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLnByb3RvdHlwZSxcIm1heERhdGVUaW1lXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tYXh8fG51bGx9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9tYXg9dGhpcy5nZXRWYWxpZERhdGUodGhpcy5kYXRlVGltZUFkYXB0ZXIuZGVzZXJpYWxpemUoZSkpLHRoaXMuY2hhbmdlRGV0ZWN0b3IubWFya0ZvckNoZWNrKCl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KG4ucHJvdG90eXBlLFwidmFsdWVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ZhbHVlfSxzZXQ6ZnVuY3Rpb24oZSl7ZT10aGlzLmRhdGVUaW1lQWRhcHRlci5kZXNlcmlhbGl6ZShlKSxlPXRoaXMuZ2V0VmFsaWREYXRlKGUpLHRoaXMuX3ZhbHVlPWUsdGhpcy5zZWxlY3RlZD1lfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLnByb3RvdHlwZSxcInZhbHVlc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdmFsdWVzfSxzZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztlJiZlLmxlbmd0aD4wPyhlPWUubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlPXQuZGF0ZVRpbWVBZGFwdGVyLmRlc2VyaWFsaXplKGUpLChlPXQuZ2V0VmFsaWREYXRlKGUpKT90LmRhdGVUaW1lQWRhcHRlci5jbG9uZShlKTpudWxsfSksdGhpcy5fdmFsdWVzPWUuc2xpY2UoKSx0aGlzLnNlbGVjdGVkcz1lLnNsaWNlKCkpOih0aGlzLl92YWx1ZXM9W10sdGhpcy5zZWxlY3RlZHM9W10pfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLnByb3RvdHlwZSxcInNlbGVjdGVkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZWxlY3RlZH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX3NlbGVjdGVkPWUsdGhpcy5jaGFuZ2VEZXRlY3Rvci5tYXJrRm9yQ2hlY2soKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkobi5wcm90b3R5cGUsXCJzZWxlY3RlZHNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NlbGVjdGVkc30sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX3NlbGVjdGVkcz1lLHRoaXMuY2hhbmdlRGV0ZWN0b3IubWFya0ZvckNoZWNrKCl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KG4ucHJvdG90eXBlLFwib3BlbmVkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiEwfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLnByb3RvdHlwZSxcInBpY2tlck1vZGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuXCJpbmxpbmVcIn0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkobi5wcm90b3R5cGUsXCJpc0luU2luZ2xlTW9kZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm5cInNpbmdsZVwiPT09dGhpcy5fc2VsZWN0TW9kZX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkobi5wcm90b3R5cGUsXCJpc0luUmFuZ2VNb2RlXCIse2dldDpmdW5jdGlvbigpe3JldHVyblwicmFuZ2VcIj09PXRoaXMuX3NlbGVjdE1vZGV8fFwicmFuZ2VGcm9tXCI9PT10aGlzLl9zZWxlY3RNb2RlfHxcInJhbmdlVG9cIj09PXRoaXMuX3NlbGVjdE1vZGV9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KG4ucHJvdG90eXBlLFwib3dsRFRJbmxpbmVDbGFzc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4hMH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxuLnByb3RvdHlwZS5uZ09uSW5pdD1mdW5jdGlvbigpe3RoaXMuY29udGFpbmVyLnBpY2tlcj10aGlzfSxuLnByb3RvdHlwZS53cml0ZVZhbHVlPWZ1bmN0aW9uKGUpe3RoaXMuaXNJblNpbmdsZU1vZGU/KHRoaXMudmFsdWU9ZSx0aGlzLmNvbnRhaW5lci5waWNrZXJNb21lbnQ9ZSk6KHRoaXMudmFsdWVzPWUsdGhpcy5jb250YWluZXIucGlja2VyTW9tZW50PXRoaXMuX3ZhbHVlc1t0aGlzLmNvbnRhaW5lci5hY3RpdmVTZWxlY3RlZEluZGV4XSl9LG4ucHJvdG90eXBlLnJlZ2lzdGVyT25DaGFuZ2U9ZnVuY3Rpb24oZSl7dGhpcy5vbk1vZGVsQ2hhbmdlPWV9LG4ucHJvdG90eXBlLnJlZ2lzdGVyT25Ub3VjaGVkPWZ1bmN0aW9uKGUpe3RoaXMub25Nb2RlbFRvdWNoZWQ9ZX0sbi5wcm90b3R5cGUuc2V0RGlzYWJsZWRTdGF0ZT1mdW5jdGlvbihlKXt0aGlzLmRpc2FibGVkPWV9LG4ucHJvdG90eXBlLnNlbGVjdD1mdW5jdGlvbihlKXt0aGlzLmRpc2FibGVkfHwoQXJyYXkuaXNBcnJheShlKT90aGlzLnZhbHVlcz1lLnNsaWNlKCk6dGhpcy52YWx1ZT1lLHRoaXMub25Nb2RlbENoYW5nZShlKSx0aGlzLm9uTW9kZWxUb3VjaGVkKCkpfSxuLnByb3RvdHlwZS5zZWxlY3RZZWFyPWZ1bmN0aW9uKGUpe3RoaXMueWVhclNlbGVjdGVkLmVtaXQoZSl9LG4ucHJvdG90eXBlLnNlbGVjdE1vbnRoPWZ1bmN0aW9uKGUpe3RoaXMubW9udGhTZWxlY3RlZC5lbWl0KGUpfSxEcihbdC5WaWV3Q2hpbGQoZmkpLElyKFwiZGVzaWduOnR5cGVcIixmaSldLG4ucHJvdG90eXBlLFwiY29udGFpbmVyXCIsdm9pZCAwKSxEcihbdC5JbnB1dCgpLElyKFwiZGVzaWduOnR5cGVcIixTdHJpbmcpLElyKFwiZGVzaWduOnBhcmFtdHlwZXNcIixbU3RyaW5nXSldLG4ucHJvdG90eXBlLFwicGlja2VyVHlwZVwiLG51bGwpLERyKFt0LklucHV0KCksSXIoXCJkZXNpZ246dHlwZVwiLEJvb2xlYW4pLElyKFwiZGVzaWduOnBhcmFtdHlwZXNcIixbQm9vbGVhbl0pXSxuLnByb3RvdHlwZSxcImRpc2FibGVkXCIsbnVsbCksRHIoW3QuSW5wdXQoKSxJcihcImRlc2lnbjp0eXBlXCIsU3RyaW5nKSxJcihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW1N0cmluZ10pXSxuLnByb3RvdHlwZSxcInNlbGVjdE1vZGVcIixudWxsKSxEcihbdC5JbnB1dCgpLElyKFwiZGVzaWduOnR5cGVcIixPYmplY3QpLElyKFwiZGVzaWduOnBhcmFtdHlwZXNcIixbT2JqZWN0XSldLG4ucHJvdG90eXBlLFwic3RhcnRBdFwiLG51bGwpLERyKFt0LklucHV0KFwib3dsRGF0ZVRpbWVGaWx0ZXJcIiksSXIoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxJcihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW0Z1bmN0aW9uXSldLG4ucHJvdG90eXBlLFwiZGF0ZVRpbWVGaWx0ZXJcIixudWxsKSxEcihbdC5JbnB1dChcIm1pblwiKSxJcihcImRlc2lnbjp0eXBlXCIsT2JqZWN0KSxJcihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW09iamVjdF0pXSxuLnByb3RvdHlwZSxcIm1pbkRhdGVUaW1lXCIsbnVsbCksRHIoW3QuSW5wdXQoXCJtYXhcIiksSXIoXCJkZXNpZ246dHlwZVwiLE9iamVjdCksSXIoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtPYmplY3RdKV0sbi5wcm90b3R5cGUsXCJtYXhEYXRlVGltZVwiLG51bGwpLERyKFt0LklucHV0KCksSXIoXCJkZXNpZ246dHlwZVwiLE9iamVjdCksSXIoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtPYmplY3RdKV0sbi5wcm90b3R5cGUsXCJ2YWx1ZVwiLG51bGwpLERyKFt0LklucHV0KCksSXIoXCJkZXNpZ246dHlwZVwiLEFycmF5KSxJcihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW0FycmF5XSldLG4ucHJvdG90eXBlLFwidmFsdWVzXCIsbnVsbCksRHIoW3QuT3V0cHV0KCksSXIoXCJkZXNpZ246dHlwZVwiLE9iamVjdCldLG4ucHJvdG90eXBlLFwieWVhclNlbGVjdGVkXCIsdm9pZCAwKSxEcihbdC5PdXRwdXQoKSxJcihcImRlc2lnbjp0eXBlXCIsT2JqZWN0KV0sbi5wcm90b3R5cGUsXCJtb250aFNlbGVjdGVkXCIsdm9pZCAwKSxEcihbdC5Ib3N0QmluZGluZyhcImNsYXNzLm93bC1kdC1pbmxpbmVcIiksSXIoXCJkZXNpZ246dHlwZVwiLEJvb2xlYW4pLElyKFwiZGVzaWduOnBhcmFtdHlwZXNcIixbXSldLG4ucHJvdG90eXBlLFwib3dsRFRJbmxpbmVDbGFzc1wiLG51bGwpLG49RHIoW3QuQ29tcG9uZW50KHtzZWxlY3RvcjpcIm93bC1kYXRlLXRpbWUtaW5saW5lXCIsdGVtcGxhdGU6XCI8b3dsLWRhdGUtdGltZS1jb250YWluZXI+PC9vd2wtZGF0ZS10aW1lLWNvbnRhaW5lcj5cIixzdHlsZXM6W1wiXCJdLGNoYW5nZURldGVjdGlvbjp0LkNoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCxwcmVzZXJ2ZVdoaXRlc3BhY2VzOiExLHByb3ZpZGVyczpbRXJdfSksTXIoMSx0Lk9wdGlvbmFsKCkpLE1yKDIsdC5PcHRpb25hbCgpKSxNcigyLHQuSW5qZWN0KHRpKSksSXIoXCJkZXNpZ246cGFyYW10eXBlc1wiLFt0LkNoYW5nZURldGVjdG9yUmVmLGVpLE9iamVjdF0pXSxuKX0odmkpLEFyPWZ1bmN0aW9uKGUsdCxuLGkpe3ZhciByLG89YXJndW1lbnRzLmxlbmd0aCxzPW88Mz90Om51bGw9PT1pP2k9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LG4pOmk7aWYoXCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3QmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUpcz1SZWZsZWN0LmRlY29yYXRlKGUsdCxuLGkpO2Vsc2UgZm9yKHZhciBhPWUubGVuZ3RoLTE7YT49MDthLS0pKHI9ZVthXSkmJihzPShvPDM/cihzKTpvPjM/cih0LG4scyk6cih0LG4pKXx8cyk7cmV0dXJuIG8+MyYmcyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsbixzKSxzfSxQcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGU9QXIoW3QuTmdNb2R1bGUoe2ltcG9ydHM6W24uQ29tbW9uTW9kdWxlLEtuLE5pLEh0XSxleHBvcnRzOltvaSxsaSxKaSxycixVaSx4cixfcix5cixocl0sZGVjbGFyYXRpb25zOltKaSxycixVaSxmaSxfcix5cixocixsaSxrcixvaSxjcixUcix4cl0scHJvdmlkZXJzOltHbixLaV0sZW50cnlDb21wb25lbnRzOltmaV19KV0sZSl9KCksanI9KCRpPWZ1bmN0aW9uKGUsdCl7cmV0dXJuKCRpPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbihlLHQpe2UuX19wcm90b19fPXR9fHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgbiBpbiB0KXQuaGFzT3duUHJvcGVydHkobikmJihlW25dPXRbbl0pfSkoZSx0KX0sZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfSRpKGUsdCksZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KToobi5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IG4pfSksUnI9ZnVuY3Rpb24oKXtyZXR1cm4oUnI9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG49MSxpPWFyZ3VtZW50cy5sZW5ndGg7bjxpO24rKyl7dD1hcmd1bWVudHNbbl07Zm9yKHZhciByIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikmJihlW3JdPXRbcl0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxWcj1mdW5jdGlvbihlLHQsbixpKXt2YXIgcixvPWFyZ3VtZW50cy5sZW5ndGgscz1vPDM/dDpudWxsPT09aT9pPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxuKTppO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBSZWZsZWN0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBSZWZsZWN0LmRlY29yYXRlKXM9UmVmbGVjdC5kZWNvcmF0ZShlLHQsbixpKTtlbHNlIGZvcih2YXIgYT1lLmxlbmd0aC0xO2E+PTA7YS0tKShyPWVbYV0pJiYocz0obzwzP3Iocyk6bz4zP3IodCxuLHMpOnIodCxuKSl8fHMpO3JldHVybiBvPjMmJnMmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG4scyksc30sRnI9ZnVuY3Rpb24oZSx0KXtpZihcIm9iamVjdFwiPT10eXBlb2YgUmVmbGVjdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSlyZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShlLHQpfSxMcj1mdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbihuLGkpe3QobixpLGUpfX0sQnI9e2xvbmc6W1wiSmFudWFyeVwiLFwiRmVicnVhcnlcIixcIk1hcmNoXCIsXCJBcHJpbFwiLFwiTWF5XCIsXCJKdW5lXCIsXCJKdWx5XCIsXCJBdWd1c3RcIixcIlNlcHRlbWJlclwiLFwiT2N0b2JlclwiLFwiTm92ZW1iZXJcIixcIkRlY2VtYmVyXCJdLHNob3J0OltcIkphblwiLFwiRmViXCIsXCJNYXJcIixcIkFwclwiLFwiTWF5XCIsXCJKdW5cIixcIkp1bFwiLFwiQXVnXCIsXCJTZXBcIixcIk9jdFwiLFwiTm92XCIsXCJEZWNcIl0sbmFycm93OltcIkpcIixcIkZcIixcIk1cIixcIkFcIixcIk1cIixcIkpcIixcIkpcIixcIkFcIixcIlNcIixcIk9cIixcIk5cIixcIkRcIl19LE5yPXtsb25nOltcIlN1bmRheVwiLFwiTW9uZGF5XCIsXCJUdWVzZGF5XCIsXCJXZWRuZXNkYXlcIixcIlRodXJzZGF5XCIsXCJGcmlkYXlcIixcIlNhdHVyZGF5XCJdLHNob3J0OltcIlN1blwiLFwiTW9uXCIsXCJUdWVcIixcIldlZFwiLFwiVGh1XCIsXCJGcmlcIixcIlNhdFwiXSxuYXJyb3c6W1wiU1wiLFwiTVwiLFwiVFwiLFwiV1wiLFwiVFwiLFwiRlwiLFwiU1wiXX0sWXI9V3IoMzEsZnVuY3Rpb24oZSl7cmV0dXJuIFN0cmluZyhlKzEpfSksSHI9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIEludGwsenI9L15cXGR7NH0tXFxkezJ9LVxcZHsyfSg/OlRcXGR7Mn06XFxkezJ9OlxcZHsyfSg/OlxcLlxcZCspPyg/Olp8KD86KD86XFwrfC0pXFxkezJ9OlxcZHsyfSkpPyk/JC87ZnVuY3Rpb24gV3IoZSx0KXtmb3IodmFyIG49QXJyYXkoZSksaT0wO2k8ZTtpKyspbltpXT10KGkpO3JldHVybiBufXZhciBacj1mdW5jdGlvbihlKXtmdW5jdGlvbiBuKHQsbil7dmFyIGk9ZS5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBpLm93bERhdGVUaW1lTG9jYWxlPXQsZS5wcm90b3R5cGUuc2V0TG9jYWxlLmNhbGwoaSx0KSxpLnVzZVV0Y0ZvckRpc3BsYXk9IW4uVFJJREVOVCxpLl9jbGFtcERhdGU9bi5UUklERU5UfHxuLkVER0UsaX1yZXR1cm4ganIobixlKSxuLnByb3RvdHlwZS5nZXRZZWFyPWZ1bmN0aW9uKGUpe3JldHVybiBlLmdldEZ1bGxZZWFyKCl9LG4ucHJvdG90eXBlLmdldE1vbnRoPWZ1bmN0aW9uKGUpe3JldHVybiBlLmdldE1vbnRoKCl9LG4ucHJvdG90eXBlLmdldERheT1mdW5jdGlvbihlKXtyZXR1cm4gZS5nZXREYXkoKX0sbi5wcm90b3R5cGUuZ2V0RGF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gZS5nZXREYXRlKCl9LG4ucHJvdG90eXBlLmdldEhvdXJzPWZ1bmN0aW9uKGUpe3JldHVybiBlLmdldEhvdXJzKCl9LG4ucHJvdG90eXBlLmdldE1pbnV0ZXM9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0TWludXRlcygpfSxuLnByb3RvdHlwZS5nZXRTZWNvbmRzPWZ1bmN0aW9uKGUpe3JldHVybiBlLmdldFNlY29uZHMoKX0sbi5wcm90b3R5cGUuZ2V0VGltZT1mdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRUaW1lKCl9LG4ucHJvdG90eXBlLmdldE51bURheXNJbk1vbnRoPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuY3JlYXRlRGF0ZVdpdGhPdmVyZmxvdyh0aGlzLmdldFllYXIoZSksdGhpcy5nZXRNb250aChlKSsxLDApO3JldHVybiB0aGlzLmdldERhdGUodCl9LG4ucHJvdG90eXBlLmRpZmZlcmVuY2VJbkNhbGVuZGFyRGF5cz1mdW5jdGlvbihlLHQpe2lmKHRoaXMuaXNWYWxpZChlKSYmdGhpcy5pc1ZhbGlkKHQpKXt2YXIgbj10aGlzLmNyZWF0ZURhdGUodGhpcy5nZXRZZWFyKGUpLHRoaXMuZ2V0TW9udGgoZSksdGhpcy5nZXREYXRlKGUpKSxpPXRoaXMuY3JlYXRlRGF0ZSh0aGlzLmdldFllYXIodCksdGhpcy5nZXRNb250aCh0KSx0aGlzLmdldERhdGUodCkpLHI9dGhpcy5nZXRUaW1lKG4pLW4uZ2V0VGltZXpvbmVPZmZzZXQoKSp0aGlzLm1pbGxpc2VvbmRzSW5NaW51dGUsbz10aGlzLmdldFRpbWUoaSktaS5nZXRUaW1lem9uZU9mZnNldCgpKnRoaXMubWlsbGlzZW9uZHNJbk1pbnV0ZTtyZXR1cm4gTWF0aC5yb3VuZCgoci1vKS90aGlzLm1pbGxpc2Vjb25kc0luRGF5KX1yZXR1cm4gbnVsbH0sbi5wcm90b3R5cGUuZ2V0WWVhck5hbWU9ZnVuY3Rpb24oZSl7aWYoSHIpe3ZhciB0PW5ldyBJbnRsLkRhdGVUaW1lRm9ybWF0KHRoaXMubG9jYWxlLHt5ZWFyOlwibnVtZXJpY1wiLHRpbWVab25lOlwidXRjXCJ9KTtyZXR1cm4gdGhpcy5zdHJpcERpcmVjdGlvbmFsaXR5Q2hhcmFjdGVycyh0aGlzLl9mb3JtYXQodCxlKSl9cmV0dXJuIFN0cmluZyh0aGlzLmdldFllYXIoZSkpfSxuLnByb3RvdHlwZS5nZXRNb250aE5hbWVzPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7aWYoSHIpe3ZhciBuPW5ldyBJbnRsLkRhdGVUaW1lRm9ybWF0KHRoaXMubG9jYWxlLHttb250aDplLHRpbWVab25lOlwidXRjXCJ9KTtyZXR1cm4gV3IoMTIsZnVuY3Rpb24oZSl7cmV0dXJuIHQuc3RyaXBEaXJlY3Rpb25hbGl0eUNoYXJhY3RlcnModC5fZm9ybWF0KG4sbmV3IERhdGUoMjAxNyxlLDEpKSl9KX1yZXR1cm4gQnJbZV19LG4ucHJvdG90eXBlLmdldERheU9mV2Vla05hbWVzPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7aWYoSHIpe3ZhciBuPW5ldyBJbnRsLkRhdGVUaW1lRm9ybWF0KHRoaXMubG9jYWxlLHt3ZWVrZGF5OmUsdGltZVpvbmU6XCJ1dGNcIn0pO3JldHVybiBXcig3LGZ1bmN0aW9uKGUpe3JldHVybiB0LnN0cmlwRGlyZWN0aW9uYWxpdHlDaGFyYWN0ZXJzKHQuX2Zvcm1hdChuLG5ldyBEYXRlKDIwMTcsMCxlKzEpKSl9KX1yZXR1cm4gTnJbZV19LG4ucHJvdG90eXBlLmdldERhdGVOYW1lcz1mdW5jdGlvbigpe3ZhciBlPXRoaXM7aWYoSHIpe3ZhciB0PW5ldyBJbnRsLkRhdGVUaW1lRm9ybWF0KHRoaXMubG9jYWxlLHtkYXk6XCJudW1lcmljXCIsdGltZVpvbmU6XCJ1dGNcIn0pO3JldHVybiBXcigzMSxmdW5jdGlvbihuKXtyZXR1cm4gZS5zdHJpcERpcmVjdGlvbmFsaXR5Q2hhcmFjdGVycyhlLl9mb3JtYXQodCxuZXcgRGF0ZSgyMDE3LDAsbisxKSkpfSl9cmV0dXJuIFlyfSxuLnByb3RvdHlwZS50b0lzbzg2MDE9ZnVuY3Rpb24oZSl7cmV0dXJuIGUudG9JU09TdHJpbmcoKX0sbi5wcm90b3R5cGUuaXNFcXVhbD1mdW5jdGlvbihlLHQpe3JldHVybiEoIXRoaXMuaXNWYWxpZChlKXx8IXRoaXMuaXNWYWxpZCh0KSkmJmUuZ2V0VGltZSgpPT09dC5nZXRUaW1lKCl9LG4ucHJvdG90eXBlLmlzU2FtZURheT1mdW5jdGlvbihlLHQpe2lmKHRoaXMuaXNWYWxpZChlKSYmdGhpcy5pc1ZhbGlkKHQpKXt2YXIgbj10aGlzLmNsb25lKGUpLGk9dGhpcy5jbG9uZSh0KTtyZXR1cm4gbi5zZXRIb3VycygwLDAsMCwwKSxpLnNldEhvdXJzKDAsMCwwLDApLG4uZ2V0VGltZSgpPT09aS5nZXRUaW1lKCl9cmV0dXJuITF9LG4ucHJvdG90eXBlLmlzVmFsaWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiFpc05hTihlLmdldFRpbWUoKSl9LG4ucHJvdG90eXBlLmludmFsaWQ9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IERhdGUoTmFOKX0sbi5wcm90b3R5cGUuaXNEYXRlSW5zdGFuY2U9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBEYXRlfSxuLnByb3RvdHlwZS5hZGRDYWxlbmRhclllYXJzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuYWRkQ2FsZW5kYXJNb250aHMoZSwxMip0KX0sbi5wcm90b3R5cGUuYWRkQ2FsZW5kYXJNb250aHM9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLmNsb25lKGUpO3Q9TnVtYmVyKHQpO3ZhciBpPW4uZ2V0TW9udGgoKSt0LHI9bmV3IERhdGUoMCk7ci5zZXRGdWxsWWVhcihuLmdldEZ1bGxZZWFyKCksaSwxKSxyLnNldEhvdXJzKDAsMCwwLDApO3ZhciBvPXRoaXMuZ2V0TnVtRGF5c0luTW9udGgocik7cmV0dXJuIG4uc2V0TW9udGgoaSxNYXRoLm1pbihvLG4uZ2V0RGF0ZSgpKSksbn0sbi5wcm90b3R5cGUuYWRkQ2FsZW5kYXJEYXlzPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5jbG9uZShlKTtyZXR1cm4gdD1OdW1iZXIodCksbi5zZXREYXRlKG4uZ2V0RGF0ZSgpK3QpLG59LG4ucHJvdG90eXBlLnNldEhvdXJzPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5jbG9uZShlKTtyZXR1cm4gbi5zZXRIb3Vycyh0KSxufSxuLnByb3RvdHlwZS5zZXRNaW51dGVzPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5jbG9uZShlKTtyZXR1cm4gbi5zZXRNaW51dGVzKHQpLG59LG4ucHJvdG90eXBlLnNldFNlY29uZHM9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLmNsb25lKGUpO3JldHVybiBuLnNldFNlY29uZHModCksbn0sbi5wcm90b3R5cGUuY3JlYXRlRGF0ZT1mdW5jdGlvbihlLHQsbixpLHIsbyl7aWYodm9pZCAwPT09aSYmKGk9MCksdm9pZCAwPT09ciYmKHI9MCksdm9pZCAwPT09byYmKG89MCksdDwwfHx0PjExKXRocm93IEVycm9yKCdJbnZhbGlkIG1vbnRoIGluZGV4IFwiJyt0KydcIi4gTW9udGggaW5kZXggaGFzIHRvIGJlIGJldHdlZW4gMCBhbmQgMTEuJyk7aWYobjwxKXRocm93IEVycm9yKCdJbnZhbGlkIGRhdGUgXCInK24rJ1wiLiBEYXRlIGhhcyB0byBiZSBncmVhdGVyIHRoYW4gMC4nKTtpZihpPDB8fGk+MjMpdGhyb3cgRXJyb3IoJ0ludmFsaWQgaG91cnMgXCInK2krJ1wiLiBIb3VycyBoYXMgdG8gYmUgYmV0d2VlbiAwIGFuZCAyMy4nKTtpZihyPDB8fHI+NTkpdGhyb3cgRXJyb3IoJ0ludmFsaWQgbWludXRlcyBcIicrcisnXCIuIE1pbnV0ZXMgaGFzIHRvIGJldHdlZW4gMCBhbmQgNTkuJyk7aWYobzwwfHxvPjU5KXRocm93IEVycm9yKCdJbnZhbGlkIHNlY29uZHMgXCInK28rJ1wiLiBTZWNvbmRzIGhhcyB0byBiZSBiZXR3ZWVuIDAgYW5kIDU5LicpO3ZhciBzPXRoaXMuY3JlYXRlRGF0ZVdpdGhPdmVyZmxvdyhlLHQsbixpLHIsbyk7aWYocy5nZXRNb250aCgpIT09dCl0aHJvdyBFcnJvcignSW52YWxpZCBkYXRlIFwiJytuKydcIiBmb3IgbW9udGggd2l0aCBpbmRleCBcIicrdCsnXCIuJyk7cmV0dXJuIHN9LG4ucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmNyZWF0ZURhdGUodGhpcy5nZXRZZWFyKGUpLHRoaXMuZ2V0TW9udGgoZSksdGhpcy5nZXREYXRlKGUpLHRoaXMuZ2V0SG91cnMoZSksdGhpcy5nZXRNaW51dGVzKGUpLHRoaXMuZ2V0U2Vjb25kcyhlKSl9LG4ucHJvdG90eXBlLm5vdz1mdW5jdGlvbigpe3JldHVybiBuZXcgRGF0ZX0sbi5wcm90b3R5cGUuZm9ybWF0PWZ1bmN0aW9uKGUsdCl7aWYoIXRoaXMuaXNWYWxpZChlKSl0aHJvdyBFcnJvcihcIkpTTmF0aXZlRGF0ZTogQ2Fubm90IGZvcm1hdCBpbnZhbGlkIGRhdGUuXCIpO2lmKEhyKXt0aGlzLl9jbGFtcERhdGUmJihlLmdldEZ1bGxZZWFyKCk8MXx8ZS5nZXRGdWxsWWVhcigpPjk5OTkpJiYoZT10aGlzLmNsb25lKGUpKS5zZXRGdWxsWWVhcihNYXRoLm1heCgxLE1hdGgubWluKDk5OTksZS5nZXRGdWxsWWVhcigpKSkpLHQ9UnIoe30sdCx7dGltZVpvbmU6XCJ1dGNcIn0pO3ZhciBuPW5ldyBJbnRsLkRhdGVUaW1lRm9ybWF0KHRoaXMubG9jYWxlLHQpO3JldHVybiB0aGlzLnN0cmlwRGlyZWN0aW9uYWxpdHlDaGFyYWN0ZXJzKHRoaXMuX2Zvcm1hdChuLGUpKX1yZXR1cm4gdGhpcy5zdHJpcERpcmVjdGlvbmFsaXR5Q2hhcmFjdGVycyhlLnRvRGF0ZVN0cmluZygpKX0sbi5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oZSx0KXtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgZT9uZXcgRGF0ZShlKTplP25ldyBEYXRlKERhdGUucGFyc2UoZSkpOm51bGx9LG4ucHJvdG90eXBlLmRlc2VyaWFsaXplPWZ1bmN0aW9uKHQpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXtpZighdClyZXR1cm4gbnVsbDtpZih6ci50ZXN0KHQpKXt2YXIgbj1uZXcgRGF0ZSh0KTtpZih0aGlzLmlzVmFsaWQobikpcmV0dXJuIG59fXJldHVybiBlLnByb3RvdHlwZS5kZXNlcmlhbGl6ZS5jYWxsKHRoaXMsdCl9LG4ucHJvdG90eXBlLmNyZWF0ZURhdGVXaXRoT3ZlcmZsb3c9ZnVuY3Rpb24oZSx0LG4saSxyLG8pe3ZvaWQgMD09PWkmJihpPTApLHZvaWQgMD09PXImJihyPTApLHZvaWQgMD09PW8mJihvPTApO3ZhciBzPW5ldyBEYXRlKGUsdCxuLGkscixvKTtyZXR1cm4gZT49MCYmZTwxMDAmJnMuc2V0RnVsbFllYXIodGhpcy5nZXRZZWFyKHMpLTE5MDApLHN9LG4ucHJvdG90eXBlLnN0cmlwRGlyZWN0aW9uYWxpdHlDaGFyYWN0ZXJzPWZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoL1tcXHUyMDBlXFx1MjAwZl0vZyxcIlwiKX0sbi5wcm90b3R5cGUuX2Zvcm1hdD1mdW5jdGlvbihlLHQpe3ZhciBuPW5ldyBEYXRlKERhdGUuVVRDKHQuZ2V0RnVsbFllYXIoKSx0LmdldE1vbnRoKCksdC5nZXREYXRlKCksdC5nZXRIb3VycygpLHQuZ2V0TWludXRlcygpLHQuZ2V0U2Vjb25kcygpLHQuZ2V0TWlsbGlzZWNvbmRzKCkpKTtyZXR1cm4gZS5mb3JtYXQobil9LG49VnIoW3QuSW5qZWN0YWJsZSgpLExyKDAsdC5PcHRpb25hbCgpKSxMcigwLHQuSW5qZWN0KHFuKSksRnIoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtTdHJpbmcsYXRdKV0sbil9KGVpKSxYcj17cGFyc2VJbnB1dDpudWxsLGZ1bGxQaWNrZXJJbnB1dDp7eWVhcjpcIm51bWVyaWNcIixtb250aDpcIm51bWVyaWNcIixkYXk6XCJudW1lcmljXCIsaG91cjpcIm51bWVyaWNcIixtaW51dGU6XCJudW1lcmljXCJ9LGRhdGVQaWNrZXJJbnB1dDp7eWVhcjpcIm51bWVyaWNcIixtb250aDpcIm51bWVyaWNcIixkYXk6XCJudW1lcmljXCJ9LHRpbWVQaWNrZXJJbnB1dDp7aG91cjpcIm51bWVyaWNcIixtaW51dGU6XCJudW1lcmljXCJ9LG1vbnRoWWVhckxhYmVsOnt5ZWFyOlwibnVtZXJpY1wiLG1vbnRoOlwic2hvcnRcIn0sZGF0ZUExMXlMYWJlbDp7eWVhcjpcIm51bWVyaWNcIixtb250aDpcImxvbmdcIixkYXk6XCJudW1lcmljXCJ9LG1vbnRoWWVhckExMXlMYWJlbDp7eWVhcjpcIm51bWVyaWNcIixtb250aDpcImxvbmdcIn19LCRyPWZ1bmN0aW9uKGUsdCxuLGkpe3ZhciByLG89YXJndW1lbnRzLmxlbmd0aCxzPW88Mz90Om51bGw9PT1pP2k9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LG4pOmk7aWYoXCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3QmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUpcz1SZWZsZWN0LmRlY29yYXRlKGUsdCxuLGkpO2Vsc2UgZm9yKHZhciBhPWUubGVuZ3RoLTE7YT49MDthLS0pKHI9ZVthXSkmJihzPShvPDM/cihzKTpvPjM/cih0LG4scyk6cih0LG4pKXx8cyk7cmV0dXJuIG8+MyYmcyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsbixzKSxzfSxLcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGU9JHIoW3QuTmdNb2R1bGUoe2ltcG9ydHM6W2N0XSxwcm92aWRlcnM6W3twcm92aWRlOmVpLHVzZUNsYXNzOlpyfV19KV0sZSl9KCksVXI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlPSRyKFt0Lk5nTW9kdWxlKHtpbXBvcnRzOltLcl0scHJvdmlkZXJzOlt7cHJvdmlkZTp0aSx1c2VWYWx1ZTpYcn1dfSldLGUpfSgpO2UuT3dsRGF0ZVRpbWVNb2R1bGU9UHIsZS5Pd2xEYXRlVGltZUludGw9R24sZS5Pd2xOYXRpdmVEYXRlVGltZU1vZHVsZT1VcixlLk9XTF9EQVRFX1RJTUVfTE9DQUxFX1BST1ZJREVSPVFuLGUuT1dMX0RBVEVfVElNRV9MT0NBTEU9cW4sZS5EYXRlVGltZUFkYXB0ZXI9ZWksZS5PV0xfREFURV9USU1FX0ZPUk1BVFM9dGksZS5Pd2xEYXRlVGltZUlubGluZUNvbXBvbmVudD14cixlLk93bERhdGVUaW1lQ29tcG9uZW50PVVpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pfSk7XG4iXX0=